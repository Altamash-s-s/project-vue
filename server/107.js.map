{"version":3,"sources":["webpack:///./node_modules/@storefront-ui/vue/src/components/organisms/SfList/SfList.vue?f9e7","webpack:///./node_modules/@storefront-ui/vue/src/components/organisms/SfList/SfList.vue?76ed","webpack:///./node_modules/@storefront-ui/vue/src/components/organisms/SfList/SfList.vue?f0e2","webpack:///./node_modules/@storefront-ui/vue/src/components/organisms/SfList/_internal/SfListItem.vue?d985","webpack:///node_modules/@storefront-ui/vue/src/components/organisms/SfList/_internal/SfListItem.vue","webpack:///./node_modules/@storefront-ui/vue/src/components/organisms/SfList/_internal/SfListItem.vue?2f0c","webpack:///./node_modules/@storefront-ui/vue/src/components/organisms/SfList/_internal/SfListItem.vue","webpack:///node_modules/@storefront-ui/vue/src/components/organisms/SfList/SfList.vue","webpack:///./node_modules/@storefront-ui/vue/src/components/organisms/SfList/SfList.vue?4537","webpack:///./node_modules/@storefront-ui/vue/src/components/organisms/SfList/SfList.vue","webpack:///./modules/customer/pages/MyAccount/MyAccount.vue?f1be","webpack:///./modules/customer/pages/MyAccount/MyAccount.vue?c486","webpack:///./modules/customer/pages/MyAccount/MyAccount.vue?dfc1","webpack:///./modules/customer/pages/MyAccount/useSidebarLinkGroups.ts","webpack:///./modules/customer/pages/MyAccount/MyAccount.vue?020b","webpack:///./modules/customer/pages/MyAccount/MyAccount.vue?1abf","webpack:///./modules/customer/pages/MyAccount/MyAccount.vue"],"names":["name","Vue","useSidebarLinkGroups","localeRoute","useContext","logout","useUser","clear","useCart","router","useRouter","sidebarLinkGroups","title","items","id","label","link","logoutUser","push","defineComponent","components","SfBar","SfList","SfMenuItem","middleware","setup","route","useRoute","i18n","user","load","loadUser","useFetch","value","isOnSubpage","computed","matched","length","goToTopLevelRoute","t","at","meta","titleLabel","handlers","getHandler"],"mappings":"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","file":"107.js","sourcesContent":["// Exports\nmodule.exports = {\n\n};\n","export * from \"-!../../../../../../css-loader/dist/cjs.js??ref--7-oneOf-1-0!../../../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../../../postcss-loader/src/index.js??ref--7-oneOf-1-1!../../../../../../sass-loader/dist/cjs.js??ref--7-oneOf-1-2!../../../../../../sass-resources-loader/lib/loader.js??ref--7-oneOf-1-3!../../../../../../vue-loader/lib/index.js??vue-loader-options!./SfList.vue?vue&type=style&index=0&id=48004de8&prod&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"sf-list\"},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"sf-list__item\"},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <li class=\"sf-list__item\">\n    <slot />\n  </li>\n</template>\n<script>\nexport default {\n  name: \"SfListItem\",\n};\n</script>\n","import mod from \"-!../../../../../../../babel-loader/lib/index.js??ref--2-0!../../../../../../../vue-loader/lib/index.js??vue-loader-options!./SfListItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../babel-loader/lib/index.js??ref--2-0!../../../../../../../vue-loader/lib/index.js??vue-loader-options!./SfListItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SfListItem.vue?vue&type=template&id=b0da9c0c&\"\nimport script from \"./SfListItem.vue?vue&type=script&lang=js&\"\nexport * from \"./SfListItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  \"4db748b3\"\n  \n)\n\nexport default component.exports","<template>\n  <ul class=\"sf-list\">\n    <slot />\n  </ul>\n</template>\n<script>\nimport SfListItem from \"./_internal/SfListItem.vue\";\nimport Vue from \"vue\";\nVue.component(\"SfListItem\", SfListItem);\nexport default {\n  name: \"SfList\",\n};\n</script>\n<style lang=\"scss\">\n@import \"~@storefront-ui/shared/styles/components/organisms/SfList.scss\";\n</style>\n","import mod from \"-!../../../../../../babel-loader/lib/index.js??ref--2-0!../../../../../../vue-loader/lib/index.js??vue-loader-options!./SfList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../babel-loader/lib/index.js??ref--2-0!../../../../../../vue-loader/lib/index.js??vue-loader-options!./SfList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SfList.vue?vue&type=template&id=48004de8&\"\nimport script from \"./SfList.vue?vue&type=script&lang=js&\"\nexport * from \"./SfList.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./SfList.vue?vue&type=style&index=0&id=48004de8&prod&lang=scss&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  \"2287dc00\"\n  \n)\n\nexport default component.exports","// Exports\nmodule.exports = {\n\n};\n","export * from \"-!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-0!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-1!../../../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-2!../../../../node_modules/sass-resources-loader/lib/loader.js??ref--7-oneOf-1-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/unplugin/dist/webpack/loaders/transform.js??ref--15-0!./MyAccount.vue?vue&type=style&index=0&id=0b6b211b&prod&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"my-account\"}},[_vm._ssrNode(\"<div class=\\\"sf-content-pages my-account\\\" data-v-0b6b211b>\",\"</div>\",[_c('SfBar',{staticClass:\"smartphone-only\",attrs:{\"title\":_vm.title,\"back\":_vm.isOnSubpage},on:{\"click:back\":_vm.goToTopLevelRoute}}),_vm._ssrNode(\" \"),_vm._ssrNode(\"<section\"+(_vm._ssrClass(\"sf-content-pages__section\",{ 'is-active': _vm.isOnSubpage}))+\" data-v-0b6b211b>\",\"</section>\",[_vm._ssrNode(\"<div class=\\\"sf-content-pages__sidebar\\\" data-v-0b6b211b>\",\"</div>\",[_c('h1',{directives:[{name:\"t\",rawName:\"v-t\",value:('My Account'),expression:\"'My Account'\"}],staticClass:\"sf-content-pages__title desktop-only\"},[]),_vm._ssrNode(\" \"),_vm._l((_vm.sidebarLinkGroups),function(linkGroup){return _vm._ssrNode(\"<div data-v-0b6b211b>\",\"</div>\",[_c('h2',{directives:[{name:\"t\",rawName:\"v-t\",value:(linkGroup.title),expression:\"linkGroup.title\"}],staticClass:\"sf-content-pages__category-title\"},[]),_vm._ssrNode(\" \"),_c('SfList',{staticClass:\"sf-content-pages__list\"},_vm._l((linkGroup.items),function(item){return _c('li',{key:item.label,staticClass:\"sf-content-pages__list-item sf-list__item\"},[_c('SfMenuItem',_vm._g({staticClass:\"sf-content-pages__menu\",attrs:{\"label\":_vm.$t(item.label),\"link\":_vm.localeRoute(item.link)}},{ click: _vm.getHandler(item.id) }))],1)}),0)],2)})],2),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div class=\\\"sf-content-pages__content\\\" data-v-0b6b211b>\",\"</div>\",[(!_vm.$fetchState.pending)?_c('router-view'):_vm._e()],1)],2)],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import type { RawLocation } from 'vue-router';\n\nimport { useRouter, useContext } from '@nuxtjs/composition-api';\nimport { useUser } from '~/modules/customer/composables/useUser';\nimport { useCart } from '~/modules/checkout/composables/useCart';\n\ntype LinkGroup = { title: string, items: LinkGroupItem[] };\ntype LinkGroupItem = { id: string, label: string, link?: RawLocation };\n\nexport const useSidebarLinkGroups = () => {\n  const { localeRoute } = useContext();\n  const { logout } = useUser();\n  const { clear } = useCart();\n  const router = useRouter();\n\n  const sidebarLinkGroups : LinkGroup[] = [\n    {\n      title: 'Personal details',\n      items: [\n        {\n          id: 'my-profile',\n          label: 'My profile',\n          link: { name: 'customer-my-profile' },\n        },\n        {\n          id: 'address-details',\n          label: 'Addresses details',\n          link: { name: 'customer-addresses-details' },\n        },\n        {\n          id: 'my-newsletter',\n          label: 'My newsletter',\n          link: { name: 'customer-my-newsletter' },\n        },\n        {\n          id: 'my-wishlist',\n          label: 'My wishlist',\n          link: { name: 'customer-my-wishlist' },\n        },\n      ],\n    },\n    {\n      title: 'Order details',\n      items: [\n        {\n          id: 'order-history',\n          label: 'Order history',\n          link: { name: 'customer-order-history' },\n        },\n        {\n          id: 'my-reviews',\n          label: 'My reviews',\n          link: { name: 'customer-my-reviews' },\n        },\n        {\n          id: 'log-out',\n          label: 'Log out',\n        },\n      ],\n    },\n  ];\n\n  const logoutUser = async () => {\n    await logout({});\n    await clear({});\n    await router.push(localeRoute({ name: 'home' }));\n  };\n\n  return { sidebarLinkGroups, logoutUser };\n};\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  SfMenuItem, SfList, SfBar,\n} from '@storefront-ui/vue';\n\nimport {\n  defineComponent,\n  useContext,\n  useRouter,\n  useRoute,\n  computed,\n  useFetch,\n} from '@nuxtjs/composition-api';\nimport { useSidebarLinkGroups } from './useSidebarLinkGroups';\nimport { useUser } from '../../composables/useUser';\n\nexport default defineComponent({\n  name: 'MyAccount',\n  components: {\n    SfBar,\n    SfList,\n    SfMenuItem,\n  },\n  middleware: 'is-authenticated',\n  setup() {\n    const route = useRoute();\n    const router = useRouter();\n    const { i18n, localeRoute } = useContext();\n    const { user, load: loadUser } = useUser();\n\n    useFetch(async () => {\n      if (user.value === null) {\n        await loadUser();\n      }\n    });\n\n    const { sidebarLinkGroups, logoutUser } = useSidebarLinkGroups();\n\n    const isOnSubpage = computed(() => route.value.matched.length > 1);\n    const goToTopLevelRoute = () => router.push(localeRoute({ name: 'customer' }));\n    const title = computed(() => i18n.t(route.value.matched.at(-1)?.meta.titleLabel as string));\n\n    /**\n     * #tab-id: handler-name\n     */\n    const handlers = {\n      'log-out': logoutUser,\n    };\n\n    const getHandler = (id: string) => handlers[id] ?? {};\n\n    return {\n      sidebarLinkGroups,\n      title,\n      isOnSubpage,\n      goToTopLevelRoute,\n      logoutUser,\n      getHandler,\n    };\n  },\n});\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--13-0!../../../../node_modules/ts-loader/index.js??ref--13-1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/unplugin/dist/webpack/loaders/transform.js??ref--15-0!./MyAccount.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--13-0!../../../../node_modules/ts-loader/index.js??ref--13-1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/unplugin/dist/webpack/loaders/transform.js??ref--15-0!./MyAccount.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MyAccount.vue?vue&type=template&id=0b6b211b&scoped=true&\"\nimport script from \"./MyAccount.vue?vue&type=script&lang=ts&\"\nexport * from \"./MyAccount.vue?vue&type=script&lang=ts&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./MyAccount.vue?vue&type=style&index=0&id=0b6b211b&prod&lang=scss&scoped=true&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"0b6b211b\",\n  \"c5ae6066\"\n  \n)\n\nexport default component.exports"],"sourceRoot":""}