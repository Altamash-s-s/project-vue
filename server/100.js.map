{"version":3,"sources":["webpack:///./node_modules/@storefront-ui/vue/src/components/organisms/SfList/SfList.vue?f9e7","webpack:///./node_modules/@storefront-ui/vue/src/components/organisms/SfList/SfList.vue?76ed","webpack:///./node_modules/@storefront-ui/vue/src/components/organisms/SfList/SfList.vue?f0e2","webpack:///./node_modules/@storefront-ui/vue/src/components/organisms/SfList/_internal/SfListItem.vue?d985","webpack:///node_modules/@storefront-ui/vue/src/components/organisms/SfList/_internal/SfListItem.vue","webpack:///./node_modules/@storefront-ui/vue/src/components/organisms/SfList/_internal/SfListItem.vue?2f0c","webpack:///./node_modules/@storefront-ui/vue/src/components/organisms/SfList/_internal/SfListItem.vue","webpack:///node_modules/@storefront-ui/vue/src/components/organisms/SfList/SfList.vue","webpack:///./node_modules/@storefront-ui/vue/src/components/organisms/SfList/SfList.vue?4537","webpack:///./node_modules/@storefront-ui/vue/src/components/organisms/SfList/SfList.vue","webpack:///./modules/catalog/category/helpers/findActiveCategory.ts","webpack:///./modules/catalog/category/helpers/findCategoryAncestors.ts","webpack:///./modules/catalog/category/helpers/useTraverseCategory.ts","webpack:///./modules/catalog/category/components/sidebar/MobileCategorySidebar/MobileCategorySidebar.vue?debc","webpack:///./modules/catalog/category/components/sidebar/MobileCategorySidebar/MobileCategorySidebar.vue?a61d","webpack:///./modules/catalog/category/components/sidebar/MobileCategorySidebar/MobileCategorySidebar.vue?8aed","webpack:///./modules/catalog/category/components/sidebar/MobileCategorySidebar/logic.ts","webpack:///./modules/catalog/category/components/sidebar/MobileCategorySidebar/MobileCategorySidebar.vue?b3c6","webpack:///./modules/catalog/category/components/sidebar/MobileCategorySidebar/MobileCategorySidebar.vue?d6d3","webpack:///./modules/catalog/category/components/sidebar/MobileCategorySidebar/MobileCategorySidebar.vue"],"names":["name","Vue","findActiveCategory","categoryTree","toFind","findBy","categories","children","value","key","parent","findCategoryAncestors","node","startingArray","length","i","subnode","result","useTraverseCategory","context","useContext","categoryStore","useCategoryStore","route","useRoute","computed","isCategoryTreeLoaded","loadCategoryTree","load","activeCategory","urlPathToFind","path","replace","app","localePath","categoryAncestors","useMobileCategoryTree","initialHistory","history","ref","current","at","currentItems","onGoCategoryDown","category","push","onGoCategoryUp","pop","defineComponent","components","SfSidebar","SfList","SfMenuItem","setup","isMobileMenuOpen","toggleMobileMenu","useUiState","getCatLink","useUiHelpers","router","useRouter","navigate","initialHistoryWithSnippedSubcategoryLessTail","slice","currentCategory","itemsIncludedInMenu","topLevelItems","maybeCurrentCategoryItems","filter","item","include_in_menu"],"mappings":"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","file":"100.js","sourcesContent":["// Exports\nmodule.exports = {\n\n};\n","export * from \"-!../../../../../../css-loader/dist/cjs.js??ref--7-oneOf-1-0!../../../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../../../postcss-loader/src/index.js??ref--7-oneOf-1-1!../../../../../../sass-loader/dist/cjs.js??ref--7-oneOf-1-2!../../../../../../sass-resources-loader/lib/loader.js??ref--7-oneOf-1-3!../../../../../../vue-loader/lib/index.js??vue-loader-options!./SfList.vue?vue&type=style&index=0&id=48004de8&prod&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"sf-list\"},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"sf-list__item\"},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <li class=\"sf-list__item\">\n    <slot />\n  </li>\n</template>\n<script>\nexport default {\n  name: \"SfListItem\",\n};\n</script>\n","import mod from \"-!../../../../../../../babel-loader/lib/index.js??ref--2-0!../../../../../../../vue-loader/lib/index.js??vue-loader-options!./SfListItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../babel-loader/lib/index.js??ref--2-0!../../../../../../../vue-loader/lib/index.js??vue-loader-options!./SfListItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SfListItem.vue?vue&type=template&id=b0da9c0c&\"\nimport script from \"./SfListItem.vue?vue&type=script&lang=js&\"\nexport * from \"./SfListItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  \"4db748b3\"\n  \n)\n\nexport default component.exports","<template>\n  <ul class=\"sf-list\">\n    <slot />\n  </ul>\n</template>\n<script>\nimport SfListItem from \"./_internal/SfListItem.vue\";\nimport Vue from \"vue\";\nVue.component(\"SfListItem\", SfListItem);\nexport default {\n  name: \"SfList\",\n};\n</script>\n<style lang=\"scss\">\n@import \"~@storefront-ui/shared/styles/components/organisms/SfList.scss\";\n</style>\n","import mod from \"-!../../../../../../babel-loader/lib/index.js??ref--2-0!../../../../../../vue-loader/lib/index.js??vue-loader-options!./SfList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../babel-loader/lib/index.js??ref--2-0!../../../../../../vue-loader/lib/index.js??vue-loader-options!./SfList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SfList.vue?vue&type=template&id=48004de8&\"\nimport script from \"./SfList.vue?vue&type=script&lang=js&\"\nexport * from \"./SfList.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./SfList.vue?vue&type=style&index=0&id=48004de8&prod&lang=scss&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  \"2287dc00\"\n  \n)\n\nexport default component.exports","import findDeep from 'deepdash/findDeep';\nimport { CategoryTree } from '~/modules/GraphQL/types';\n\n/**\n * Traverse Category Tree to find and return active category by \"findBy\" param\n *\n * @param categoryTree CategoryTree\n * @param toFind string\n * @param findBy string (default = url_path)\n *\n * @return CategoryTree\n */\nexport function findActiveCategory(categoryTree: CategoryTree, toFind: string, findBy: keyof CategoryTree = 'url_path'): CategoryTree | null {\n  const categories = categoryTree?.children;\n\n  return categories\n    ? findDeep(categories, (value: string, key: string) => key === findBy && value === toFind)?.parent ?? null\n    : null;\n}\n","import { CategoryTree } from '~/modules/GraphQL/types';\n\n/*\n * Finds each category preceding `toFind` in the category tree\n * Uses a modified Breadth First Search algorithm to tell you if the toFind node exists how to get to it\n *\n * @param node CategoryTree\n * @param toFind CategoryTree\n * @param startingArray CategoryTree[]\n *\n * @returns Flat array of categories ([level1Obj, level2Obj, level3Obj])\n */\nexport function findCategoryAncestors(node: CategoryTree, toFind: CategoryTree, startingArray: CategoryTree[] = [])\n  : CategoryTree[] | null {\n  if (node === toFind) {\n    return startingArray;\n  }\n\n  if (node.children && node.children.length > 0) {\n    for (let i = 0; i < node.children.length; i += 1) {\n      const subnode = node.children[i];\n      const result = findCategoryAncestors(subnode, toFind, [...startingArray, subnode]);\n      if (result) return result;\n    }\n  }\n\n  return null;\n}\n","import {\n  computed, useContext, useRoute,\n} from '@nuxtjs/composition-api';\nimport { useCategoryStore } from '~/modules/catalog/category/stores/category';\nimport { findActiveCategory } from '~/modules/catalog/category/helpers/findActiveCategory';\nimport { findCategoryAncestors } from '~/modules/catalog/category/helpers/findCategoryAncestors';\n\n/**\n * Logic for finding the current product category and its parent and grandparent categories (ancestors)\n */\nexport function useTraverseCategory() {\n  const context = useContext();\n  const categoryStore = useCategoryStore();\n  const route = useRoute();\n\n  const categoryTree = computed(() => categoryStore.categories);\n  const isCategoryTreeLoaded = computed(() => categoryStore.categories !== null);\n  const loadCategoryTree = () => categoryStore.load();\n  const activeCategory = computed(() => {\n    // on localhost the default store is localhost:3000/default/ but in a multi-store Magento instance this can change\n    const urlPathToFind = route.value.path\n      .replace(context.app.localePath('/'), '')\n      .replace(/^\\//, '')\n      .replace('.html', '');\n\n    return categoryTree.value === null ? null : findActiveCategory(categoryTree.value, urlPathToFind);\n  });\n\n  const categoryAncestors = computed(() => (activeCategory.value === null\n    ? []\n    : findCategoryAncestors(categoryTree.value, activeCategory.value)) ?? []);\n\n  return {\n    activeCategory,\n    categoryAncestors,\n    categoryTree,\n    loadCategoryTree,\n    isCategoryTreeLoaded,\n  };\n}\n","// Exports\nmodule.exports = {\n\n};\n","export * from \"-!../../../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-0!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-1!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-2!../../../../../../node_modules/sass-resources-loader/lib/loader.js??ref--7-oneOf-1-3!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/unplugin/dist/webpack/loaders/transform.js??ref--15-0!./MobileCategorySidebar.vue?vue&type=style&index=0&id=6882cf18&prod&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('SfSidebar',{staticClass:\"mobile-menu-sidebar sf-sidebar--left\",attrs:{\"title\":_vm.currentCategory && _vm.currentCategory.name || _vm.$t('Menu'),\"visible\":\"\"},on:{\"close\":_vm.toggleMobileMenu}},[_c('SfList',{staticClass:\"mobile-menu-sidebar__list\"},[(_vm.currentCategory)?[_c('SfMenuItem',{staticClass:\"mobile-menu-sidebar__item\",attrs:{\"label\":_vm.$i18n.t('Go back')},on:{\"click\":function($event){return _vm.onGoCategoryUp()}},scopedSlots:_vm._u([{key:\"mobile-nav-icon\",fn:function(){return [_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}]})]},proxy:true}],null,false,3196345694)}),_vm._v(\" \"),_c('SfMenuItem',{staticClass:\"mobile-menu-sidebar__item\",attrs:{\"label\":_vm.$i18n.t('AllProductsFromCategory', { categoryName: _vm.currentCategory.name })},on:{\"click\":function($event){return _vm.navigate(_vm.currentCategory)}}})]:_vm._e(),_vm._v(\" \"),_vm._l((_vm.itemsIncludedInMenu),function(category){return _c('SfMenuItem',{key:category.uid,staticClass:\"mobile-menu-sidebar__item\",attrs:{\"label\":category.name},on:{\"click\":function($event){category.children && category.children.length > 0 ? _vm.onGoCategoryDown(category) : _vm.navigate(category)}}})})],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { computed, ref } from '@nuxtjs/composition-api';\nimport { CategoryTree } from '~/modules/GraphQL/types';\n\nexport const useMobileCategoryTree = (initialHistory: CategoryTree[] = []) => {\n  const history = ref<CategoryTree[]>(initialHistory);\n  const current = computed<CategoryTree | null>(() => history.value.at(-1) ?? null);\n  const currentItems = computed<CategoryTree[]>(() => current.value?.children);\n  const onGoCategoryDown = (category: CategoryTree) => {\n    history.value.push(category);\n  };\n  const onGoCategoryUp = () => history.value.pop();\n\n  return {\n    history,\n    current,\n    currentItems,\n    onGoCategoryUp,\n    onGoCategoryDown,\n  };\n};\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  SfSidebar, SfList, SfMenuItem,\n} from '@storefront-ui/vue';\nimport {\n  defineComponent, useRouter, useContext, computed,\n} from '@nuxtjs/composition-api';\nimport { useUiHelpers, useUiState } from '~/composables';\nimport { useTraverseCategory } from '~/modules/catalog/category/helpers/useTraverseCategory';\nimport { CategoryTree } from '~/modules/GraphQL/types';\nimport { useMobileCategoryTree } from './logic';\n\nexport default defineComponent({\n  components: {\n    SfSidebar,\n    SfList,\n    SfMenuItem,\n  },\n  setup() {\n    const { isMobileMenuOpen, toggleMobileMenu } = useUiState();\n    const { getCatLink } = useUiHelpers();\n    const router = useRouter();\n    const app = useContext();\n\n    const { categoryAncestors: initialHistory, categoryTree } = useTraverseCategory();\n\n    const navigate = (category: CategoryTree) => {\n      toggleMobileMenu();\n      const path = app.localePath(getCatLink(category) as string);\n      router.push(path);\n    };\n\n    // A category with no child categories can't be entered into - it can only navigated to\n    const initialHistoryWithSnippedSubcategoryLessTail = initialHistory.value.at(-1)?.children?.length\n      ? initialHistory.value\n      : initialHistory.value.slice(0, -1);\n\n    const {\n      current: currentCategory, history, currentItems, onGoCategoryUp, onGoCategoryDown,\n    } = useMobileCategoryTree(initialHistoryWithSnippedSubcategoryLessTail);\n\n    const itemsIncludedInMenu = computed(() => {\n      const topLevelItems = categoryTree.value.children;\n      const maybeCurrentCategoryItems = currentItems.value || topLevelItems;\n\n      return maybeCurrentCategoryItems.filter((item) => item.include_in_menu);\n    });\n\n    return {\n      currentCategory,\n      onGoCategoryUp,\n      onGoCategoryDown,\n      history,\n      navigate,\n      isMobileMenuOpen,\n      toggleMobileMenu,\n      itemsIncludedInMenu,\n    };\n  },\n});\n","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--13-0!../../../../../../node_modules/ts-loader/index.js??ref--13-1!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/unplugin/dist/webpack/loaders/transform.js??ref--15-0!./MobileCategorySidebar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--13-0!../../../../../../node_modules/ts-loader/index.js??ref--13-1!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/unplugin/dist/webpack/loaders/transform.js??ref--15-0!./MobileCategorySidebar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MobileCategorySidebar.vue?vue&type=template&id=6882cf18&scoped=true&\"\nimport script from \"./MobileCategorySidebar.vue?vue&type=script&lang=ts&\"\nexport * from \"./MobileCategorySidebar.vue?vue&type=script&lang=ts&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./MobileCategorySidebar.vue?vue&type=style&index=0&id=6882cf18&prod&lang=scss&scoped=true&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"6882cf18\",\n  \"5f030778\"\n  \n)\n\nexport default component.exports"],"sourceRoot":""}