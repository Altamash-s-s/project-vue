(window.webpackJsonp=window.webpackJsonp||[]).push([[83],{1012:function(t,e,n){"use strict";n.r(e);n(14),n(12),n(15),n(16),n(17);var r=n(4),o=n(11),l=n(2),c=(n(5),n(34),n(13),n(26),n(20),n(58),n(530)),d=n(49),f=n(0),v=n(206),h=n(513),_=n(84),m=n(538),y=n(508),S=n(222);function C(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function x(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?C(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):C(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var A=Object(f.b)({name:"AddressesDetails",components:{SfTabs:c.a,SfButton:d.a,SvgImage:_.a,UserAddressDetails:m.a,SkeletonLoader:y.a},setup:function(){var t=Object(f.s)(),e=Object(f.v)(),n=Object(f.l)([]),r=Object(f.l)([]),c=Object(v.a)(),d=c.load,_=c.remove,m=Object(S.a)().load,y=Object(f.t)(Object(l.a)(regeneratorRuntime.mark((function t(){var e,l,c,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([d(),m()]);case 2:e=t.sent,l=Object(o.a)(e,2),c=l[0],f=l[1],n.value=h.a.getAddresses(c),r.value=f;case 8:case"end":return t.stop()}}),t)})))).fetch,C=function(){var t=Object(l.a)(regeneratorRuntime.mark((function t(address){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_({address:address});case 2:y();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),A=Object(f.a)((function(){return n.value.map((function(address){var t,e;return x(x({},address),{},{countryName:null!==(e=null===(t=r.value.find((function(t){return t.id===address.country_code})))||void 0===t?void 0:t.full_name_locale)&&void 0!==e?e:address.country_code})}))}));return{countries:r,userAddresses:n,addressesWithCountryName:A,goToCreateAddressPage:function(){return e.push(t.localeRoute({name:"customer-addresses-details-new"}))},goToEditAddressPage:function(n){return e.push(t.localeRoute({name:"customer-addresses-details-edit",params:{addressId:String(n)}}))},removeAddress:C,getId:h.a.getId,isDefault:h.a.isDefault}}}),w=A,O=(n(777),n(9)),component=Object(O.a)(w,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade"}},[n("SfTabs",{staticClass:"tab-orphan"},[n("SfTab",{attrs:{title:t.$t("Addresses details")}},[n("p",{directives:[{name:"t",rawName:"v-t",value:"Manage addresses",expression:"'Manage addresses'"}],staticClass:"message"}),t._v(" "),t.$fetchState.pending?t._l(5,(function(e){return n("div",{key:e,staticClass:"address-skeleton"},[n("span",[n("SkeletonLoader",{staticClass:"address-skeleton__item",attrs:{width:"10em"}}),t._v(" "),n("SkeletonLoader",{staticClass:"address-skeleton__item",attrs:{width:"10em"}}),t._v(" "),n("SkeletonLoader",{staticClass:"address-skeleton__item",attrs:{width:"15em"}}),t._v(" "),n("SkeletonLoader",{staticClass:"address-skeleton__item",attrs:{width:"10em"}})],1),t._v(" "),n("span",{staticClass:"address-skeleton__button"},[n("SkeletonLoader",{attrs:{width:"131px",height:"51px",margin:"0"}}),t._v(" "),n("SkeletonLoader",{staticClass:"desktop-only",attrs:{width:"131px",height:"51px",margin:"0 0 0 var(--spacer-base) "}})],1)])})):n("transition-group",{staticClass:"addresses-list",attrs:{tag:"div",name:"fade"}},t._l(t.addressesWithCountryName,(function(address){return n("div",{key:t.getId(address),staticClass:"addresses"},[n("div",{staticClass:"addresses__content"},[n("div",{staticClass:"addresses__address"},[n("UserAddressDetails",{attrs:{address:address},scopedSlots:t._u([{key:"country",fn:function(){return[t._v("\n                  "+t._s(address.countryName)+"\n                ")]},proxy:!0}],null,!0)})],1)]),t._v(" "),n("div",{staticClass:"addresses__actions"},[n("SfButton",{on:{click:function(e){return t.goToEditAddressPage(address.id)}}},[t._v("\n              "+t._s(t.$t("Change"))+"\n            ")]),t._v(" "),t.isDefault(address)?t._e():n("SfButton",{staticClass:"desktop-only color-light addresses__button-delete",on:{click:function(e){return t.removeAddress(address)}}},[t._v("\n              "+t._s(t.$t("Delete"))+"\n            ")])],1),t._v(" "),t.isDefault(address)?t._e():n("SvgImage",{staticClass:"smartphone-only addresses__remove",attrs:{icon:"cross",label:t.$t("Remove Address"),role:"button",width:"14",height:"14"},nativeOn:{click:function(e){return t.removeAddress(address)}}})],1)})),0),t._v(" "),n("SfButton",{staticClass:"action-button",on:{click:function(e){return t.goToCreateAddressPage()}}},[t._v("\n        "+t._s(t.$t("Add new address"))+"\n      ")])],2)],1)],1)}),[],!1,null,"99edc25a",null);e.default=component.exports},469:function(t,e,n){},471:function(t,e,n){},474:function(t,e,n){},475:function(t,e,n){"use strict";n(469)},479:function(t,e,n){"use strict";n(471)},480:function(t,e,n){"use strict";var r={name:"SfChevron",directives:{focus:n(457).a}},o=(n(479),n(9)),component=Object(o.a)(r,(function(t,e){var n=e._c;return n("span",e._g(e._b({class:[e.data.class,e.data.staticClass,"sf-chevron"],style:[e.data.style,e.data.staticStyle]},"span",e.data.attrs,!1),e.listeners),[e._t("default",(function(){return[n("span",{staticClass:"sf-chevron__bar sf-chevron__bar--left"}),e._v(" "),n("span",{staticClass:"sf-chevron__bar sf-chevron__bar--right"})]}))],2)}),[],!0,null,null,null);e.a=component.exports},481:function(t,e,n){"use strict";var r={name:"SfScrollable",components:{SfButton:n(49).a},props:{maxContentHeight:{type:String,default:""},showText:{type:String,default:"Show"},hideText:{type:String,default:"Hide"}},data:function(){return{isHidden:!0,hasScroll:!1}},computed:{style:function(){return{"--_scrollable-max-height":this.maxContentHeight.trim()?this.maxContentHeight:void 0}}}},o=(n(475),n(9)),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sf-scrollable",class:{"is-open":!t.isHidden}},[n("div",{ref:"content",staticClass:"sf-scrollable__content",style:t.style},[t._t("default")],2),t._v(" "),t._t("view-all",(function(){return[n("SfButton",{directives:[{name:"show",rawName:"v-show",value:t.hasScroll,expression:"hasScroll"}],staticClass:"sf-button--text sf-scrollable__view-all",on:{click:function(e){t.isHidden=!t.isHidden}}},[t.isHidden?n("span",[t._v(t._s(t.showText))]):n("span",[t._v(t._s(t.hideText))])])]}),null,{hasScroll:t.hasScroll,showText:t.showText,hideText:t.hideText})],2)}),[],!1,null,null,null);e.a=component.exports},487:function(t,e,n){"use strict";n(474)},508:function(t,e,n){"use strict";var r=n(0),o=Object(r.b)({name:"SkeletonLoader",props:{isLoading:{type:Boolean,default:!0},animation:{type:[String,Boolean],default:"shimmer"},width:{type:String,default:""},height:{type:String,default:""},margin:{type:String,default:"0 0 1em 0"},radius:{type:String,default:"4px"},skeletonClass:{type:String,default:""}},setup:function(t){var e=Object(r.a)((function(){return["skeleton",t.skeletonClass,t.animation?"skeleton--".concat(t.animation):null]})),n=Object(r.l)({borderRadius:t.radius,margin:t.margin});return t.width&&(n.value.width=t.width),t.height&&(n.value.height=t.height),{componentClass:e,componentStyle:n}}}),l=(n(599),n(9)),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{class:t.componentClass,style:t.componentStyle,attrs:{"data-testid":"skeletonLoader"}},[t.isLoading?t._e():t._t("default")],2)}),[],!1,null,null,null);e.a=component.exports},513:function(t,e,n){"use strict";var r=n(11),o=(n(20),n(14),n(87),n(15),n(82)),l={getAddresses:function(t,e){var n,l;if(!t||0===t.length||!Array.isArray(t))return[];var c=null===(l=null===(n=null==t?void 0:t.map((function(a){return Object(o.b)(a)})))||void 0===n?void 0:n.sort((function(a,b){return a.default_shipping===b.default_shipping?0:a.default_shipping?-1:1})))||void 0===l?void 0:l.sort((function(a,b){return a.default_billing===b.default_billing?0:a.default_billing?-1:1}));if(!e||0===Object.keys(e).length)return c;var d=Object.entries(e);return c.filter((function(address){return d.every((function(t){var e=Object(r.a)(t,2),n=e[0],o=e[1];return address[n]===o}))}))},getTotal:function(t){return t.length},getPostCode:function(address){return(null==address?void 0:address.postcode)||""},getStreetName:function(address){return Array.isArray(null==address?void 0:address.street)?null==address?void 0:address.street[0]:null==address?void 0:address.street},getCity:function(address){return(null==address?void 0:address.city)||""},getFirstName:function(address){return(null==address?void 0:address.firstname)||""},getLastName:function(address){return(null==address?void 0:address.lastname)||""},getCountry:function(address){return(null==address?void 0:address.country_code)||""},getPhone:function(address){return(null==address?void 0:address.telephone)||""},getEmail:function(address){return(null==address?void 0:address.email)||""},getApartmentNumber:function(address){return Array.isArray(null==address?void 0:address.street)?null==address?void 0:address.street[1]:null==address?void 0:address.apartment},getProvince:function(address){var t,e;return(null===(t=null==address?void 0:address.region)||void 0===t?void 0:t.region)||(null===(e=null==address?void 0:address.region)||void 0===e?void 0:e.region_code)||""},getCompanyName:function(address){return(null==address?void 0:address.company)||""},getTaxNumber:function(address){return(null==address?void 0:address.vat_id)||""},getId:function(address){return(null==address?void 0:address.id)||""},getNeighborhood:function(address){return Array.isArray(null==address?void 0:address.street)?null==address?void 0:address.street[2]:null==address?void 0:address.neighborhood},getAddressExtra:function(address){return Array.isArray(null==address?void 0:address.street)?null==address?void 0:address.street[3]:null==address?void 0:address.extra},isDefault:function(address){return(null==address?void 0:address.default_shipping)||(null==address?void 0:address.default_billing)||!1},isDefaultShipping:function(address){return(null==address?void 0:address.default_shipping)||!1},isDefaultBilling:function(address){return(null==address?void 0:address.default_billing)||!1}};e.a=l},514:function(t,e,n){},530:function(t,e,n){"use strict";n(37),n(308);var r=n(6),o=n(459),l=n(480),c=n(49),d=n(481),f={name:"SfTab",components:{SfChevron:l.a,SfScrollable:d.a,SfButton:c.a},inject:["tabConfig"],props:{title:{type:String,default:""}},data:function(){return{isActive:!1,desktopMin:1024}},computed:{tabMaxContentHeight:function(){return this.tabConfig.tabMaxContentHeight},tabShowText:function(){return this.tabConfig.tabShowText},tabHideText:function(){return this.tabConfig.tabHideText}},methods:{tabClick:function(){if(o.a){var t=Math.max(document.documentElement.clientWidth,window.innerWidth);this.isActive&&t>this.desktopMin||this.$parent.$emit("toggle",this._uid)}}}},v=n(9),h=Object(v.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sf-tabs__tab"},[t._t("title",(function(){return[n("SfButton",{staticClass:"sf-button--pure sf-tabs__title",class:{"is-active":t.isActive},attrs:{"aria-pressed":t.isActive.toString()},on:{click:t.tabClick}},[t._v("\n      "+t._s(t.title)+"\n      "),n("SfChevron",{staticClass:"sf-tabs__chevron",class:{"sf-chevron--right":!t.isActive}})],1)]}),null,{tabClick:t.tabClick,isActive:t.isActive,title:t.title}),t._v(" "),n("div",{staticClass:"sf-tabs__content"},[n("div",{staticClass:"sf-tabs__content__tab",class:{"display-none":!t.isActive}},[t.tabMaxContentHeight?n("SfScrollable",{attrs:{"max-content-height":t.tabMaxContentHeight,"show-text":t.tabShowText,"hide-text":t.tabHideText}},[t._t("default")],2):t._t("default")],2)])],2)}),[],!1,null,null,null).exports;r.default.component("SfTab",h);var _={name:"SfTabs",props:{openTab:{type:Number,default:1},tabMaxContentHeight:{type:String,default:""},tabShowText:{type:String,default:"show"},tabHideText:{type:String,default:"hide"}},data:function(){return{initialTabActivated:!1}},watch:{openTab:function(t,e){t!==e&&this.toggle(this.$children[t-1]._uid)}},mounted:function(){this.$on("toggle",this.toggle),this.openTab&&this.openChild()},methods:{toggle:function(t){this.$children.forEach((function(e){e.isActive=e._uid===t}));var e=this.$children.findIndex((function(t){return!0===t.isActive}))+1;this.$emit("click:tab",e)},openChild:function(){this.openTab<this.$children.length+1&&(this.$children[this.openTab-1].isActive=!0,this.initialTabActivated=!0)}},provide:function(){var t=this,e={};return Object.defineProperty(e,"tabMaxContentHeight",{get:function(){return t.tabMaxContentHeight}}),Object.defineProperty(e,"tabShowText",{get:function(){return t.tabShowText}}),Object.defineProperty(e,"tabHideText",{get:function(){return t.tabHideText}}),{tabConfig:e}}},m=(n(487),Object(v.a)(_,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{directives:[{name:"show",rawName:"v-show",value:t.initialTabActivated,expression:"initialTabActivated"}],staticClass:"sf-tabs"},[t._t("default")],2)}),[],!1,null,null,null));e.a=m.exports},538:function(t,e,n){"use strict";var r=n(0),o=n(513),l=Object(r.b)({name:"UserAddressDetails",props:{address:{type:Object,required:!0}},setup:function(t){var address=Object(r.p)(t,"address"),e=Object(r.a)((function(){return{firstName:o.a.getFirstName(address.value),lastName:o.a.getLastName(address.value),street:o.a.getStreetName(address.value),streetNumber:o.a.getApartmentNumber(address.value),postalCode:o.a.getPostCode(address.value),city:o.a.getCity(address.value),province:o.a.getProvince(address.value)||"",country:o.a.getCountry(address.value),phone:o.a.getPhone(address.value),isDefault:o.a.isDefault(address.value),isDefaultShipping:o.a.isDefaultShipping(address.value),isDefaultBilling:o.a.isDefaultBilling(address.value)}})),n=Object(r.a)((function(){return e.value.isDefaultShipping?"Default Shipping Address":""})),l=Object(r.a)((function(){return e.value.isDefaultBilling?"Default Billing Address":""}));return{userAddress:e,isDefaultShippingText:n,isDefaultBillingText:l}}}),c=(n(546),n(9)),component=Object(c.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("p",{style:t.userAddress.isDefault?"font-weight: bold;":""},[t._v("\n    "+t._s(t.userAddress.firstName)+" "+t._s(t.userAddress.lastName)+"\n  ")]),t._v(" "),n("p",[t._v(t._s(t.userAddress.street)+", "+t._s(t.userAddress.streetNumber))]),t._v(" "),n("p",[t._v("\n    "+t._s(t.userAddress.city)+", "+t._s(t.userAddress.province)+" -\n    "+t._s(t.userAddress.postalCode)+"\n  ")]),t._v(" "),n("p",[t._t("country",(function(){return[t._v("\n      "+t._s(t.userAddress.country)+"\n    ")]}))],2),t._v(" "),t.userAddress.phone?n("p",{staticClass:"phone"},[t._v("\n    "+t._s(t.userAddress.phone)+"\n  ")]):t._e(),t._v(" "),t.isDefaultShippingText||t.isDefaultBillingText?n("div",{staticClass:"badge-container"},[t.isDefaultShippingText?n("span",{staticClass:"badge-container__badge sf-badge sf-badge--number color-primary"},[t._v("\n      "+t._s(t.$t(t.isDefaultShippingText))+"\n    ")]):t._e(),t._v(" "),t.isDefaultBillingText?n("span",{staticClass:"badge-container__badge sf-badge sf-badge--number color-primary"},[t._v("\n      "+t._s(t.$t(t.isDefaultBillingText))+"\n    ")]):t._e()]):t._e()])}),[],!1,null,"066a1ae6",null);e.a=component.exports},546:function(t,e,n){"use strict";n(514)},551:function(t,e,n){},599:function(t,e,n){"use strict";n(551)},655:function(t,e,n){},777:function(t,e,n){"use strict";n(655)}}]);
//# sourceMappingURL=931fa3d.js.map