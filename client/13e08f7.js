(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{469:function(t,e,r){},471:function(t,e,r){},474:function(t,e,r){},475:function(t,e,r){"use strict";r(469)},479:function(t,e,r){"use strict";r(471)},480:function(t,e,r){"use strict";var n={name:"SfChevron",directives:{focus:r(457).a}},o=(r(479),r(9)),component=Object(o.a)(n,(function(t,e){var r=e._c;return r("span",e._g(e._b({class:[e.data.class,e.data.staticClass,"sf-chevron"],style:[e.data.style,e.data.staticStyle]},"span",e.data.attrs,!1),e.listeners),[e._t("default",(function(){return[r("span",{staticClass:"sf-chevron__bar sf-chevron__bar--left"}),e._v(" "),r("span",{staticClass:"sf-chevron__bar sf-chevron__bar--right"})]}))],2)}),[],!0,null,null,null);e.a=component.exports},481:function(t,e,r){"use strict";var n={name:"SfScrollable",components:{SfButton:r(49).a},props:{maxContentHeight:{type:String,default:""},showText:{type:String,default:"Show"},hideText:{type:String,default:"Hide"}},data:function(){return{isHidden:!0,hasScroll:!1}},computed:{style:function(){return{"--_scrollable-max-height":this.maxContentHeight.trim()?this.maxContentHeight:void 0}}}},o=(r(475),r(9)),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"sf-scrollable",class:{"is-open":!t.isHidden}},[r("div",{ref:"content",staticClass:"sf-scrollable__content",style:t.style},[t._t("default")],2),t._v(" "),t._t("view-all",(function(){return[r("SfButton",{directives:[{name:"show",rawName:"v-show",value:t.hasScroll,expression:"hasScroll"}],staticClass:"sf-button--text sf-scrollable__view-all",on:{click:function(e){t.isHidden=!t.isHidden}}},[t.isHidden?r("span",[t._v(t._s(t.showText))]):r("span",[t._v(t._s(t.hideText))])])]}),null,{hasScroll:t.hasScroll,showText:t.showText,hideText:t.hideText})],2)}),[],!1,null,null,null);e.a=component.exports},487:function(t,e,r){"use strict";r(474)},506:function(t,e,r){"use strict";var n={getFirstName:function(t){return t?t.firstname:""},getLastName:function(t){return t?t.lastname:""},getEmailAddress:function(t){return t?t.email:""},getFullName:function(t){return t?"".concat(t.firstname," ").concat(t.lastname):""}};e.a=n},522:function(t,e,r){"use strict";r.d(e,"a",(function(){return n})),r.d(e,"b",(function(){return o}));var n=/(?=.*\d)(?=.*[A-Za-z])(?=.*[!#$%&*?@^_-])(?!.*\s).{8,}/,o="The password must be at least 8 characters long and must contain at least: 1 uppercase or lowercase letter, 1 number, or one special character (E.g. , . _ & ? etc)"},530:function(t,e,r){"use strict";r(37),r(308);var n=r(6),o=r(459),c=r(480),l=r(49),d=r(481),f={name:"SfTab",components:{SfChevron:c.a,SfScrollable:d.a,SfButton:l.a},inject:["tabConfig"],props:{title:{type:String,default:""}},data:function(){return{isActive:!1,desktopMin:1024}},computed:{tabMaxContentHeight:function(){return this.tabConfig.tabMaxContentHeight},tabShowText:function(){return this.tabConfig.tabShowText},tabHideText:function(){return this.tabConfig.tabHideText}},methods:{tabClick:function(){if(o.a){var t=Math.max(document.documentElement.clientWidth,window.innerWidth);this.isActive&&t>this.desktopMin||this.$parent.$emit("toggle",this._uid)}}}},m=r(9),v=Object(m.a)(f,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"sf-tabs__tab"},[t._t("title",(function(){return[r("SfButton",{staticClass:"sf-button--pure sf-tabs__title",class:{"is-active":t.isActive},attrs:{"aria-pressed":t.isActive.toString()},on:{click:t.tabClick}},[t._v("\n      "+t._s(t.title)+"\n      "),r("SfChevron",{staticClass:"sf-tabs__chevron",class:{"sf-chevron--right":!t.isActive}})],1)]}),null,{tabClick:t.tabClick,isActive:t.isActive,title:t.title}),t._v(" "),r("div",{staticClass:"sf-tabs__content"},[r("div",{staticClass:"sf-tabs__content__tab",class:{"display-none":!t.isActive}},[t.tabMaxContentHeight?r("SfScrollable",{attrs:{"max-content-height":t.tabMaxContentHeight,"show-text":t.tabShowText,"hide-text":t.tabHideText}},[t._t("default")],2):t._t("default")],2)])],2)}),[],!1,null,null,null).exports;n.default.component("SfTab",v);var h={name:"SfTabs",props:{openTab:{type:Number,default:1},tabMaxContentHeight:{type:String,default:""},tabShowText:{type:String,default:"show"},tabHideText:{type:String,default:"hide"}},data:function(){return{initialTabActivated:!1}},watch:{openTab:function(t,e){t!==e&&this.toggle(this.$children[t-1]._uid)}},mounted:function(){this.$on("toggle",this.toggle),this.openTab&&this.openChild()},methods:{toggle:function(t){this.$children.forEach((function(e){e.isActive=e._uid===t}));var e=this.$children.findIndex((function(t){return!0===t.isActive}))+1;this.$emit("click:tab",e)},openChild:function(){this.openTab<this.$children.length+1&&(this.$children[this.openTab-1].isActive=!0,this.initialTabActivated=!0)}},provide:function(){var t=this,e={};return Object.defineProperty(e,"tabMaxContentHeight",{get:function(){return t.tabMaxContentHeight}}),Object.defineProperty(e,"tabShowText",{get:function(){return t.tabShowText}}),Object.defineProperty(e,"tabHideText",{get:function(){return t.tabHideText}}),{tabConfig:e}}},_=(r(487),Object(m.a)(h,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{directives:[{name:"show",rawName:"v-show",value:t.initialTabActivated,expression:"initialTabActivated"}],staticClass:"sf-tabs"},[t._t("default")],2)}),[],!1,null,null,null));e.a=_.exports},552:function(t,e,r){},600:function(t,e,r){"use strict";r(552)},657:function(t,e,r){},658:function(t,e,r){},659:function(t,e,r){},779:function(t,e,r){"use strict";r(657)},780:function(t,e,r){"use strict";r(658)},781:function(t,e,r){"use strict";r(659)},976:function(t,e,r){"use strict";var n=r(208),o=r(204),c=r(50),l=r(49),d=r(134),f=r(468),m=r(458),v=r(459),h={name:"SfModal",directives:{focusTrap:f.a,clickOutside:m.a},components:{SfBar:n.a,SfOverlay:o.a,SfIcon:c.a,SfButton:l.a},model:{prop:"visible",event:"close"},props:{title:{type:String,default:""},visible:{type:Boolean,default:!1},cross:{type:Boolean,default:!0},overlay:{type:Boolean,default:!0},persistent:{type:Boolean,default:!1},transitionOverlay:{type:String,default:"sf-fade"},transitionModal:{type:String,default:"sf-fade"}},data:function(){return{staticClass:null,className:null}},watch:{visible:{handler:function(t){var e=this;v.a&&(t?(this.$nextTick((function(){Object(d.b)(e.$refs.content)})),document.addEventListener("keydown",this.keydownHandler)):(Object(d.a)(),document.removeEventListener("keydown",this.keydownHandler)))},immediate:!0}},beforeDestroy:function(){Object(d.a)()},methods:{close:function(){this.$emit("close",!1)},checkPersistence:function(){this.persistent||this.close()},keydownHandler:function(t){"Escape"!==t.key&&"Esc"!==t.key&&27!==t.keyCode||this.close()},classHandler:function(){this.staticClass!==this.$vnode.data.staticClass&&(this.staticClass=this.$vnode.data.staticClass),this.className!==this.$vnode.data.class&&(this.className=this.$vnode.data.class)}}},_=(r(600),r(9)),component=Object(_.a)(h,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"sf-modal",class:[t.staticClass,t.className]},[t.overlay?r("SfOverlay",{staticClass:"sf-modal__overlay",attrs:{transition:t.transitionOverlay,visible:t.visible}}):t._e(),t._v(" "),r("transition",{attrs:{name:t.transitionModal}},[t.visible?r("div",{directives:[{name:"focus-trap",rawName:"v-focus-trap"},{name:"click-outside",rawName:"v-click-outside",value:t.checkPersistence,expression:"checkPersistence"}],staticClass:"sf-modal__container"},[t._t("modal-bar",(function(){return[r("SfBar",{staticClass:"sf-modal__bar smartphone-only",attrs:{close:t.cross,title:t.title},on:{"click:close":t.close}})]})),t._v(" "),r("SfButton",{staticClass:"sf-button--pure sf-modal__close desktop-only",class:{"display-none":!t.cross},attrs:{"aria-label":"Close modal",type:"button","data-testid":"close-button"},on:{click:t.close}},[t._t("close",(function(){return[r("SfIcon",{attrs:{icon:"cross",size:"0.875rem",color:"gray-secondary"}})]}))],2),t._v(" "),r("div",{ref:"content",staticClass:"sf-modal__content"},[t._t("default")],2)],2):t._e()])],1)}),[],!1,null,null,null);e.a=component.exports},990:function(t,e,r){"use strict";r.r(e);r(14),r(12),r(15),r(16),r(17);var n=r(2),o=r(4),c=(r(5),r(13),r(35),r(36),r(483)),l=r(485),d=r(530),f=r(0),m=r(57),v=r(522),h=r(209),_=r(49),w=r(976),y=r(506),S=r(30);function P(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function O(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?P(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):P(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}Object(c.c)("email",O(O({},l.c),{},{message:"The email field must be a valid email"}));var C=Object(f.b)({components:{SfInput:h.a,SfButton:_.a,SfModal:w.a,ValidationProvider:c.b,ValidationObserver:c.a},props:{loading:{type:Boolean,required:!1,default:!1}},emits:["submit"],setup:function(t,e){var r=e.emit,n=Object(f.s)().app.i18n,o=Object(m.b)().user,c=Object(f.l)(""),l=Object(f.l)(!1),d=function(){return{firstname:y.a.getFirstName(o.value),lastname:y.a.getLastName(o.value),email:y.a.getEmailAddress(o.value)}},v=Object(S.o)().send,form=Object(f.l)(d());return{requirePassword:l,currentPassword:c,form:form,submitForm:function(t){return function(){if(y.a.getEmailAddress(o.value)!==form.value.email&&!l.value)l.value=!0;else{c.value&&(form.value.password=c.value);var e={form:form.value,onComplete:function(){form.value=d(),l.value=!1,c.value="",v({id:Symbol("user_updated"),message:n.t("The user account data was successfully updated!"),type:"success",icon:"check",persist:!1,title:"User Account"}),t()},onError:function(t){v({id:Symbol("user_updated"),message:n.t(t),type:"danger",icon:"cross",persist:!1,title:"User Account"})}};r("submit",e)}}}}}}),x=(r(779),r(9)),j=Object(x.a)(C,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var n=e.handleSubmit,o=e.reset;return[r("form",{staticClass:"form",on:{submit:function(e){e.preventDefault(),n(t.submitForm(o))}}},[r("div",{staticClass:"form__horizontal"},[r("ValidationProvider",{staticClass:"form__element",attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[r("SfInput",{attrs:{name:"firstName",label:t.$t("First Name"),required:"",valid:!n[0],"error-message":t.$t(n[0])},model:{value:t.form.firstname,callback:function(e){t.$set(t.form,"firstname",e)},expression:"form.firstname"}})]}}],null,!0)}),t._v(" "),r("ValidationProvider",{staticClass:"form__element",attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[r("SfInput",{attrs:{name:"lastName",label:t.$t("Last Name"),required:"",valid:!n[0],"error-message":t.$t(n[0])},model:{value:t.form.lastname,callback:function(e){t.$set(t.form,"lastname",e)},expression:"form.lastname"}})]}}],null,!0)})],1),t._v(" "),r("ValidationProvider",{staticClass:"form__element",attrs:{rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[r("SfInput",{attrs:{type:"email",name:"email",label:t.$t("Your e-mail"),required:"",valid:!n[0],"error-message":t.$t(n[0])},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})]}}],null,!0)}),t._v(" "),r("SfModal",{attrs:{visible:t.requirePassword,title:t.$t("Attention!"),cross:"",persistent:""},on:{close:function(e){t.requirePassword=!1}}},[t._v("\n      "+t._s(t.$t("Please type your current password to change your email address."))+"\n      "),r("SfInput",{staticClass:"form__element",staticStyle:{"margin-top":"10px"},attrs:{type:"password",name:"currentPassword",label:t.$t("Current Password"),required:""},model:{value:t.currentPassword,callback:function(e){t.currentPassword=e},expression:"currentPassword"}}),t._v(" "),r("SfButton",{staticClass:"form__button",attrs:{type:"submit"}},[t._v("\n        "+t._s(t.$t("Update personal data"))+"\n      ")])],1),t._v(" "),t.requirePassword?r("div",{staticClass:"smartphone-only"},[t._v("\n      "+t._s(t.$t("Please type your current password to change your email address."))+"\n      "),r("SfInput",{staticClass:"form__element",staticStyle:{"margin-top":"10px"},attrs:{type:"password",name:"currentPassword",label:t.$t("Current Password"),required:""},model:{value:t.currentPassword,callback:function(e){t.currentPassword=e},expression:"currentPassword"}}),t._v(" "),r("SfButton",{staticClass:"form__button",attrs:{type:"submit"}},[t._v("\n        "+t._s(t.$t("Update personal data"))+"\n      ")])],1):t._e(),t._v(" "),t.requirePassword?t._e():r("SfButton",{staticClass:"form__button",attrs:{type:"submit"}},[t._v("\n      "+t._s(t.$t("Update personal data"))+"\n    ")])],1)]}}])})}),[],!1,null,"508211bc",null).exports,$=Object(f.b)({components:{SfInput:h.a,SfButton:_.a,ValidationProvider:c.b,ValidationObserver:c.a},setup:function(t,e){var r=e.emit,n=Object(f.s)().app.i18n,o=Object(S.o)().send,form=Object(f.l)({currentPassword:"",newPassword:"",repeatPassword:""});return{form:form,submitForm:function(t){return function(){var e={form:form.value,onComplete:function(){form.value={currentPassword:"",newPassword:"",repeatPassword:""},o({id:Symbol("password_updated"),message:n.t("The user password was changed successfully updated!"),type:"success",icon:"check",persist:!1,title:"User Account"}),t()},onError:function(t){o({id:Symbol("password_not_updated"),message:n.t(t),type:"danger",icon:"cross",persist:!1,title:"User Account"})}};r("submit",e)}}}}}),k=(r(780),Object(x.a)($,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var n=e.handleSubmit,o=e.reset;return[r("form",{staticClass:"form",on:{submit:function(e){e.preventDefault(),n(t.submitForm(o))}}},[r("ValidationProvider",{staticClass:"form__element",attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[r("SfInput",{attrs:{type:"password",name:"currentPassword",label:t.$t("Current Password"),required:"",valid:!n[0],"error-message":t.$t(n[0])},model:{value:t.form.currentPassword,callback:function(e){t.$set(t.form,"currentPassword",e)},expression:"form.currentPassword"}})]}}],null,!0)}),t._v(" "),r("div",{staticClass:"form__horizontal"},[r("ValidationProvider",{staticClass:"form__element",attrs:{rules:"required|password",vid:"password"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[r("SfInput",{attrs:{type:"password",name:"newPassword",label:t.$t("New Password"),required:"",valid:!n[0],"error-message":t.$t(n[0])},model:{value:t.form.newPassword,callback:function(e){t.$set(t.form,"newPassword",e)},expression:"form.newPassword"}})]}}],null,!0)}),t._v(" "),r("ValidationProvider",{staticClass:"form__element",attrs:{rules:"required|confirmed:password"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[r("SfInput",{attrs:{type:"password",name:"repeatPassword",label:t.$t("Repeat Password"),required:"",valid:!n[0],"error-message":t.$t(n[0])},model:{value:t.form.repeatPassword,callback:function(e){t.$set(t.form,"repeatPassword",e)},expression:"form.repeatPassword"}})]}}],null,!0)})],1),t._v(" "),r("SfButton",{staticClass:"form__button",attrs:{type:"submit"}},[t._v("\n      "+t._s(t.$t("Update password"))+"\n    ")])],1)]}}])})}),[],!1,null,"6a853684",null).exports);function T(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function H(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?T(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):T(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}Object(c.c)("required",H(H({},l.f),{},{message:"This field is required"})),Object(c.c)("min",H(H({},l.d),{},{message:"The field should have at least {length} characters"})),Object(c.c)("password",{message:v.b,validate:function(t){return v.a.test(t)}}),Object(c.c)("confirmed",H(H({},l.a),{},{message:"Passwords don't match"}));var E=Object(f.b)({name:"MyProfile",components:{SfTabs:d.a,ProfileUpdateForm:j,PasswordResetForm:k},setup:function(){var t=Object(m.b)(),e=t.changePassword,r=t.loading,o=t.updateUser,c=t.error,l=function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(e,r,n){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:(o=c.value.changePassword||c.value.updateUser)?n(o.toString()):r();case 4:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}();return{loading:r,updatePersonalData:function(t){var form=t.form,e=t.onComplete,r=t.onError;return l(Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",o({user:form}));case 1:case"end":return t.stop()}}),t)}))),e,r)},updatePassword:function(t){var form=t.form,r=t.onComplete,o=t.onError;return l(Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e({current:form.currentPassword,new:form.newPassword}));case 1:case"end":return t.stop()}}),t)}))),r,o)}}}}),A=E,B=(r(781),Object(x.a)(A,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("SfTabs",{attrs:{"open-tab":1}},[r("SfTab",{attrs:{title:t.$t("Personal data")}},[r("p",{staticClass:"message"},[t._v("\n      "+t._s(t.$t("Feel free to edit"))+"\n    ")]),t._v(" "),r("ProfileUpdateForm",{attrs:{loading:t.loading},on:{submit:t.updatePersonalData}}),t._v(" "),r("p",{staticClass:"notice"},[t._v("\n      "+t._s(t.$t("Use your personal data"))+"\n      "),r("a",{attrs:{href:""}},[t._v(t._s(t.$t("Privacy Policy")))])])],1),t._v(" "),r("SfTab",{attrs:{title:t.$t("Password change")}},[r("p",{staticClass:"message"},[t._v("\n      "+t._s(t.$t("Change password your account"))+":"),r("br")]),t._v(" "),r("PasswordResetForm",{on:{submit:t.updatePassword}})],1)],1)}),[],!1,null,"582171ce",null));e.default=B.exports}}]);
//# sourceMappingURL=13e08f7.js.map