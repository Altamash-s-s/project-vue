{"version":3,"sources":["webpack:///./node_modules/@storefront-ui/vue/src/components/organisms/SfList/SfList.vue?cfdb","webpack:///./node_modules/@storefront-ui/vue/src/components/organisms/SfList/SfList.vue?f0e2","webpack:///./node_modules/@storefront-ui/vue/src/components/organisms/SfList/_internal/SfListItem.vue?2f0c","webpack:///node_modules/@storefront-ui/vue/src/components/organisms/SfList/_internal/SfListItem.vue","webpack:///./node_modules/@storefront-ui/vue/src/components/organisms/SfList/_internal/SfListItem.vue","webpack:///./node_modules/@storefront-ui/vue/src/components/organisms/SfList/_internal/SfListItem.vue?d985","webpack:///node_modules/@storefront-ui/vue/src/components/organisms/SfList/SfList.vue","webpack:///./node_modules/@storefront-ui/vue/src/components/organisms/SfList/SfList.vue?4537","webpack:///./node_modules/@storefront-ui/vue/src/components/organisms/SfList/SfList.vue","webpack:///./modules/customer/pages/MyAccount/MyAccount.vue?dbfc","webpack:///./modules/customer/pages/MyAccount/MyAccount.vue?dfc1","webpack:///./modules/customer/pages/MyAccount/useSidebarLinkGroups.ts","webpack:///./modules/customer/pages/MyAccount/MyAccount.vue?1abf","webpack:///./modules/customer/pages/MyAccount/MyAccount.vue?020b","webpack:///./modules/customer/pages/MyAccount/MyAccount.vue"],"names":["name","_vm","this","_h","$createElement","_self","_c","staticClass","_t","Vue","useSidebarLinkGroups","localeRoute","useContext","logout","useUser","clear","useCart","router","useRouter","logoutUser","push","sidebarLinkGroups","title","items","id","label","link","defineComponent","components","SfBar","SfList","SfMenuItem","middleware","setup","route","useRoute","i18n","user","load","loadUser","useFetch","value","isOnSubpage","computed","matched","length","t","at","meta","titleLabel","handlers","goToTopLevelRoute","getHandler","component","attrs","on","_v","class","directives","rawName","expression","_l","linkGroup","key","item","_g","$t","click","$fetchState","pending","_e"],"mappings":"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","file":"501dd89.modern.js","sourcesContent":["export * from \"-!../../../../../../extract-css-chunks-webpack-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../../../css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../../../postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../../../sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../../../../../sass-resources-loader/lib/loader.js??ref--7-oneOf-1-4!../../../../../../vue-loader/lib/index.js??vue-loader-options!./SfList.vue?vue&type=style&index=0&id=48004de8&prod&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"sf-list\"},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../babel-loader/lib/index.js??ref--2-0!../../../../../../../vue-loader/lib/index.js??vue-loader-options!./SfListItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../babel-loader/lib/index.js??ref--2-0!../../../../../../../vue-loader/lib/index.js??vue-loader-options!./SfListItem.vue?vue&type=script&lang=js&\"","<template>\n  <li class=\"sf-list__item\">\n    <slot />\n  </li>\n</template>\n<script>\nexport default {\n  name: \"SfListItem\",\n};\n</script>\n","import { render, staticRenderFns } from \"./SfListItem.vue?vue&type=template&id=b0da9c0c&\"\nimport script from \"./SfListItem.vue?vue&type=script&lang=js&\"\nexport * from \"./SfListItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"sf-list__item\"},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <ul class=\"sf-list\">\n    <slot />\n  </ul>\n</template>\n<script>\nimport SfListItem from \"./_internal/SfListItem.vue\";\nimport Vue from \"vue\";\nVue.component(\"SfListItem\", SfListItem);\nexport default {\n  name: \"SfList\",\n};\n</script>\n<style lang=\"scss\">\n@import \"~@storefront-ui/shared/styles/components/organisms/SfList.scss\";\n</style>\n","import mod from \"-!../../../../../../babel-loader/lib/index.js??ref--2-0!../../../../../../vue-loader/lib/index.js??vue-loader-options!./SfList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../babel-loader/lib/index.js??ref--2-0!../../../../../../vue-loader/lib/index.js??vue-loader-options!./SfList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SfList.vue?vue&type=template&id=48004de8&\"\nimport script from \"./SfList.vue?vue&type=script&lang=js&\"\nexport * from \"./SfList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SfList.vue?vue&type=style&index=0&id=48004de8&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/extract-css-chunks-webpack-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../../../node_modules/sass-resources-loader/lib/loader.js??ref--7-oneOf-1-4!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/unplugin/dist/webpack/loaders/transform.js??ref--15-0!./MyAccount.vue?vue&type=style&index=0&id=0b6b211b&prod&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"my-account\"}},[_c('div',{staticClass:\"sf-content-pages my-account\"},[_c('SfBar',{staticClass:\"smartphone-only\",attrs:{\"title\":_vm.title,\"back\":_vm.isOnSubpage},on:{\"click:back\":_vm.goToTopLevelRoute}}),_vm._v(\" \"),_c('section',{staticClass:\"sf-content-pages__section\",class:{ 'is-active': _vm.isOnSubpage}},[_c('div',{staticClass:\"sf-content-pages__sidebar\"},[_c('h1',{directives:[{name:\"t\",rawName:\"v-t\",value:('My Account'),expression:\"'My Account'\"}],staticClass:\"sf-content-pages__title desktop-only\"}),_vm._v(\" \"),_vm._l((_vm.sidebarLinkGroups),function(linkGroup){return _c('div',{key:linkGroup.title},[_c('h2',{directives:[{name:\"t\",rawName:\"v-t\",value:(linkGroup.title),expression:\"linkGroup.title\"}],staticClass:\"sf-content-pages__category-title\"}),_vm._v(\" \"),_c('SfList',{staticClass:\"sf-content-pages__list\"},_vm._l((linkGroup.items),function(item){return _c('li',{key:item.label,staticClass:\"sf-content-pages__list-item sf-list__item\"},[_c('SfMenuItem',_vm._g({staticClass:\"sf-content-pages__menu\",attrs:{\"label\":_vm.$t(item.label),\"link\":_vm.localeRoute(item.link)}},{ click: _vm.getHandler(item.id) }))],1)}),0)],1)})],2),_vm._v(\" \"),_c('div',{staticClass:\"sf-content-pages__content\"},[(!_vm.$fetchState.pending)?_c('router-view'):_vm._e()],1)])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import type { RawLocation } from 'vue-router';\n\nimport { useRouter, useContext } from '@nuxtjs/composition-api';\nimport { useUser } from '~/modules/customer/composables/useUser';\nimport { useCart } from '~/modules/checkout/composables/useCart';\n\ntype LinkGroup = { title: string, items: LinkGroupItem[] };\ntype LinkGroupItem = { id: string, label: string, link?: RawLocation };\n\nexport const useSidebarLinkGroups = () => {\n  const { localeRoute } = useContext();\n  const { logout } = useUser();\n  const { clear } = useCart();\n  const router = useRouter();\n\n  const sidebarLinkGroups : LinkGroup[] = [\n    {\n      title: 'Personal details',\n      items: [\n        {\n          id: 'my-profile',\n          label: 'My profile',\n          link: { name: 'customer-my-profile' },\n        },\n        {\n          id: 'address-details',\n          label: 'Addresses details',\n          link: { name: 'customer-addresses-details' },\n        },\n        {\n          id: 'my-newsletter',\n          label: 'My newsletter',\n          link: { name: 'customer-my-newsletter' },\n        },\n        {\n          id: 'my-wishlist',\n          label: 'My wishlist',\n          link: { name: 'customer-my-wishlist' },\n        },\n      ],\n    },\n    {\n      title: 'Order details',\n      items: [\n        {\n          id: 'order-history',\n          label: 'Order history',\n          link: { name: 'customer-order-history' },\n        },\n        {\n          id: 'my-reviews',\n          label: 'My reviews',\n          link: { name: 'customer-my-reviews' },\n        },\n        {\n          id: 'log-out',\n          label: 'Log out',\n        },\n      ],\n    },\n  ];\n\n  const logoutUser = async () => {\n    await logout({});\n    await clear({});\n    await router.push(localeRoute({ name: 'home' }));\n  };\n\n  return { sidebarLinkGroups, logoutUser };\n};\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--13-0!../../../../node_modules/ts-loader/index.js??ref--13-1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/unplugin/dist/webpack/loaders/transform.js??ref--15-0!./MyAccount.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--13-0!../../../../node_modules/ts-loader/index.js??ref--13-1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/unplugin/dist/webpack/loaders/transform.js??ref--15-0!./MyAccount.vue?vue&type=script&lang=ts&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  SfMenuItem, SfList, SfBar,\n} from '@storefront-ui/vue';\n\nimport {\n  defineComponent,\n  useContext,\n  useRouter,\n  useRoute,\n  computed,\n  useFetch,\n} from '@nuxtjs/composition-api';\nimport { useSidebarLinkGroups } from './useSidebarLinkGroups';\nimport { useUser } from '../../composables/useUser';\n\nexport default defineComponent({\n  name: 'MyAccount',\n  components: {\n    SfBar,\n    SfList,\n    SfMenuItem,\n  },\n  middleware: 'is-authenticated',\n  setup() {\n    const route = useRoute();\n    const router = useRouter();\n    const { i18n, localeRoute } = useContext();\n    const { user, load: loadUser } = useUser();\n\n    useFetch(async () => {\n      if (user.value === null) {\n        await loadUser();\n      }\n    });\n\n    const { sidebarLinkGroups, logoutUser } = useSidebarLinkGroups();\n\n    const isOnSubpage = computed(() => route.value.matched.length > 1);\n    const goToTopLevelRoute = () => router.push(localeRoute({ name: 'customer' }));\n    const title = computed(() => i18n.t(route.value.matched.at(-1)?.meta.titleLabel as string));\n\n    /**\n     * #tab-id: handler-name\n     */\n    const handlers = {\n      'log-out': logoutUser,\n    };\n\n    const getHandler = (id: string) => handlers[id] ?? {};\n\n    return {\n      sidebarLinkGroups,\n      title,\n      isOnSubpage,\n      goToTopLevelRoute,\n      logoutUser,\n      getHandler,\n    };\n  },\n});\n","import { render, staticRenderFns } from \"./MyAccount.vue?vue&type=template&id=0b6b211b&scoped=true&\"\nimport script from \"./MyAccount.vue?vue&type=script&lang=ts&\"\nexport * from \"./MyAccount.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./MyAccount.vue?vue&type=style&index=0&id=0b6b211b&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0b6b211b\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}