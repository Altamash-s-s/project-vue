{"version":3,"sources":["webpack:///./modules/customer/getters/userAddressesGetters.ts","webpack:///./modules/customer/getters/addressGetter.ts","webpack:///./modules/customer/pages/MyAccount/AddressesDetails/AddressForm.vue?3b47","webpack:///./modules/customer/pages/MyAccount/AddressesDetails/AddressForm.vue?14c3","webpack:///./modules/customer/pages/MyAccount/AddressesDetails/AddressForm.vue?59d1","webpack:///./modules/customer/pages/MyAccount/AddressesDetails/AddressForm.vue?c745","webpack:///./modules/customer/pages/MyAccount/AddressesDetails/AddressForm.vue","webpack:///./modules/customer/pages/MyAccount/AddressesDetails/AddressEdit.vue?3ce2","webpack:///./modules/customer/pages/MyAccount/AddressesDetails/AddressEdit.vue?7063","webpack:///./modules/customer/pages/MyAccount/AddressesDetails/AddressEdit.vue?7afe","webpack:///./modules/customer/pages/MyAccount/AddressesDetails/AddressEdit.vue?530c","webpack:///./modules/customer/pages/MyAccount/AddressesDetails/AddressEdit.vue"],"names":["userAddressesGetters","getAddresses","addresses","criteria","length","Array","isArray","addressesData","map","a","transformUserGetter","sort","b","default_shipping","default_billing","Object","keys","entries","filter","address","every","key","value","getTotal","getPostCode","postcode","getStreetName","street","getCity","city","getFirstName","firstname","getLastName","lastname","getCountry","country_code","getPhone","telephone","getEmail","email","getApartmentNumber","apartment","getProvince","region","region_code","getCompanyName","company","getTaxNumber","vat_id","getId","id","getNeighborhood","neighborhood","getAddressExtra","extra","isDefault","isDefaultShipping","isDefaultBilling","countriesList","countries","c","full_name_english","full_name_locale","label","englishLabel","abbreviation","two_letter_abbreviation","localeCompare","regionList","country","available_regions","code","name","extend","required","message","min","oneOf","defineComponent","components","SfInput","SfButton","SfSelect","SfCheckbox","ValidationProvider","ValidationObserver","props","type","default","region_id","loading","Boolean","setup","emit","load","loadCountries","search","searchCountry","useCountrySearch","form","ref","computed","addressGetter","regionInformation","updateCountry","params","watch","immediate","onBeforeMount","submitForm","regionId","find","r","omitDeep","onError","component","_vm","this","_h","$createElement","_c","_self","scopedSlots","_u","fn","handleSubmit","staticClass","attrs","on","$event","preventDefault","errors","$t","model","callback","$$v","$set","expression","_v","directives","rawName","_l","regionOption","_s","countryOption","_t","SfTabs","AddressForm","addressId","String","router","useRouter","context","useContext","loadAddress","update","updateAddress","useAddresses","numericAddressId","Number","parseInt","useFetch","push","localeRoute","undefined","$fetchState","pending","proxy"],"mappings":"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","file":"39c264d.modern.js","sourcesContent":["import { CustomerAddress } from '~/composables';\nimport { TransformedCustomerAddress } from '~/modules/customer/composables/types';\nimport { transformUserGetter } from '~/modules/customer/helpers/userAddressManipulator';\n\nexport interface UserAddressesGetters<GENERIC_USER_ADDRESS_ITEM, SPECIFIC_USER_ADDRESS_ITEM> {\n  getAddresses: (shipping: GENERIC_USER_ADDRESS_ITEM[], criteria?: Record<string, any>) => GENERIC_USER_ADDRESS_ITEM[];\n  getTotal: (shipping: GENERIC_USER_ADDRESS_ITEM[]) => number;\n  getPostCode: (address: GENERIC_USER_ADDRESS_ITEM) => string;\n  getStreetName: (address: GENERIC_USER_ADDRESS_ITEM) => string;\n  getCity: (address: GENERIC_USER_ADDRESS_ITEM) => string;\n  getFirstName: (address: GENERIC_USER_ADDRESS_ITEM) => string;\n  getLastName: (address: GENERIC_USER_ADDRESS_ITEM) => string;\n  getCountry: (address: GENERIC_USER_ADDRESS_ITEM) => string;\n  getPhone: (address: GENERIC_USER_ADDRESS_ITEM) => string;\n  getEmail: (address: SPECIFIC_USER_ADDRESS_ITEM) => string;\n  getApartmentNumber: (address: SPECIFIC_USER_ADDRESS_ITEM) => string | number;\n  getProvince: (address: GENERIC_USER_ADDRESS_ITEM) => string;\n  getCompanyName: (address: GENERIC_USER_ADDRESS_ITEM) => string;\n  getTaxNumber: (address: GENERIC_USER_ADDRESS_ITEM) => string;\n  getId: (address: GENERIC_USER_ADDRESS_ITEM) => string | number;\n  isDefault: (address: GENERIC_USER_ADDRESS_ITEM) => boolean;\n  isDefaultShipping: (address: GENERIC_USER_ADDRESS_ITEM) => boolean;\n  isDefaultBilling: (address: GENERIC_USER_ADDRESS_ITEM) => boolean;\n  getNeighborhood: (address: any) => string\n  getAddressExtra: (address: any) => string\n}\n\nconst userAddressesGetters: UserAddressesGetters<CustomerAddress, TransformedCustomerAddress> = {\n  getAddresses: (addresses, criteria?: Record<string, any>) => {\n    if (!addresses || addresses.length === 0 || !Array.isArray(addresses)) return [];\n\n    const addressesData = addresses?.map((a) => transformUserGetter(a))\n      ?.sort((a, b) => ((a.default_shipping === b.default_shipping) ? 0 : (a.default_shipping ? -1 : 1)))\n      ?.sort((a, b) => ((a.default_billing === b.default_billing) ? 0 : (a.default_billing ? -1 : 1)));\n\n    if (!criteria || Object.keys(criteria).length === 0) {\n      return addressesData;\n    }\n\n    const entries = Object.entries(criteria);\n    return addressesData.filter((address) => entries.every(([key, value]) => address[key] === value));\n  },\n  getTotal: (addresses) => addresses.length,\n\n  getPostCode: (address) => address?.postcode || '',\n  getStreetName: (address) => (Array.isArray(address?.street) ? address?.street[0] : address?.street),\n  getCity: (address) => address?.city || '',\n  getFirstName: (address) => address?.firstname || '',\n  getLastName: (address) => address?.lastname || '',\n  getCountry: (address) => address?.country_code || '',\n  getPhone: (address) => address?.telephone || '',\n  getEmail: (address) => address?.email || '',\n  getApartmentNumber: (address) => (Array.isArray(address?.street) ? address?.street[1] : address?.apartment),\n  getProvince: (address) => (address?.region?.region || address?.region?.region_code) || '',\n  getCompanyName: (address) => address?.company || '',\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getTaxNumber: (address) => address?.vat_id || '',\n  getId: (address) => address?.id || '',\n  getNeighborhood: (address) => (Array.isArray(address?.street) ? address?.street[2] : address?.neighborhood),\n  getAddressExtra: (address) => (Array.isArray(address?.street) ? address?.street[3] : address?.extra),\n  isDefault: (address) => (address?.default_shipping || address?.default_billing) || false,\n  isDefaultShipping: (address) => address?.default_shipping || false,\n  isDefaultBilling: (address) => address?.default_billing || false,\n};\n\nexport default userAddressesGetters;\n","import { AddressGetter } from '~/modules/customer/getters/types';\nimport { Countries } from '~/composables';\nimport { Country } from '~/modules/GraphQL/types';\n\nconst countriesList: AddressGetter['countriesList'] = (countries: Countries[]) => countries\n  .filter((c) => c.id && c.full_name_english && c.full_name_locale)\n  .map((c) => ({\n    id: c.id,\n    label: c.full_name_locale,\n    englishLabel: c.full_name_english,\n    abbreviation: c.two_letter_abbreviation,\n  }))\n  .sort((a, b) => a.label.localeCompare(b.label));\n\nconst regionList: AddressGetter['regionList'] = (country: Country) => (country?.available_regions ? country.available_regions\n  .filter((c) => c.id && c.code && c.name)\n  .map((c) => ({\n    id: c.id,\n    label: c.name,\n    abbreviation: c.code,\n  } as {\n    id: number;\n    label: string;\n    abbreviation: string;\n  }))\n  .sort((a, b) => a.label.localeCompare(b.label)) : []);\n\nexport default {\n  countriesList,\n  regionList,\n} as AddressGetter;\n","export * from \"-!../../../../../node_modules/extract-css-chunks-webpack-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../../../../node_modules/sass-resources-loader/lib/loader.js??ref--7-oneOf-1-4!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../node_modules/unplugin/dist/webpack/loaders/transform.js??ref--15-0!./AddressForm.vue?vue&type=style&index=0&id=f2d39966&prod&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ValidationObserver',{scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar handleSubmit = ref.handleSubmit;\nreturn [_c('form',{staticClass:\"form\",attrs:{\"id\":\"shipping-details-form\"},on:{\"submit\":function($event){$event.preventDefault();return handleSubmit(_vm.submitForm)}}},[_c('div',{staticClass:\"form__horizontal\"},[_c('ValidationProvider',{staticClass:\"form__element\",attrs:{\"rules\":\"required|min:2\",\"name\":\"firstname\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('SfInput',{attrs:{\"name\":\"firstname\",\"label\":_vm.$t('First Name'),\"required\":\"\",\"valid\":!errors[0],\"error-message\":_vm.$t(errors[0]),\"disabled\":_vm.loading},model:{value:(_vm.form.firstname),callback:function ($$v) {_vm.$set(_vm.form, \"firstname\", $$v)},expression:\"form.firstname\"}})]}}],null,true)}),_vm._v(\" \"),_c('ValidationProvider',{staticClass:\"form__element\",attrs:{\"rules\":\"required|min:2\",\"name\":\"lastname\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('SfInput',{attrs:{\"name\":\"lastname\",\"label\":_vm.$t('Last Name'),\"required\":\"\",\"valid\":!errors[0],\"error-message\":_vm.$t(errors[0]),\"disabled\":_vm.loading},model:{value:(_vm.form.lastname),callback:function ($$v) {_vm.$set(_vm.form, \"lastname\", $$v)},expression:\"form.lastname\"}})]}}],null,true)})],1),_vm._v(\" \"),_c('ValidationProvider',{staticClass:\"form__element\",attrs:{\"rules\":\"required\",\"name\":\"street\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('SfInput',{attrs:{\"name\":\"street\",\"label\":_vm.$t('Street Name'),\"required\":\"\",\"valid\":!errors[0],\"error-message\":_vm.$t(errors[0]),\"disabled\":_vm.loading},model:{value:(_vm.form.street),callback:function ($$v) {_vm.$set(_vm.form, \"street\", $$v)},expression:\"form.street\"}})]}}],null,true)}),_vm._v(\" \"),_c('SfInput',{staticClass:\"form__element\",attrs:{\"name\":\"apartment\",\"label\":_vm.$t('House/Apartment number'),\"required\":\"\"},model:{value:(_vm.form.apartment),callback:function ($$v) {_vm.$set(_vm.form, \"apartment\", $$v)},expression:\"form.apartment\"}}),_vm._v(\" \"),_c('div',{staticClass:\"form__horizontal\"},[_c('ValidationProvider',{staticClass:\"form__element\",attrs:{\"rules\":\"required|min:2\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('SfInput',{attrs:{\"name\":\"city\",\"label\":_vm.$t('City'),\"required\":\"\",\"valid\":!errors[0],\"error-message\":_vm.$t(errors[0]),\"disabled\":_vm.loading},model:{value:(_vm.form.city),callback:function ($$v) {_vm.$set(_vm.form, \"city\", $$v)},expression:\"form.city\"}})]}}],null,true)}),_vm._v(\" \"),_c('ValidationProvider',{staticClass:\"form__element\",attrs:{\"name\":\"region\",\"rules\":!_vm.form.country_code || _vm.regionInformation.length === 0 ? null : 'required|min:2'},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [(!_vm.form.country_code || _vm.regionInformation.length === 0)?_c('SfInput',{directives:[{name:\"e2e\",rawName:\"v-e2e\",value:('shipping-state'),expression:\"'shipping-state'\"}],attrs:{\"label\":_vm.$t('State/Province'),\"name\":\"state\",\"valid\":!!_vm.form.country_code,\"error-message\":!_vm.form.country_code ? _vm.$t('Please select a country first') : '',\"disabled\":!_vm.form.country_code || _vm.loading},model:{value:(_vm.form.region.region),callback:function ($$v) {_vm.$set(_vm.form.region, \"region\", $$v)},expression:\"form.region.region\"}}):_c('SfSelect',{directives:[{name:\"e2e\",rawName:\"v-e2e\",value:('shipping-state'),expression:\"'shipping-state'\"}],staticClass:\"form__element form__element--half form__element--half-even form__select sf-select--underlined\",attrs:{\"label\":_vm.$t('State/Province'),\"name\":\"state\",\"valid\":!errors[0],\"error-message\":_vm.$t(errors[0]),\"disabled\":_vm.loading},model:{value:(_vm.form.region.region_code),callback:function ($$v) {_vm.$set(_vm.form.region, \"region_code\", $$v)},expression:\"form.region.region_code\"}},_vm._l((_vm.regionInformation),function(regionOption){return _c('SfSelectOption',{key:regionOption.id,attrs:{\"value\":regionOption.abbreviation}},[_vm._v(\"\\n            \"+_vm._s(regionOption.label)+\"\\n          \")])}),1)]}}],null,true)})],1),_vm._v(\" \"),_c('div',{staticClass:\"form__horizontal\"},[_c('ValidationProvider',{staticClass:\"form__element\",attrs:{\"rules\":\"required|min:4\",\"name\":\"postcode\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('SfInput',{attrs:{\"name\":\"postcode\",\"label\":_vm.$t('Zip-code'),\"required\":\"\",\"valid\":!errors[0],\"error-message\":_vm.$t(errors[0]),\"disabled\":_vm.loading},model:{value:(_vm.form.postcode),callback:function ($$v) {_vm.$set(_vm.form, \"postcode\", $$v)},expression:\"form.postcode\"}})]}}],null,true)}),_vm._v(\" \"),_c('ValidationProvider',{attrs:{\"name\":\"country_code\",\"rules\":\"required|min:2\",\"slim\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('SfSelect',{staticClass:\"form__select sf-select--underlined\",attrs:{\"label\":_vm.$t('Country'),\"name\":\"country\",\"required\":\"\",\"valid\":!errors[0],\"error-message\":_vm.$t(errors[0]),\"disabled\":_vm.loading},on:{\"input\":function($event){return _vm.updateCountry({ id: $event })}},model:{value:(_vm.form.country_code),callback:function ($$v) {_vm.$set(_vm.form, \"country_code\", $$v)},expression:\"form.country_code\"}},[_c('SfSelectOption',{attrs:{\"value\":''}}),_vm._v(\" \"),_vm._l((_vm.countriesList),function(countryOption){return _c('SfSelectOption',{key:countryOption.id,attrs:{\"value\":countryOption.abbreviation}},[_vm._v(\"\\n            \"+_vm._s(countryOption.label)+\"\\n          \")])})],2)]}}],null,true)})],1),_vm._v(\" \"),_c('ValidationProvider',{staticClass:\"form__element\",attrs:{\"rules\":\"required|min:8\",\"name\":\"telephone\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('SfInput',{attrs:{\"name\":\"telephone\",\"label\":_vm.$t('Phone number'),\"required\":\"\",\"valid\":!errors[0],\"error-message\":_vm.$t(errors[0]),\"disabled\":_vm.loading},model:{value:(_vm.form.telephone),callback:function ($$v) {_vm.$set(_vm.form, \"telephone\", $$v)},expression:\"form.telephone\"}})]}}],null,true)}),_vm._v(\" \"),_c('SfCheckbox',{staticClass:\"form__checkbox-isDefaultShipping\",attrs:{\"name\":\"isDefaultShipping\",\"label\":_vm.$t('Set as default shipping'),\"disabled\":_vm.loading},model:{value:(_vm.form.default_shipping),callback:function ($$v) {_vm.$set(_vm.form, \"default_shipping\", $$v)},expression:\"form.default_shipping\"}}),_vm._v(\" \"),_c('SfCheckbox',{staticClass:\"form__checkbox-isDefaultBilling\",attrs:{\"name\":\"isDefaultBilling\",\"label\":_vm.$t('Set as default billing'),\"disabled\":_vm.loading},model:{value:(_vm.form.default_billing),callback:function ($$v) {_vm.$set(_vm.form, \"default_billing\", $$v)},expression:\"form.default_billing\"}}),_vm._v(\" \"),_c('SfButton',{staticClass:\"form__button\",attrs:{\"type\":\"submit\",\"disabled\":_vm.loading}},[_vm._t(\"submit-button-content\")],2)],1)]}}],null,true)})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  SfInput,\n  SfButton,\n  SfSelect,\n  SfCheckbox,\n} from '@storefront-ui/vue';\nimport { required, min, oneOf } from 'vee-validate/dist/rules';\nimport { ValidationProvider, ValidationObserver, extend } from 'vee-validate';\nimport {\n  ref,\n  watch,\n  computed,\n  defineComponent,\n  onBeforeMount,\n} from '@nuxtjs/composition-api';\nimport omitDeep from 'omit-deep';\nimport { PropType } from 'vue';\nimport { CountryCodeEnum, useCountrySearch } from '~/composables';\nimport type { Countries, Country, UseCountrySearchParams } from '~/composables';\nimport addressGetter from '~/modules/customer/getters/addressGetter';\nimport type { TransformedCustomerAddress } from '~/modules/customer/composables/types';\n\nextend('required', {\n  ...required,\n  message: 'This field is required',\n});\n\nextend('min', {\n  ...min,\n  message: 'The field should have at least {length} characters',\n});\n\nextend('oneOf', {\n  ...oneOf,\n  message: 'Invalid country',\n});\n\nexport default defineComponent({\n  name: 'AddressForm',\n\n  components: {\n    SfInput,\n    SfButton,\n    SfSelect,\n    SfCheckbox,\n    ValidationProvider,\n    ValidationObserver,\n  },\n\n  props: {\n    address: {\n      type: Object as PropType<TransformedCustomerAddress>,\n      default: () => ({\n        apartment: '',\n        city: '',\n        country_code: '' as CountryCodeEnum,\n        firstname: '',\n        lastname: '',\n        postcode: '',\n        region: {\n          region_code: '',\n          region_id: 0,\n        },\n        street: '',\n        telephone: '',\n        default_shipping: false,\n        default_billing: false,\n      }),\n    },\n    loading: {\n      type: Boolean,\n      default: false,\n    },\n  },\n\n  setup(props, { emit }) {\n    const { load: loadCountries, search: searchCountry } = useCountrySearch();\n\n    const form = ref<TransformedCustomerAddress | null>(null);\n\n    const countries = ref<Countries[]>([]);\n    const countriesList = computed(() => addressGetter.countriesList(countries.value));\n    const country = ref<Country | null>(null);\n    const regionInformation = computed(() => addressGetter.regionList(country.value));\n\n    const updateCountry = async (params: UseCountrySearchParams) => {\n      country.value = await searchCountry(params);\n      form.value.region = { region_id: null, region_code: '' };\n    };\n\n    watch(() => props.address, () => {\n      form.value = {\n        apartment: props.address.apartment,\n        city: props.address.city,\n        country_code: props.address.country_code,\n        firstname: props.address.firstname,\n        lastname: props.address.lastname,\n        postcode: props.address.postcode,\n        region: {\n          region_code: '',\n          region_id: null,\n          ...props.address.region,\n        },\n        street: props.address.street,\n        telephone: props.address.telephone,\n        default_shipping: props.address.default_shipping || false,\n        default_billing: props.address.default_billing || false,\n      } as TransformedCustomerAddress;\n    }, { immediate: true });\n\n    const submitForm = () => {\n      const regionId = regionInformation.value.find((r) => r.abbreviation === form.value.region.region_code)?.id;\n      form.value.region = regionId\n        ? { region_id: regionId }\n        : {\n          ...form.value.region,\n          region_code: '',\n          region_id: null,\n        };\n\n      emit('submit', {\n        form: omitDeep(form.value, ['__typename']),\n        // TODO: Handle Error\n        onError: () => {},\n      });\n    };\n\n    onBeforeMount(async () => {\n      countries.value = await loadCountries();\n      if (props.address.country_code) {\n        country.value = await searchCountry({ id: props.address.country_code });\n      }\n    });\n\n    return {\n      form,\n      submitForm,\n      countriesList,\n      regionInformation,\n      updateCountry,\n    };\n  },\n});\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--13-0!../../../../../node_modules/ts-loader/index.js??ref--13-1!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../node_modules/unplugin/dist/webpack/loaders/transform.js??ref--15-0!./AddressForm.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--13-0!../../../../../node_modules/ts-loader/index.js??ref--13-1!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../node_modules/unplugin/dist/webpack/loaders/transform.js??ref--15-0!./AddressForm.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AddressForm.vue?vue&type=template&id=f2d39966&scoped=true&\"\nimport script from \"./AddressForm.vue?vue&type=script&lang=ts&\"\nexport * from \"./AddressForm.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./AddressForm.vue?vue&type=style&index=0&id=f2d39966&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f2d39966\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/extract-css-chunks-webpack-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../../../../node_modules/sass-resources-loader/lib/loader.js??ref--7-oneOf-1-4!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../node_modules/unplugin/dist/webpack/loaders/transform.js??ref--15-0!./AddressEdit.vue?vue&type=style&index=0&id=54923a00&prod&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"fade\"}},[_c('SfTabs',{staticClass:\"tab-orphan\"},[_c('SfTab',{attrs:{\"title\":_vm.$t('Update the address')}},[_c('p',{directives:[{name:\"t\",rawName:\"v-t\",value:('Contact details updated'),expression:\"'Contact details updated'\"}],staticClass:\"message\"}),_vm._v(\" \"),_c('AddressForm',{attrs:{\"address\":_vm.address || undefined /* use default address prop value during loading */,\"loading\":_vm.$fetchState.pending},on:{\"submit\":_vm.update},scopedSlots:_vm._u([{key:\"submit-button-content\",fn:function(){return [_vm._v(\"\\n          \"+_vm._s(_vm.$t('Update the address'))+\"\\n        \")]},proxy:true}])})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  ref, defineComponent, useFetch, useRouter, useContext,\n} from '@nuxtjs/composition-api';\nimport { SfTabs } from '@storefront-ui/vue';\nimport AddressForm from '~/modules/customer/pages/MyAccount/AddressesDetails/AddressForm.vue';\n\nimport { useAddresses } from '~/modules/customer/composables/useAddresses';\nimport userAddressesGetters from '~/modules/customer/getters/userAddressesGetters';\n\nimport type { CustomerAddress } from '~/modules/GraphQL/types';\nimport type { SubmitEventPayload } from '~/modules/customer/types/form';\n\nexport default defineComponent({\n  name: 'AddressEdit',\n  components: { SfTabs, AddressForm },\n  props: {\n    addressId: {\n      type: String,\n      required: true,\n    },\n  },\n  setup(props) {\n    const router = useRouter();\n    const context = useContext();\n\n    const { load: loadAddress, update: updateAddress } = useAddresses();\n    const address = ref(null);\n    const numericAddressId = Number.parseInt(props.addressId, 10); // because in below find(), CustomerAddress['id'] is numeric\n\n    useFetch(async () => {\n      const addressesData = await loadAddress();\n      address.value = userAddressesGetters\n        .getAddresses(addressesData)\n        .find(({ id }) => id === numericAddressId);\n    });\n\n    const update = async ({ form } : SubmitEventPayload<CustomerAddress>) => {\n      await updateAddress({ address: { ...form, id: numericAddressId } });\n      await router.push(context.localeRoute({ name: 'customer-addresses-details' }));\n    };\n\n    return { address, update };\n  },\n});\n\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--13-0!../../../../../node_modules/ts-loader/index.js??ref--13-1!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../node_modules/unplugin/dist/webpack/loaders/transform.js??ref--15-0!./AddressEdit.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--13-0!../../../../../node_modules/ts-loader/index.js??ref--13-1!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../node_modules/unplugin/dist/webpack/loaders/transform.js??ref--15-0!./AddressEdit.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AddressEdit.vue?vue&type=template&id=54923a00&scoped=true&\"\nimport script from \"./AddressEdit.vue?vue&type=script&lang=ts&\"\nexport * from \"./AddressEdit.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./AddressEdit.vue?vue&type=style&index=0&id=54923a00&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"54923a00\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}