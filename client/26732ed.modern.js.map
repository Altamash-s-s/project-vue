{"version":3,"sources":["webpack:///./modules/catalog/category/components/filters/FiltersSidebar/SelectedFilters.vue?93f8","webpack:///./modules/catalog/category/components/filters/CategoryFilters.vue?0b5c","webpack:///./modules/catalog/category/components/filters/CategoryFilters.vue?d38f","webpack:///./modules/catalog/category/components/filters/renderer/RendererTypesEnum.ts","webpack:///./modules/catalog/category/config/config.ts","webpack:///./modules/catalog/category/config/FiltersConfig.ts","webpack:///./modules/catalog/category/components/filters/command/getProductFilterByCategoryCommand.ts","webpack:///./modules/catalog/category/components/filters/FiltersSidebar/SelectedFilters.vue?c9f8","webpack:///./modules/catalog/category/components/filters/FiltersSidebar/SelectedFilters.vue?6757","webpack:///./modules/catalog/category/components/filters/FiltersSidebar/SelectedFilters.vue","webpack:///./modules/catalog/category/components/filters/FiltersSidebar/SelectedFilters.vue?6b68","webpack:///./modules/catalog/category/components/filters/command/getProductFilterByCategory.gql.ts","webpack:///./modules/catalog/category/components/filters/useFilters.ts","webpack:///./modules/catalog/category/components/filters/CategoryFilters.vue?a694","webpack:///./modules/catalog/category/components/filters/CategoryFilters.vue?9dfa","webpack:///./modules/catalog/category/components/filters/CategoryFilters.vue"],"names":["RendererTypesEnum","FilterTypeEnum","config","attrCode","type","RADIO","component","SWATCH_COLOR","YES_NO","getFilterConfig","defaultCfg","CHECKBOX","disabled","find","cfgItem","defineComponent","components","HTMLContent","SfBadge","SfIcon","props","removableFilters","Array","default","setup","app","i18n","useContext","getLabel","filter","yesNo","label","t","name","_vm","this","_h","$createElement","_c","_self","staticClass","_l","key","attrs","_v","on","$event","preventDefault","$emit","id","value","getProductFilterByCategoryCommand","execute","categoryIdFilter","query","useApi","data","products","aggregations","useFilters","getFacetsFromURL","useUiHelpers","getSelectedFiltersFromUrl","selectedFilterValues","filters","Object","keys","forEach","selectedFilters","ref","isFilterSelected","selected","selectedValue","removeFilter","valToRemove","selectFilter","option","attribute_code","set","f","push","String","getRemovableFilters","result","options","includes","filterConfig","SelectedFilters","SkeletonLoader","CheckboxType","SwatchColorType","RadioType","YesNoType","SfSidebar","SfHeading","SfAccordion","SfFilter","SfButton","SfRadio","isVisible","Boolean","catUid","required","emit","changeFilters","clearFilters","isLoading","updateRemovableFilters","watch","newValue","nextTick","clearAllBodyScrollLocks","onMounted","loadedFilters","eq","isFilterEnabled","attr","provide","doApplyFilters","window","scroll","doRemoveFilter","doClearFilters","_s","$t","n","i","tag","scopedSlots","_u","fn","proxy"],"mappings":"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","file":"26732ed.modern.js","sourcesContent":["export * from \"-!../../../../../../node_modules/extract-css-chunks-webpack-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../../../../../node_modules/sass-resources-loader/lib/loader.js??ref--7-oneOf-1-4!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/unplugin/dist/webpack/loaders/transform.js??ref--15-0!./SelectedFilters.vue?vue&type=style&index=0&id=e29c7f7a&prod&lang=scss&\"","export * from \"-!../../../../../node_modules/extract-css-chunks-webpack-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../../../../node_modules/sass-resources-loader/lib/loader.js??ref--7-oneOf-1-4!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../node_modules/unplugin/dist/webpack/loaders/transform.js??ref--15-0!./CategoryFilters.vue?vue&type=style&index=0&id=7b996852&prod&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h4',{staticClass:\"heading__title h4 desktop-only\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('Filters'))+\"\\n  \")]),_vm._v(\" \"),(_vm.isLoading)?_c('div',{attrs:{\"data-testid\":\"skeleton-loader\"}},_vm._l((3),function(n){return _c('div',{key:n,staticClass:\"desktop-only\"},[_c('SkeletonLoader',{staticClass:\"filters__title sf-heading--left sf-heading\",attrs:{\"height\":\"20px\",\"width\":\"85%\"}}),_vm._v(\" \"),_c('SkeletonLoader',{attrs:{\"width\":\"50%\"}}),_vm._v(\" \"),_c('SkeletonLoader',{attrs:{\"width\":\"62%\"}}),_vm._v(\" \"),_c('SkeletonLoader',{attrs:{\"width\":\"40%\",\"height\":\"10px\"}})],1)}),0):_c('div',{staticClass:\"filters desktop-only\"},[_c('SelectedFilters',{attrs:{\"removable-filters\":_vm.removableFilters},on:{\"removeFilter\":function($event){return _vm.doRemoveFilter($event)}}}),_vm._v(\" \"),_c('hr',{staticClass:\"sf-divider\"}),_vm._v(\" \"),_vm._l((_vm.filters),function(filter,i){return _c('div',{key:i,attrs:{\"data-testid\":\"category-filter\"}},[_c(_vm.getFilterConfig(filter.attribute_code).component,{tag:\"component\",attrs:{\"filter\":filter},on:{\"selectFilter\":function($event){return _vm.selectFilter(filter, $event)}}})],1)}),_vm._v(\" \"),_c('div',{staticClass:\"filters__buttons\"},[_c('SfButton',{staticClass:\"sf-button--full-width\",attrs:{\"data-testid\":\"apply-filters\"},on:{\"click\":_vm.doApplyFilters}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('Apply filters'))+\"\\n      \")]),_vm._v(\" \"),_c('SfButton',{staticClass:\"sf-button--full-width filters__button-clear\",attrs:{\"data-testid\":\"clear-filters\"},on:{\"click\":_vm.doClearFilters}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('Clear all'))+\"\\n      \")])],1)],2),_vm._v(\" \"),_c('SfSidebar',{staticClass:\"sidebar-filters smartphone-only\",attrs:{\"visible\":_vm.isVisible,\"title\":_vm.$t('Filters'),\"data-testid\":\"mobile-sidebar\"},on:{\"close\":function($event){return _vm.$emit('close')}},scopedSlots:_vm._u([{key:\"content-bottom\",fn:function(){return [_c('div',{staticClass:\"filters__buttons\"},[_c('SfButton',{staticClass:\"sf-button--full-width\",on:{\"click\":_vm.doApplyFilters}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('Apply filters'))+\"\\n        \")]),_vm._v(\" \"),_c('SfButton',{staticClass:\"sf-button--full-width filters__button-clear\",on:{\"click\":_vm.doClearFilters}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('Clear all'))+\"\\n        \")])],1)]},proxy:true}])},[_c('SfAccordion',{staticClass:\"filters smartphone-only\"},[_c('SelectedFilters',{on:{\"removeFilter\":function($event){return _vm.doRemoveFilter($event)}}}),_vm._v(\" \"),_c('hr',{staticClass:\"sf-divider\"}),_vm._v(\" \"),_vm._l((_vm.filters),function(filter,i){return _c('div',{key:i},[_c('SfAccordionItem',{key:(\"filter-title-\" + (filter.attribute_code)),staticClass:\"filters__accordion-item\",attrs:{\"header\":filter.label}},[_c(_vm.getFilterConfig(filter.attribute_code).component,{tag:\"component\",attrs:{\"filter\":filter},on:{\"selectFilter\":function($event){return _vm.selectFilter(filter, $event)}}})],1)],1)})],2)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","enum RendererTypesEnum {\n  RADIO = 'RadioType',\n  CHECKBOX = 'CheckboxType',\n  SWATCH_COLOR = 'SwatchColorType',\n  YES_NO = 'YesNoType',\n  DEFAULT = 'CheckboxType',\n}\n\nexport default RendererTypesEnum;\n","import RendererTypesEnum from '~/modules/catalog/category/components/filters/renderer/RendererTypesEnum';\nimport type { FilterConfigInterface } from '~/modules/catalog/category/config/FiltersConfig';\n\nexport enum FilterTypeEnum {\n  RADIO = 'radio',\n  CHECKBOX = 'checkbox',\n  SWATCH_COLOR = 'swatch_color',\n  YES_NO = 'yes_no',\n}\n\n/**\n * Override this to add/modify filters renderers and data\n *\n * @attrCode: Magento attribute code\n * @type: internal filter type\n * @component: filter renderer component\n * @disabled: flag to disable filter on the front; disabled filter will be not rendered\n */\nexport default function config(): FilterConfigInterface[] {\n  return [\n    {\n      attrCode: 'price',\n      type: FilterTypeEnum.RADIO,\n      component: RendererTypesEnum.RADIO,\n    },\n    {\n      attrCode: 'size',\n    },\n    {\n      attrCode: 'material',\n    },\n    {\n      attrCode: 'strap_bags',\n    },\n    {\n      attrCode: 'style_bottom',\n    },\n    {\n      attrCode: 'color',\n      type: FilterTypeEnum.SWATCH_COLOR,\n      component: RendererTypesEnum.SWATCH_COLOR,\n    },\n    {\n      attrCode: 'new',\n      type: FilterTypeEnum.YES_NO,\n      component: RendererTypesEnum.YES_NO,\n    },\n    {\n      attrCode: 'sale',\n      type: FilterTypeEnum.YES_NO,\n      component: RendererTypesEnum.YES_NO,\n    },\n  ];\n}\n","import RendererTypesEnum from '~/modules/catalog/category/components/filters/renderer/RendererTypesEnum';\nimport config, { FilterTypeEnum } from './config';\n\nexport interface FilterConfigInterface {\n  attrCode: string;\n  component?: RendererTypesEnum;\n  type?: FilterTypeEnum;\n  disabled?: boolean\n}\n\nexport const getFilterConfig = (attrCode: string): FilterConfigInterface => {\n  const defaultCfg = {\n    attrCode,\n    type: FilterTypeEnum.CHECKBOX,\n    component: RendererTypesEnum.CHECKBOX,\n    disabled: false,\n  };\n\n  const find = config().find((cfgItem) => cfgItem.attrCode === attrCode) ?? {};\n  return { ...defaultCfg, ...find };\n};\n\nexport const getDisabledFilters = () => config().filter((filter) => filter.disabled).map((filter) => filter.attrCode);\nexport const isFilterEnabled = (attrCode: string) => config().find((attr) => attr.attrCode === attrCode && !attr.disabled);\n","import { useApi } from '~/composables/useApi';\nimport { Aggregation, FilterEqualTypeInput, Products } from '~/modules/GraphQL/types';\nimport GetProductFilterByCategoryQuery from '~/modules/catalog/category/components/filters/command/getProductFilterByCategory.gql';\n\nexport const getProductFilterByCategoryCommand = {\n  execute: async (categoryIdFilter: FilterEqualTypeInput): Promise<Aggregation[]> => {\n    const { query } = useApi();\n    const { data } = await query<{ products: Products }>(GetProductFilterByCategoryQuery, { categoryIdFilter });\n\n    return data?.products?.aggregations ?? [];\n  },\n};\n\nexport default getProductFilterByCategoryCommand;\n","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--13-0!../../../../../../node_modules/ts-loader/index.js??ref--13-1!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/unplugin/dist/webpack/loaders/transform.js??ref--15-0!./SelectedFilters.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--13-0!../../../../../../node_modules/ts-loader/index.js??ref--13-1!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/unplugin/dist/webpack/loaders/transform.js??ref--15-0!./SelectedFilters.vue?vue&type=script&lang=ts&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { defineComponent, PropType, useContext } from '@nuxtjs/composition-api';\nimport { SfBadge, SfIcon } from '@storefront-ui/vue';\nimport HTMLContent from '~/components/HTMLContent.vue';\nimport type { RemovableFilterInterface } from '~/modules/catalog/category/components/filters/useFilters';\nimport { FilterTypeEnum } from '~/modules/catalog/category/config/config';\n\nexport default defineComponent({\n  components: {\n    HTMLContent,\n    SfBadge,\n    SfIcon,\n  },\n  props: {\n    removableFilters: {\n      type: Array as PropType<RemovableFilterInterface[]>,\n      default: () => [],\n    },\n  },\n  setup() {\n    const { app: { i18n } } = useContext();\n\n    const getLabel = (filter: RemovableFilterInterface) => {\n      if (filter.type === FilterTypeEnum.YES_NO) {\n        const yesNo = filter.label === '1' ? i18n.t('Yes') : i18n.t('No');\n        return `${filter.name}: ${yesNo}`;\n      }\n\n      return filter.label;\n    };\n\n    return {\n      getLabel,\n    };\n  },\n});\n","import { render, staticRenderFns } from \"./SelectedFilters.vue?vue&type=template&id=e29c7f7a&\"\nimport script from \"./SelectedFilters.vue?vue&type=script&lang=ts&\"\nexport * from \"./SelectedFilters.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./SelectedFilters.vue?vue&type=style&index=0&id=e29c7f7a&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"selected-filters-wrapper\"},_vm._l((_vm.removableFilters),function(filter,key){return _c('SfBadge',{key:key,staticClass:\"selected-filter\",attrs:{\"data-testid\":\"selected-filter\"}},[_c('HTMLContent',{staticClass:\"selected-filter__label\",attrs:{\"tag\":\"span\",\"content\":_vm.getLabel(filter)}}),_vm._v(\" \"),_c('button',{staticClass:\"selected-filter__remove\",attrs:{\"type\":\"button\",\"data-testid\":\"selected-filter-remove\"},on:{\"click\":function($event){$event.preventDefault();return _vm.$emit('removeFilter', { id: filter.id, value: filter.value })}}},[_c('SfIcon',{staticClass:\"sf-cross__icon\",attrs:{\"icon\":\"cross\",\"size\":\"20px\",\"color\":\"white\",\"viewBox\":\"0 0 24 12\"}})],1)],1)}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default `\n  query getProductFiltersByCategory($categoryIdFilter: FilterEqualTypeInput!) {\n    products(filter: { category_uid: $categoryIdFilter }) {\n      aggregations {\n        label\n        count\n        attribute_code\n        options {\n          count\n          label\n          value\n          __typename\n        }\n        position\n        __typename\n      }\n      __typename\n    }\n  }\n`;\n","import {\n  ref, set,\n} from '@nuxtjs/composition-api';\nimport { useUiHelpers } from '~/composables';\nimport { getFilterConfig } from '~/modules/catalog/category/config/FiltersConfig';\nimport { FilterTypeEnum } from '~/modules/catalog/category/config/config';\nimport type { Aggregation, AggregationOption } from '~/modules/GraphQL/types';\n\nexport interface SelectedFiltersInterface {[p: string]: string[]}\n\nexport interface RemovableFilterInterface {\n  id: string;\n  name: string;\n  label: string;\n  value: string;\n  type: string;\n}\n\nexport function useFilters() {\n  // @ts-ignore\n  const { getFacetsFromURL } = useUiHelpers();\n\n  const getSelectedFiltersFromUrl = () => {\n    const selectedFilterValues = {};\n    const { filters } = getFacetsFromURL();\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n    Object.keys(filters).forEach((filter) => {\n      selectedFilterValues[filter] = filters[filter];\n    });\n\n    return selectedFilterValues;\n  };\n\n  const selectedFilters = ref<SelectedFiltersInterface>(getSelectedFiltersFromUrl());\n\n  const isFilterSelected = (name: string, value: string) => {\n    const selected = (selectedFilters.value[name] ?? []).find((selectedValue) => selectedValue === value);\n\n    return selected ?? '';\n  };\n\n  const removeFilter = (attrCode: string, valToRemove: string) => {\n    if (!selectedFilters.value[attrCode]) return;\n    selectedFilters.value[attrCode] = selectedFilters.value[attrCode].filter((value) => value !== valToRemove);\n  };\n\n  const selectFilter = (filter: Aggregation, option: AggregationOption) => {\n    const config = getFilterConfig(filter.attribute_code);\n    if (!selectedFilters.value[filter.attribute_code]) {\n      set(selectedFilters.value, filter.attribute_code, []);\n    }\n\n    if (config.type === FilterTypeEnum.RADIO || config.type === FilterTypeEnum.YES_NO) {\n      selectedFilters.value[filter.attribute_code] = [option.value];\n      return;\n    }\n\n    if (selectedFilters.value[filter.attribute_code].find((f) => f === option.value)) {\n      selectedFilters.value[filter.attribute_code] = selectedFilters.value[\n        filter.attribute_code\n      ]?.filter((f) => f !== option.value);\n      return;\n    }\n\n    selectedFilters.value[filter.attribute_code].push(String(option.value));\n  };\n\n  const getRemovableFilters = (filters: Aggregation[], selected: SelectedFiltersInterface): RemovableFilterInterface[] => {\n    const result = [];\n\n    filters.forEach((filter) => {\n      filter.options.forEach((option) => {\n        if ((selected[filter.attribute_code] ?? []).includes(option.value)) {\n          const filterConfig = getFilterConfig(filter.attribute_code);\n\n          result.push({\n            id: filter.attribute_code, name: filter.label, label: option.label, value: option.value, type: filterConfig.type,\n          });\n        }\n      });\n    });\n\n    return result;\n  };\n\n  return {\n    getSelectedFiltersFromUrl,\n    isFilterSelected,\n    removeFilter,\n    selectFilter,\n    selectedFilters,\n    getRemovableFilters,\n  };\n}\n\nexport default useFilters;\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--13-0!../../../../../node_modules/ts-loader/index.js??ref--13-1!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../node_modules/unplugin/dist/webpack/loaders/transform.js??ref--15-0!./CategoryFilters.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--13-0!../../../../../node_modules/ts-loader/index.js??ref--13-1!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../node_modules/unplugin/dist/webpack/loaders/transform.js??ref--15-0!./CategoryFilters.vue?vue&type=script&lang=ts&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  defineComponent, onMounted, provide, Ref, ref, nextTick, watch,\n} from '@nuxtjs/composition-api';\nimport {\n  SfAccordion,\n  SfButton,\n  SfFilter,\n  SfHeading,\n  SfRadio,\n  SfSidebar,\n} from '@storefront-ui/vue';\n\nimport { clearAllBodyScrollLocks } from 'body-scroll-lock';\nimport SkeletonLoader from '~/components/SkeletonLoader/index.vue';\nimport { useUiHelpers } from '~/composables';\nimport { getFilterConfig, isFilterEnabled } from '~/modules/catalog/category/config/FiltersConfig';\nimport SelectedFilters from '~/modules/catalog/category/components/filters/FiltersSidebar/SelectedFilters.vue';\nimport { getProductFilterByCategoryCommand } from '~/modules/catalog/category/components/filters/command/getProductFilterByCategoryCommand';\n\nimport type { Aggregation } from '~/modules/GraphQL/types';\nimport type { SelectedFiltersInterface } from './useFilters';\nimport { useFilters } from './useFilters';\n\nexport interface UseFiltersProviderInterface {\n  selectedFilters: Ref<SelectedFiltersInterface>,\n  filters: Ref<Aggregation[]>,\n}\n\nexport default defineComponent({\n  name: 'CategoryFilters',\n  components: {\n    SelectedFilters,\n    SkeletonLoader,\n    CheckboxType: () => import('~/modules/catalog/category/components/filters/renderer/CheckboxType.vue'),\n    SwatchColorType: () => import('~/modules/catalog/category/components/filters/renderer/SwatchColorType.vue'),\n    RadioType: () => import('~/modules/catalog/category/components/filters/renderer/RadioType.vue'),\n    YesNoType: () => import('~/modules/catalog/category/components/filters/renderer/YesNoType.vue'),\n    SfSidebar,\n    SfHeading,\n    SfAccordion,\n    SfFilter,\n    SfButton,\n    SfRadio,\n  },\n  props: {\n    isVisible: {\n      type: Boolean,\n      default: false,\n    },\n    catUid: {\n      type: String,\n      required: true,\n    },\n  },\n  setup(props, { emit }) {\n    const { changeFilters, clearFilters } = useUiHelpers();\n    const removableFilters = ref([]);\n    const filters = ref<Aggregation[]>([]);\n    const isLoading = ref(true);\n\n    const {\n      selectedFilters, selectFilter, removeFilter, isFilterSelected, getRemovableFilters,\n    } = useFilters();\n\n    const updateRemovableFilters = () => {\n      removableFilters.value = getRemovableFilters(filters.value, selectedFilters.value);\n    };\n\n    const doApplyFilters = () => {\n      changeFilters(selectedFilters.value, false);\n      updateRemovableFilters();\n      if (window?.scroll) {\n        window.scroll(0, 0);\n      }\n      emit('reloadProducts');\n      emit('close');\n    };\n\n    const doRemoveFilter = ({ id, value }: { id: string, value: string }) => {\n      removeFilter(id, value);\n      changeFilters(selectedFilters.value, false);\n      updateRemovableFilters();\n      emit('reloadProducts');\n      emit('close');\n    };\n\n    const doClearFilters = () => {\n      clearFilters(false);\n      selectedFilters.value = {};\n      updateRemovableFilters();\n      emit('reloadProducts');\n      emit('close');\n    };\n\n    watch(() => props.isVisible, (newValue) => {\n      // disable Storefrontt UI's body scroll lock which is launched when :visible prop on SfSidebar changes\n      // two next ticks because SfSidebar uses nextTick aswell, and we want to do something after that tick.\n      if (newValue) {\n        nextTick(() => nextTick(() => clearAllBodyScrollLocks()));\n      }\n    });\n\n    onMounted(async () => {\n      const loadedFilters = await getProductFilterByCategoryCommand.execute({ eq: props.catUid });\n      filters.value = loadedFilters.filter((filter) => isFilterEnabled(filter.attribute_code));\n      updateRemovableFilters();\n      isLoading.value = false;\n    });\n\n    provide('UseFiltersProvider', { isFilterSelected, selectedFilters, filters });\n\n    return {\n      selectFilter,\n      doApplyFilters,\n      doRemoveFilter,\n      doClearFilters,\n      getFilterConfig,\n      selectedFilters,\n      filters,\n      isLoading,\n      removableFilters,\n    };\n  },\n});\n","import { render, staticRenderFns } from \"./CategoryFilters.vue?vue&type=template&id=7b996852&scoped=true&\"\nimport script from \"./CategoryFilters.vue?vue&type=script&lang=ts&\"\nexport * from \"./CategoryFilters.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./CategoryFilters.vue?vue&type=style&index=0&id=7b996852&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7b996852\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}