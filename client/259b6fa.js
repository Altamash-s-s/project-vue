(window.webpackJsonp=window.webpackJsonp||[]).push([[94],{1007:function(e,t,n){"use strict";n.r(t);n(12),n(15),n(16),n(17);var r=n(11),l=n(2),o=n(4),c=(n(5),n(44),n(58),n(14),n(34),n(13),n(26),n(199)),d=n(209),f=n(49),v=n(588),m=n(532),h=n(483),_=n(485),y=n(0),O=n(646),S=n(521),j=n(30),A=n(210),x=n(220),k=n(57),C=n(207),D=n(538),address=n(594),w=n(499),N=n(547);function P(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function B(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?P(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):P(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}Object(h.c)("required",B(B({},_.f),{},{message:"This field is required"})),Object(h.c)("min",B(B({},_.d),{},{message:"The field should have at least {length} characters"})),Object(h.c)("digits",B(B({},_.b),{},{message:"Please provide a valid phone number"}));var $=Object(y.b)({name:"BillingStep",components:{SfHeading:c.a,SfInput:d.a,SfButton:f.a,SfSelect:v.a,SfCheckbox:m.a,ValidationProvider:h.b,ValidationObserver:h.a,UserBillingAddresses:function(){return n.e(103).then(n.bind(null,1025))},UserAddressDetails:D.a},setup:function(){var e=Object(y.v)(),t=Object(y.s)().app,n=Object(y.l)(null),o=Object(y.l)(null),c=Object(x.a)(),d=c.save,f=c.load,v=c.loading,m=Object(C.b)(),h=m.load,_=m.setDefaultAddress,D=Object(A.a)().load,P=Object(j.e)(),$=P.load,I=P.search,M=Object(y.l)([]),R=Object(y.l)(null),T=Object(y.a)((function(){var e,t;return null!==(t=null===(e=M.value.find((function(e){var t;return e.id===(null===(t=n.value)||void 0===t?void 0:t.country.code)})))||void 0===e?void 0:e.full_name_locale)&&void 0!==t?t:""})),V=Object(k.b)().isAuthenticated,E=null,H=Object(y.l)(!1),L=Object(y.l)(Object(address.d)()),F=Object(y.l)(null),J=Object(y.l)(!1),W=Object(y.l)(!1),U=Object(y.l)(!0),z=Object(y.l)(!1),G=Object(y.a)((function(){return o.value?O.a.getAddresses(o.value):[]})),Z=Object(y.a)((function(){return!v.value&&L.value&&Object.keys(L.value).length>0})),K=Object(y.a)((function(){return!(!V.value||!o.value)&&G.value.length>0})),Q=Object(y.a)((function(){return S.a.countriesList(M.value)})),X=Object(y.a)((function(){return S.a.regionList(R.value)})),Y=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H.value=t,!t){e.next=17;break}return e.next=4,D();case 4:return n.value=e.sent,e.next=7,I({id:n.value.country.code});case 7:if(R.value=e.sent,E=B({},L.value),L.value=B({},Object(address.c)(n.value)),F.value=null,J.value=!1,!L.value.country_code){e.next=16;break}return e.next=15,I({id:null==L?void 0:L.value.country_code});case 15:R.value=e.sent;case 16:return e.abrupt("return");case 17:if(L.value=E,!L.value.country_code){e.next=22;break}return e.next=21,I({id:null==L?void 0:L.value.country_code});case 21:R.value=e.sent;case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null==t?void 0:t.id,F.value=n,n&&(U.value=!1),L.value=Object(address.a)(t),!t.country_code){e.next=10;break}return e.next=7,I({id:t.country_code});case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=null;case 11:R.value=e.t0,z.value=!1;case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(e,t){L.value[e]=t,F.value=null,z.value=!1},ne=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return te("country_code",t),e.next=3,I({id:t});case 3:n=e.sent,L.value.region="",R.value=n;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(y.g)(Object(l.a)(regeneratorRuntime.mark((function n(){var l,c,d,v,m,_,y,S,j,A,x;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(N.a)("user-account");case 2:if(n.sent){n.next=6;break}return n.next=6,e.push(t.localeRoute({name:"user-account"}));case 6:return n.next=8,Promise.all([f(),h(),$()]);case 8:if(c=n.sent,d=Object(r.a)(c,3),v=d[0],m=d[1],_=d[2],y=O.a.getAddresses(m,{default_billing:!0}),S=Object(r.a)(y,1),j=S[0],A=void 0===j?null:j,Boolean(v)?(x=Object(address.b)(null==m?void 0:m.addresses,v),ee(B(B({},v),{},{id:null==x?void 0:x.id}))):A&&ee(A),!(null===(l=L.value)||void 0===l?void 0:l.country_code)){n.next=20;break}return n.next=19,I({id:L.value.country_code});case 19:R.value=n.sent;case 20:o.value=m,M.value=_;case 22:case"end":return n.stop()}}),n)})))),{isAddNewAddressFormVisible:U,canMoveForward:Z,changeCountry:ne,changeBillingDetails:te,countriesList:Q,countries:M,country:R,currentAddressId:F,handleAddNewAddressBtnClick:function(){F.value=null,L.value=Object(address.d)(),U.value=!0,z.value=!1},handleAddressSubmit:function(n){return Object(l.a)(regeneratorRuntime.mark((function l(){var c,f,v,m,y;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return c=F.value,f={billingDetails:B(B({},L.value),{},{customerAddressId:null===c?null:String(c),sameAsShipping:H.value,save_in_address_book:!1})},l.next=4,d(f);case 4:if(null===c||!J.value){l.next=13;break}if(v=O.a.getAddresses(o.value,{id:c}),m=Object(r.a)(v,1),(y=m[0]).default_billing=J.value,!y){l.next=13;break}return l.next=10,_({address:y});case 10:return l.next=12,h(!0);case 12:o.value=l.sent;case 13:return n(),l.next=16,Object(w.b)("checkout",{billing:f});case 16:return l.next=18,e.push(t.localeRoute({name:"payment"}));case 18:z.value=!0;case 19:case"end":return l.stop()}}),l)})))},handleSetCurrentAddress:ee,handleCheckSameAddress:Y,hasSavedBillingAddress:K,isAuthenticated:V,isFormSubmitted:W,isBillingDetailsStepCompleted:z,loading:v,regionInformation:X,searchCountry:I,setAsDefault:J,billingDetails:L,sameAsShipping:H,shippingDetailsCountryName:T,addresses:G}}}),I=$,M=(n(770),n(9)),component=Object(M.a)(I,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ValidationObserver",{scopedSlots:e._u([{key:"default",fn:function(t){var r=t.handleSubmit,l=t.reset;return[n("SfHeading",{directives:[{name:"e2e",rawName:"v-e2e",value:"heading-billing",expression:"'heading-billing'"}],staticClass:"sf-heading--left sf-heading--no-underline title",attrs:{level:3,title:e.$t("Billing address")}}),e._v(" "),e.hasSavedBillingAddress?n("SfHeading",{directives:[{name:"e2e",rawName:"v-e2e",value:"shipping-heading",expression:"'shipping-heading'"}],staticClass:"sf-heading--left sf-heading--no-underline form-subtitle",attrs:{level:4,title:e.$t("Select previously saved address")}}):e._e(),e._v(" "),n("form",{on:{submit:function(t){t.preventDefault(),r(e.handleAddressSubmit(l))}}},[n("SfCheckbox",{directives:[{name:"e2e",rawName:"v-e2e",value:"copy-address",expression:"'copy-address'"}],staticClass:"form__element",attrs:{selected:e.sameAsShipping,label:e.$t("My billing and shipping address are the same"),name:"copyShippingAddress"},on:{change:function(t){return e.handleCheckSameAddress(t)}}}),e._v(" "),e.sameAsShipping?n("div",{staticClass:"copy__shipping__addresses"},[n("div",{staticClass:"copy__shipping__address"},[n("div",{staticClass:"sf-address"},[n("UserAddressDetails",{attrs:{address:Object.assign({},e.billingDetails,{region:{region_code:e.billingDetails.region}})},scopedSlots:e._u([{key:"country",fn:function(){return[e._v("\n              "+e._s(e.shippingDetailsCountryName)+"\n            ")]},proxy:!0}],null,!0)})],1)])]):e._e(),e._v(" "),!e.sameAsShipping&&e.isAuthenticated&&e.hasSavedBillingAddress?n("UserBillingAddresses",{directives:[{name:"e2e",rawName:"v-e2e",value:"billing-addresses",expression:"'billing-addresses'"}],attrs:{"current-address-id":e.currentAddressId,"billing-addresses":e.addresses,countries:e.countries},on:{setCurrentAddress:function(t){return e.handleSetCurrentAddress(t)}},model:{value:e.setAsDefault,callback:function(t){e.setAsDefault=t},expression:"setAsDefault"}}):e._e(),e._v(" "),!e.sameAsShipping&&e.isAddNewAddressFormVisible?n("div",{staticClass:"form"},[e.hasSavedBillingAddress?n("SfHeading",{directives:[{name:"e2e",rawName:"v-e2e",value:"shipping-heading",expression:"'shipping-heading'"}],staticClass:"sf-heading--left sf-heading--no-underline form-subtitle",attrs:{level:4,title:e.$t("Enter different address")}}):e._e(),e._v(" "),n("ValidationProvider",{attrs:{name:"firstname",rules:"required|min:2",slim:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[n("SfInput",{directives:[{name:"e2e",rawName:"v-e2e",value:"firstName",expression:"'firstName'"}],staticClass:"form__element form__element--half",attrs:{value:e.billingDetails.firstname,label:e.$t("First Name"),name:"firstName",required:"",valid:!r[0],"error-message":e.$t(r[0])},on:{input:function(t){return e.changeBillingDetails("firstname",t)}}})]}}],null,!0)}),e._v(" "),n("ValidationProvider",{attrs:{name:"lastname",rules:"required|min:2",slim:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[n("SfInput",{directives:[{name:"e2e",rawName:"v-e2e",value:"lastName",expression:"'lastName'"}],staticClass:"form__element form__element--half form__element--half-even",attrs:{value:e.billingDetails.lastname,label:e.$t("Last Name"),name:"lastName",required:"",valid:!r[0],"error-message":e.$t(r[0])},on:{input:function(t){return e.changeBillingDetails("lastname",t)}}})]}}],null,!0)}),e._v(" "),n("ValidationProvider",{attrs:{name:"street",rules:"required",slim:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[n("SfInput",{directives:[{name:"e2e",rawName:"v-e2e",value:"streetName",expression:"'streetName'"}],staticClass:"form__element form__element--half",attrs:{value:e.billingDetails.street,label:e.$t("Street Name"),name:"streetName",required:"",valid:!r[0],"error-message":e.$t(r[0])},on:{input:function(t){return e.changeBillingDetails("street",t)}}})]}}],null,!0)}),e._v(" "),n("ValidationProvider",{attrs:{name:"apartment",rules:"required|min:1",slim:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[n("SfInput",{directives:[{name:"e2e",rawName:"v-e2e",value:"apartment",expression:"'apartment'"}],staticClass:"form__element form__element--half form__element--half-even",attrs:{value:e.billingDetails.apartment,label:e.$t("House/Apartment number"),name:"apartment",required:"",valid:!r[0],"error-message":e.$t(r[0])},on:{input:function(t){return e.changeBillingDetails("apartment",t)}}})]}}],null,!0)}),e._v(" "),n("ValidationProvider",{attrs:{name:"city",rules:"required|min:2",slim:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[n("SfInput",{directives:[{name:"e2e",rawName:"v-e2e",value:"city",expression:"'city'"}],staticClass:"form__element form__element--half",attrs:{value:e.billingDetails.city,label:e.$t("City"),name:"city",required:"",valid:!r[0],"error-message":e.$t(r[0])},on:{input:function(t){return e.changeBillingDetails("city",t)}}})]}}],null,!0)}),e._v(" "),n("ValidationProvider",{attrs:{name:"state",rules:e.regionInformation?"required|min:2":null,slim:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[e.billingDetails.country_code&&0!==e.regionInformation.length?n("SfSelect",{directives:[{name:"e2e",rawName:"v-e2e",value:"state",expression:"'state'"}],staticClass:"form__element form__element--half form__element--half-even form__select sf-select--underlined",attrs:{label:e.$t("State/Province"),name:"state",required:"",valid:!r[0],"error-message":e.$t(r[0])},on:{input:function(t){return e.changeBillingDetails("region",t)}},model:{value:e.billingDetails.region,callback:function(t){e.$set(e.billingDetails,"region",t)},expression:"billingDetails.region"}},[n("SfSelectOption",{attrs:{value:""}}),e._v(" "),e._l(e.regionInformation,(function(t){return n("SfSelectOption",{key:t.id,attrs:{value:t.abbreviation}},[e._v("\n            "+e._s(t.label)+"\n          ")])}))],2):n("SfInput",{directives:[{name:"e2e",rawName:"v-e2e",value:"state",expression:"'state'"}],staticClass:"form__element form__element--half form__element--half-even",attrs:{label:e.$t("State/Province"),required:"",valid:!r[0],"error-message":e.$t(r[0]),disabled:!e.billingDetails.country_code,name:"state"},on:{input:function(t){return e.changeBillingDetails("region",t)}},model:{value:e.billingDetails.region,callback:function(t){e.$set(e.billingDetails,"region",t)},expression:"billingDetails.region"}})]}}],null,!0)}),e._v(" "),n("ValidationProvider",{attrs:{name:"country_code",rules:"required|min:2",slim:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[n("SfSelect",{directives:[{name:"e2e",rawName:"v-e2e",value:"country",expression:"'country'"}],staticClass:"form__element form__element--half form__select sf-select--underlined",attrs:{value:e.billingDetails.country_code,label:e.$t("Country"),name:"country",required:"",valid:!r[0],"error-message":e.$t(r[0])},on:{input:e.changeCountry}},[n("SfSelectOption",{attrs:{value:""}}),e._v(" "),e._l(e.countriesList,(function(t){return n("SfSelectOption",{key:t.id,attrs:{value:t.abbreviation}},[e._v("\n            "+e._s(t.label)+"\n          ")])}))],2)]}}],null,!0)}),e._v(" "),n("ValidationProvider",{attrs:{name:"postcode",rules:"required|min:2",slim:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[n("SfInput",{directives:[{name:"e2e",rawName:"v-e2e",value:"zipcode",expression:"'zipcode'"}],staticClass:"form__element form__element--half form__element--half-even",attrs:{value:e.billingDetails.postcode,label:e.$t("Zip-code"),name:"zipCode",required:"",valid:!r[0],"error-message":e.$t(r[0])},on:{input:function(t){return e.changeBillingDetails("postcode",t)}}})]}}],null,!0)}),e._v(" "),n("ValidationProvider",{attrs:{name:"telephone",rules:"required|min:8",slim:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[n("SfInput",{directives:[{name:"e2e",rawName:"v-e2e",value:"phone",expression:"'phone'"}],staticClass:"form__element form__element--half",attrs:{value:e.billingDetails.telephone,label:e.$t("Phone number"),name:"phone",required:"",valid:!r[0],"error-message":e.$t(r[0])},on:{input:function(t){return e.changeBillingDetails("telephone",t)}}})]}}],null,!0)})],1):e._e(),e._v(" "),e.sameAsShipping||e.isAddNewAddressFormVisible?e._e():n("SfButton",{staticClass:"color-light form__action-button form__action-button--add-address",attrs:{type:"submit"},on:{click:e.handleAddNewAddressBtnClick}},[e._v("\n      "+e._s(e.$t("Add new address"))+"\n    ")]),e._v(" "),n("div",{staticClass:"form"},[n("div",{staticClass:"form__action"},[n("SfButton",{directives:[{name:"e2e",rawName:"v-e2e",value:"continue-to-payment",expression:"'continue-to-payment'"}],staticClass:"form__action-button",attrs:{type:"submit",disabled:!e.canMoveForward}},[e._v("\n          "+e._s(e.$t("Continue to payment"))+"\n        ")]),e._v(" "),n("nuxt-link",{staticClass:"sf-button sf-button--underlined form__back-button smartphone-only",attrs:{to:"localePath('/checkout/shipping')"}},[e._v("\n          "+e._s(e.$t("Go back"))+"\n        ")])],1)])],1)]}}])})}),[],!1,null,"1efcdb5e",null);t.default=component.exports},476:function(e,t,n){},490:function(e,t,n){"use strict";n(476)},499:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return v})),n.d(t,"b",(function(){return m}));n(14),n(12),n(15),n(16),n(17);var r=n(4);n(13);function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function o(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var c=function(e){return"vsf-".concat(e)},d=function(e,t){return new Promise((function(n,r){try{var l=e();t&&t(null,l),n(l)}catch(e){t&&t(e),r(e)}}))},f=function(e,t){return d((function(){return JSON.parse(window.localStorage.getItem(c(e)))}),t)},v=function(e,t){return d((function(){window.localStorage.removeItem(c(e))}),t)},m=function(e,t,n){return d((function(){return function(e,t){var n=window.localStorage.getItem(e),r=JSON.parse(n),l=t,c=JSON.stringify(o(o({},JSON.parse(JSON.stringify(r))),JSON.parse(JSON.stringify(l))));window.localStorage.setItem(e,c)}(c(e),t)}),n)}},513:function(e,t,n){"use strict";var r=n(11),l=(n(20),n(14),n(87),n(15),n(82)),o={getAddresses:function(e,t){var n,o;if(!e||0===e.length||!Array.isArray(e))return[];var c=null===(o=null===(n=null==e?void 0:e.map((function(a){return Object(l.b)(a)})))||void 0===n?void 0:n.sort((function(a,b){return a.default_shipping===b.default_shipping?0:a.default_shipping?-1:1})))||void 0===o?void 0:o.sort((function(a,b){return a.default_billing===b.default_billing?0:a.default_billing?-1:1}));if(!t||0===Object.keys(t).length)return c;var d=Object.entries(t);return c.filter((function(address){return d.every((function(e){var t=Object(r.a)(e,2),n=t[0],l=t[1];return address[n]===l}))}))},getTotal:function(e){return e.length},getPostCode:function(address){return(null==address?void 0:address.postcode)||""},getStreetName:function(address){return Array.isArray(null==address?void 0:address.street)?null==address?void 0:address.street[0]:null==address?void 0:address.street},getCity:function(address){return(null==address?void 0:address.city)||""},getFirstName:function(address){return(null==address?void 0:address.firstname)||""},getLastName:function(address){return(null==address?void 0:address.lastname)||""},getCountry:function(address){return(null==address?void 0:address.country_code)||""},getPhone:function(address){return(null==address?void 0:address.telephone)||""},getEmail:function(address){return(null==address?void 0:address.email)||""},getApartmentNumber:function(address){return Array.isArray(null==address?void 0:address.street)?null==address?void 0:address.street[1]:null==address?void 0:address.apartment},getProvince:function(address){var e,t;return(null===(e=null==address?void 0:address.region)||void 0===e?void 0:e.region)||(null===(t=null==address?void 0:address.region)||void 0===t?void 0:t.region_code)||""},getCompanyName:function(address){return(null==address?void 0:address.company)||""},getTaxNumber:function(address){return(null==address?void 0:address.vat_id)||""},getId:function(address){return(null==address?void 0:address.id)||""},getNeighborhood:function(address){return Array.isArray(null==address?void 0:address.street)?null==address?void 0:address.street[2]:null==address?void 0:address.neighborhood},getAddressExtra:function(address){return Array.isArray(null==address?void 0:address.street)?null==address?void 0:address.street[3]:null==address?void 0:address.extra},isDefault:function(address){return(null==address?void 0:address.default_shipping)||(null==address?void 0:address.default_billing)||!1},isDefaultShipping:function(address){return(null==address?void 0:address.default_shipping)||!1},isDefaultBilling:function(address){return(null==address?void 0:address.default_billing)||!1}};t.a=o},514:function(e,t,n){},521:function(e,t,n){"use strict";n(20),n(15),n(21);t.a={countriesList:function(e){return e.filter((function(e){return e.id&&e.full_name_english&&e.full_name_locale})).map((function(e){return{id:e.id,label:e.full_name_locale,englishLabel:e.full_name_english,abbreviation:e.two_letter_abbreviation}})).sort((function(a,b){return a.label.localeCompare(b.label)}))},regionList:function(e){return(null==e?void 0:e.available_regions)?e.available_regions.filter((function(e){return e.id&&e.code&&e.name})).map((function(e){return{id:e.id,label:e.name,abbreviation:e.code}})).sort((function(a,b){return a.label.localeCompare(b.label)})):[]}}},532:function(e,t,n){"use strict";var r=n(27),l=(n(60),n(33),n(22),n(21),n(15),n(50)),o={name:"SfCheckbox",directives:{focus:n(457).a},components:{SfIcon:l.a},model:{prop:"selected",event:"change"},props:{name:{type:String,default:""},value:{type:[String,Boolean],default:""},label:{type:String,default:""},hintMessage:{type:String,default:"Required."},required:{type:Boolean,default:!1},infoMessage:{type:String,default:""},errorMessage:{type:String,default:"This field is not correct."},valid:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},selected:{type:[Array,Boolean],default:function(){return[]}}},computed:{isChecked:function(){return"boolean"==typeof this.selected?this.selected:this.selected.includes(this.value)},computedMessageSlotName:function(){return this.messagesHandler("show-error-message","show-info-message",this.required?"show-hint-message":"")},computedMessage:function(){return this.messagesHandler(this.errorMessage,this.infoMessage,this.required?this.hintMessage:"")},computedMessageClass:function(){return this.messagesHandler("sf-checkbox__message--error","sf-checkbox__message--info",this.required?"sf-checkbox__message--hint":"")},nameWithoutWhitespace:function(){return this.name.replace(/\s/g,"")}},methods:{inputHandler:function(){var e=this;if("boolean"==typeof this.selected)this.$emit("change",!this.selected);else{var t=Object(r.a)(this.selected);t.includes(this.value)?t=t.filter((function(t){return t!==e.value})):t.push(this.value),this.$emit("change",t)}},messagesHandler:function(e,t,n){return this.errorMessage&&!this.valid?e:this.infoMessage&&this.valid?t:this.hintMessage?n:""}}},c=(n(490),n(9)),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sf-checkbox",class:{"is-active":e.isChecked,"is-disabled":e.disabled,"has-error":!e.valid,"is-required":e.required},attrs:{"data-testid":e.name}},[n("label",{staticClass:"sf-checkbox__container"},[n("input",{directives:[{name:"focus",rawName:"v-focus"}],staticClass:"sf-checkbox__input",attrs:{type:"checkbox",name:e.name,disabled:e.disabled,"aria-invalid":!e.valid,"aria-required":e.required,"aria-describedby":e.errorMessage?e.nameWithoutWhitespace+"-error":null},domProps:{value:e.value,checked:e.isChecked},on:{change:e.inputHandler}}),e._v(" "),e._t("checkmark",(function(){return[n("span",{staticClass:"sf-checkbox__checkmark",class:{"sf-checkbox__checkmark is-active":e.isChecked}},[n("SfIcon",{class:{"display-none":!e.isChecked},attrs:{icon:"check",color:"white"}})],1)]}),null,{isChecked:e.isChecked,disabled:e.disabled}),e._v(" "),e._t("label",(function(){return[n("span",{staticClass:"sf-checkbox__label",class:{"display-none":!e.label}},[e._v(e._s(e.label))])]}),null,{label:e.label,isChecked:e.isChecked,disabled:e.disabled})],2),e._v(" "),n("div",{staticClass:"sf-checkbox__message"},[n("transition",{attrs:{name:"sf-fade"}},[e.disabled?e._e():e._t(e.computedMessageSlotName,(function(){return[n("div",{class:e.computedMessageClass,attrs:{id:e.nameWithoutWhitespace+"-error","aria-live":"assertive"}},[e._v("\n          "+e._s(e.computedMessage)+"\n        ")])]}),null,{computedMessage:e.computedMessage})],2)],1)])}),[],!1,null,null,null);t.a=component.exports},538:function(e,t,n){"use strict";var r=n(0),l=n(513),o=Object(r.b)({name:"UserAddressDetails",props:{address:{type:Object,required:!0}},setup:function(e){var address=Object(r.p)(e,"address"),t=Object(r.a)((function(){return{firstName:l.a.getFirstName(address.value),lastName:l.a.getLastName(address.value),street:l.a.getStreetName(address.value),streetNumber:l.a.getApartmentNumber(address.value),postalCode:l.a.getPostCode(address.value),city:l.a.getCity(address.value),province:l.a.getProvince(address.value)||"",country:l.a.getCountry(address.value),phone:l.a.getPhone(address.value),isDefault:l.a.isDefault(address.value),isDefaultShipping:l.a.isDefaultShipping(address.value),isDefaultBilling:l.a.isDefaultBilling(address.value)}})),n=Object(r.a)((function(){return t.value.isDefaultShipping?"Default Shipping Address":""})),o=Object(r.a)((function(){return t.value.isDefaultBilling?"Default Billing Address":""}));return{userAddress:t,isDefaultShippingText:n,isDefaultBillingText:o}}}),c=(n(546),n(9)),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",{style:e.userAddress.isDefault?"font-weight: bold;":""},[e._v("\n    "+e._s(e.userAddress.firstName)+" "+e._s(e.userAddress.lastName)+"\n  ")]),e._v(" "),n("p",[e._v(e._s(e.userAddress.street)+", "+e._s(e.userAddress.streetNumber))]),e._v(" "),n("p",[e._v("\n    "+e._s(e.userAddress.city)+", "+e._s(e.userAddress.province)+" -\n    "+e._s(e.userAddress.postalCode)+"\n  ")]),e._v(" "),n("p",[e._t("country",(function(){return[e._v("\n      "+e._s(e.userAddress.country)+"\n    ")]}))],2),e._v(" "),e.userAddress.phone?n("p",{staticClass:"phone"},[e._v("\n    "+e._s(e.userAddress.phone)+"\n  ")]):e._e(),e._v(" "),e.isDefaultShippingText||e.isDefaultBillingText?n("div",{staticClass:"badge-container"},[e.isDefaultShippingText?n("span",{staticClass:"badge-container__badge sf-badge sf-badge--number color-primary"},[e._v("\n      "+e._s(e.$t(e.isDefaultShippingText))+"\n    ")]):e._e(),e._v(" "),e.isDefaultBillingText?n("span",{staticClass:"badge-container__badge sf-badge sf-badge--number color-primary"},[e._v("\n      "+e._s(e.$t(e.isDefaultBillingText))+"\n    ")]):e._e()]):e._e()])}),[],!1,null,"066a1ae6",null);t.a=component.exports},546:function(e,t,n){"use strict";n(514)},547:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(2),l=(n(5),n(499)),o=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.a)("checkout");case 2:return n=e.sent,e.abrupt("return",!(!n||!n[t]));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},594:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return d}));n(58);var r=n(984),l=function(address){return{firstname:address.firstname,lastname:address.lastname,street:address.street[0],apartment:address.street[1],city:address.city,region:address.region.code,country_code:address.country.code,postcode:address.postcode,telephone:address.telephone}},o=function(address){var e,t,n,r,l;return{firstname:address.firstname,lastname:address.lastname,street:null===(e=address.street)||void 0===e?void 0:e[0],apartment:null===(t=address.street)||void 0===t?void 0:t[1],city:address.city,region:null!==(r=null===(n=null==address?void 0:address.region)||void 0===n?void 0:n.region_code)&&void 0!==r?r:address.region.code,country_code:null!==(l=null==address?void 0:address.country_code)&&void 0!==l?l:address.country.code,postcode:address.postcode,telephone:address.telephone}},c=function(){return{firstname:"",lastname:"",street:"",apartment:"",city:"",region:"",country_code:"",postcode:"",telephone:""}},d=function(e,t){var n;return null!==(n=null==e?void 0:e.find((function(e){return Object(r.a)(o(e),o(t))})))&&void 0!==n?n:null}},646:function(e,t,n){"use strict";var r=n(11),l=(n(14),n(87),n(15),n(58),{getAddresses:function(e,t){if(!e||!e.addresses)return[];if(!t||0===Object.keys(t).length)return e.addresses;var n=Object.entries(t);return e.addresses.filter((function(address){return n.every((function(e){var t=Object(r.a)(e,2),n=t[0],l=t[1];return address[n]===l}))}))},getDefault:function(e){return e.addresses.find((function(e){return e.default_billing}))},getTotal:function(e){return e.addresses.length},getPostCode:function(address){return(null==address?void 0:address.postcode)||""},getStreetName:function(address){return Array.isArray(null==address?void 0:address.street)?null==address?void 0:address.street[0]:""},getCity:function(address){return(null==address?void 0:address.city)||""},getFirstName:function(address){return(null==address?void 0:address.firstname)||""},getLastName:function(address){return(null==address?void 0:address.lastname)||""},getCountry:function(address){return(null==address?void 0:address.country_code)||""},getPhone:function(address){return(null==address?void 0:address.phone)||""},getEmail:function(address){return(null==address?void 0:address.email)||""},getProvince:function(address){var e,t;return(null===(e=null==address?void 0:address.region)||void 0===e?void 0:e.region_code)||(null===(t=null==address?void 0:address.region)||void 0===t?void 0:t.region)||""},getCompanyName:function(address){return(null==address?void 0:address.company)||""},getNeighborhood:function(address){return Array.isArray(null==address?void 0:address.street)?null==address?void 0:address.street[2]:null==address?void 0:address.neighborhood},getAddressExtra:function(address){return Array.isArray(null==address?void 0:address.street)?null==address?void 0:address.street[3]:null==address?void 0:address.extra},getTaxNumber:function(address){return address.vat_id||""},getId:function(address){return(null==address?void 0:address.id)||""},getApartmentNumber:function(address){return Array.isArray(null==address?void 0:address.street)?null==address?void 0:address.street[1]:""},isDefault:function(address){return(null==address?void 0:address.default_billing)||!1}});t.a=l},647:function(e,t,n){},770:function(e,t,n){"use strict";n(647)}}]);
//# sourceMappingURL=259b6fa.js.map