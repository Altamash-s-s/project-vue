(window.webpackJsonp=window.webpackJsonp||[]).push([[110],{479:function(t,e,r){},525:function(t,e,r){"use strict";r(479)},526:function(t,e,r){"use strict";var o;r.d(e,"a",(function(){return o})),function(t){t.SIMPLE_PRODUCT="SimpleProduct",t.CONFIGURABLE_PRODUCT="ConfigurableProduct",t.BUNDLE_PRODUCT="BundleProduct",t.GROUPED_PRODUCT="GroupedProduct"}(o||(o={}))},554:function(t,e,r){"use strict";var o=r(0),n=r(144),d=r(59),l=Object(o.b)({name:"EmptyWishlist",components:{SfHeading:n.a,SvgImage:d.a}}),c=(r(525),r(8)),component=Object(c.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"empty-wishlist"},[t._t("default",(function(){return[r("div",{staticClass:"empty-wishlist__banner"},[r("SvgImage",{staticClass:"empty-wishlist__icon",attrs:{icon:"empty_cart_image",label:t.$t("Empty bag"),width:"211",height:"143","data-testid":"icon"}}),t._v(" "),r("SfHeading",{staticClass:"empty-wishlist__label",attrs:{title:t.$t("Your bag is empty"),description:t.$t("Looks like you havenâ€™t added any items to the Wishlist."),"data-testid":"label"}})],1)]}))],2)}),[],!1,null,"55e61430",null);e.a=component.exports},585:function(t,e,r){},707:function(t,e,r){"use strict";r(585)},915:function(t,e,r){"use strict";r.r(e);var o=r(2),n=(r(18),r(143)),d=r(432),l=r(455),c=r(909),v=r(683),m=r(511),_=r(0),h=r(80),f=r(61),P=t=>{var e,r,o,n=0,d=null;if(null===(e=null==t?void 0:t.product)||void 0===e?void 0:e.price_range){n=null===(r=null==t?void 0:t.product)||void 0===r?void 0:r.price_range.minimum_price.regular_price.value;var l=null===(o=null==t?void 0:t.product)||void 0===o?void 0:o.price_range.minimum_price.final_price.value;l<n&&(d=l)}return{regular:n,special:d}},y={getTotals:t=>{var e,r,o;return Array.isArray(t)?null===(r=null===(e=t[0])||void 0===e?void 0:e.items_v2)||void 0===r?void 0:r.items.reduce(((t,e)=>({total:t.total+P(e).special,subtotal:t.subtotal+P(e).regular})),{total:0,subtotal:0}):null===(o=null==t?void 0:t.items_v2)||void 0===o?void 0:o.items.reduce(((t,e)=>({total:t.total+P(e).special,subtotal:t.subtotal+P(e).regular})),{total:0,subtotal:0})},getShippingPrice:t=>0,getItems:t=>t.items_v2.items,getItemName:t=>{var e;return(null===(e=null==t?void 0:t.product)||void 0===e?void 0:e.name)||""},getItemImage:t=>{var e;return(null===(e=null==t?void 0:t.product)||void 0===e?void 0:e.thumbnail.url)||""},getItemPrice:P,getItemQty:t=>t.quantity,getItemAttributes:(t,e)=>({"":""}),getItemSku:t=>{var e;return(null===(e=null==t?void 0:t.product)||void 0===e?void 0:e.sku)||""},getTotalItems:t=>{var e;return Array.isArray(t)?null===(e=t[0])||void 0===e?void 0:e.items_count:(null==t?void 0:t.items_count)||0},getPagination:t=>{var e,r,o,n,d,l;return{currentPage:(null===(r=null===(e=null==t?void 0:t.items_v2)||void 0===e?void 0:e.page_info)||void 0===r?void 0:r.current_page)||1,totalPages:(null===(n=null===(o=null==t?void 0:t.items_v2)||void 0===o?void 0:o.page_info)||void 0===n?void 0:n.total_pages)||1,totalItems:(null==t?void 0:t.items_count)||0,itemsPerPage:(null===(l=null===(d=null==t?void 0:t.items_v2)||void 0===d?void 0:d.page_info)||void 0===l?void 0:l.page_size)||10,pageOptions:[10,50,100]}},getProducts:t=>{var e;if(!t||Array.isArray(t)&&0===t.length)return[];return Array.isArray(t)?t.reduce(((t,e)=>((t,e)=>{var r,o;return[...t,...null!==(o=null===(r=null==e?void 0:e.items_v2)||void 0===r?void 0:r.items.map((t=>({product:t.product,quantity:t.quantity,added_at:t.added_at,id:t.id}))))&&void 0!==o?o:[]]})(t,e)),[]):null===(e=null==t?void 0:t.items_v2)||void 0===e?void 0:e.items.map((t=>{return{product:(e=t).product,quantity:e.quantity,added_at:e.added_at,id:e.id};var e}))}},C=r(16),w=r(93),S=r(554),I=r(526),O=r(15),j=Object(_.b)({name:"MyWishlist",components:{SfLoader:d.a,SfTabs:l.a,SfProductCard:c.a,SfPagination:v.a,SfSelect:m.a,EmptyWishlist:S.a,LazyHydrate:n.a},setup(){var{load:t,loading:e,removeItem:r,afterAddingWishlistItemToCart:n}=Object(f.b)(),d=Object(_.u)(),{localeRoute:l}=Object(_.s)(),{getProductPath:c}=Object(O.l)(),{query:{page:v,itemsPerPage:m}}=d.value,P=Object(_.v)(),th=Object(O.n)(),{addItem:S,error:j,isInCart:T,loading:E}=Object(C.b)(),L=Object(w.a)(),R=Object(_.a)((()=>y.getProducts(L.wishlist))),k=Object(_.a)((()=>y.getPagination(L.wishlist))),G=function(){var t=Object(o.a)((function*(t){var{product:e,quantity:r}=t,o=e.__typename;switch(o){case I.a.SIMPLE_PRODUCT:yield S({product:e,quantity:r}),n({product:e,cartError:j.value.addItem});break;case I.a.CONFIGURABLE_PRODUCT:case I.a.BUNDLE_PRODUCT:case I.a.GROUPED_PRODUCT:yield P.push(l(c(e)));break;default:throw new Error("Product Type ".concat(o," not supported in add to cart yet"))}}));return function(e){return t.apply(this,arguments)}}(),U=function(){var t=Object(o.a)((function*(t){yield r({product:t})}));return function(e){return t.apply(this,arguments)}}(),{getMagentoImage:A,imageSizes:D}=Object(O.k)();return Object(_.g)(Object(o.a)((function*(){yield t({searchParams:{currentPage:v?Number.parseInt(v.toString(),10):1,pageSize:m?Number.parseInt(m.toString(),10):10}})}))),{addItemToCart:G,removeItemFromWishlist:U,isInCart:T,isCartLoading:E,loading:e,pagination:k,productGetters:h.a,products:R,th:th,getMagentoImage:A,imageSizes:D,getProductPath:c}}}),T=j,E=(r(707),r(8)),component=Object(E.a)(T,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("SfTabs",{staticClass:"tab-orphan",attrs:{"open-tab":1}},[r("SfTab",{attrs:{title:t.$t("My wishlist")}},[t.loading?r("div",[r("SfLoader")],1):t.products&&t.products.length>0?r("div",[r("div",{staticClass:"main section"},[r("SfLoader",{class:{loading:t.loading},attrs:{loading:t.loading}},[t.loading?t._e():r("div",{staticClass:"products"},[r("transition-group",{staticClass:"products__grid",attrs:{appear:"",name:"products__slide",tag:"div"}},t._l(t.products,(function(e,i){return r("SfProductCard",{directives:[{name:"e2e",rawName:"v-e2e",value:"wishlist-product-card",expression:"'wishlist-product-card'"}],key:t.productGetters.getSlug(e.product),staticClass:"products__product-card",style:{"--index":i},attrs:{"image-tag":"nuxt-img","image-width":t.imageSizes.productCard.width,"image-height":t.imageSizes.productCard.height,image:t.getMagentoImage(t.productGetters.getProductThumbnailImage(e.product)),"nuxt-img-config":{fit:"cover"},"is-added-to-cart":t.isInCart(e.product),link:t.localePath(t.getProductPath(e.product)),"regular-price":t.$fc(t.productGetters.getPrice(e.product).regular),"reviews-count":t.productGetters.getTotalReviews(e.product),"score-rating":t.productGetters.getAverageRating(e.product),"special-price":t.productGetters.getPrice(e.product).special&&t.$fc(t.productGetters.getPrice(e.product).special),title:t.productGetters.getName(e.product),"wishlist-icon":"","is-in-wishlist":"","show-add-to-cart-button":"","add-to-cart-disabled":t.isCartLoading},on:{"click:wishlist":function(r){return t.removeItemFromWishlist(e.product)},"click:add-to-cart":function(r){return t.addItemToCart({product:e.product,quantity:1})}}})})),1),t._v(" "),r("div",{staticClass:"products__display-opt"},[r("LazyHydrate",{attrs:{"on-interaction":""}},[t.loading?t._e():r("SfPagination",{directives:[{name:"show",rawName:"v-show",value:t.pagination.totalPages>1,expression:"pagination.totalPages > 1"}],staticClass:"products__pagination",attrs:{current:t.pagination.currentPage,total:t.pagination.totalPages,visible:5}})],1),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:t.pagination.totalPages>1,expression:"pagination.totalPages > 1"}],staticClass:"products__show-on-page"},[r("span",{staticClass:"products__show-on-page__label"},[t._v("\n                  "+t._s(t.$t("Show on page"))+"\n                ")]),t._v(" "),r("LazyHydrate",{attrs:{"on-interaction":""}},[r("SfSelect",{staticClass:"products__items-per-page",attrs:{value:t.pagination.itemsPerPage.toString()},on:{input:t.th.changeItemsPerPage}},t._l(t.pagination.pageOptions,(function(option){return r("SfSelectOption",{key:option,staticClass:"products__items-per-page__option",attrs:{value:option}},[t._v("\n                      "+t._s(option)+"\n                    ")])})),1)],1)],1)],1)],1)])],1)]):r("EmptyWishlist")],1)],1)}),[],!1,null,"6f2ff5da",null);e.default=component.exports}}]);
//# sourceMappingURL=6ebf5ce.modern.js.map