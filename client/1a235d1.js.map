{"version":3,"sources":["webpack:///./modules/customer/pages/MyAccount/MyAccount.vue?dfc1","webpack:///./modules/customer/pages/MyAccount/MyAccount.vue?020b","webpack:///./modules/customer/pages/MyAccount/useSidebarLinkGroups.ts","webpack:///./modules/customer/pages/MyAccount/MyAccount.vue?1abf","webpack:///./modules/customer/pages/MyAccount/MyAccount.vue","webpack:///./node_modules/@storefront-ui/vue/src/components/organisms/SfList/SfList.vue?cfdb","webpack:///./node_modules/@storefront-ui/vue/src/components/organisms/SfList/SfList.vue?f0e2","webpack:///./node_modules/@storefront-ui/vue/src/components/organisms/SfList/_internal/SfListItem.vue?2f0c","webpack:///node_modules/@storefront-ui/vue/src/components/organisms/SfList/_internal/SfListItem.vue","webpack:///./node_modules/@storefront-ui/vue/src/components/organisms/SfList/_internal/SfListItem.vue","webpack:///./node_modules/@storefront-ui/vue/src/components/organisms/SfList/_internal/SfListItem.vue?d985","webpack:///node_modules/@storefront-ui/vue/src/components/organisms/SfList/SfList.vue","webpack:///./node_modules/@storefront-ui/vue/src/components/organisms/SfList/SfList.vue?4537","webpack:///./node_modules/@storefront-ui/vue/src/components/organisms/SfList/SfList.vue","webpack:///./modules/customer/pages/MyAccount/MyAccount.vue?dbfc"],"names":["defineComponent","name","components","SfBar","SfList","SfMenuItem","middleware","setup","route","useRoute","router","useRouter","useContext","i18n","localeRoute","useUser","user","loadUser","load","useFetch","value","logout","clear","useCart","logoutUser","push","sidebarLinkGroups","title","items","id","label","link","useSidebarLinkGroups","isOnSubpage","computed","matched","length","t","at","meta","titleLabel","handlers","goToTopLevelRoute","getHandler","component","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","on","_v","class","directives","rawName","expression","_l","linkGroup","key","item","_g","$t","click","$fetchState","pending","_e","_t","Vue"],"mappings":"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","file":"1a235d1.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"my-account\"}},[_c('div',{staticClass:\"sf-content-pages my-account\"},[_c('SfBar',{staticClass:\"smartphone-only\",attrs:{\"title\":_vm.title,\"back\":_vm.isOnSubpage},on:{\"click:back\":_vm.goToTopLevelRoute}}),_vm._v(\" \"),_c('section',{staticClass:\"sf-content-pages__section\",class:{ 'is-active': _vm.isOnSubpage}},[_c('div',{staticClass:\"sf-content-pages__sidebar\"},[_c('h1',{directives:[{name:\"t\",rawName:\"v-t\",value:('My Account'),expression:\"'My Account'\"}],staticClass:\"sf-content-pages__title desktop-only\"}),_vm._v(\" \"),_vm._l((_vm.sidebarLinkGroups),function(linkGroup){return _c('div',{key:linkGroup.title},[_c('h2',{directives:[{name:\"t\",rawName:\"v-t\",value:(linkGroup.title),expression:\"linkGroup.title\"}],staticClass:\"sf-content-pages__category-title\"}),_vm._v(\" \"),_c('SfList',{staticClass:\"sf-content-pages__list\"},_vm._l((linkGroup.items),function(item){return _c('li',{key:item.label,staticClass:\"sf-content-pages__list-item sf-list__item\"},[_c('SfMenuItem',_vm._g({staticClass:\"sf-content-pages__menu\",attrs:{\"label\":_vm.$t(item.label),\"link\":_vm.localeRoute(item.link)}},{ click: _vm.getHandler(item.id) }))],1)}),0)],1)})],2),_vm._v(\" \"),_c('div',{staticClass:\"sf-content-pages__content\"},[(!_vm.$fetchState.pending)?_c('router-view'):_vm._e()],1)])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  SfMenuItem, SfList, SfBar,\n} from '@storefront-ui/vue';\n\nimport {\n  defineComponent,\n  useContext,\n  useRouter,\n  useRoute,\n  computed,\n  useFetch,\n} from '@nuxtjs/composition-api';\nimport { useSidebarLinkGroups } from './useSidebarLinkGroups';\nimport { useUser } from '../../composables/useUser';\n\nexport default defineComponent({\n  name: 'MyAccount',\n  components: {\n    SfBar,\n    SfList,\n    SfMenuItem,\n  },\n  middleware: 'is-authenticated',\n  setup() {\n    const route = useRoute();\n    const router = useRouter();\n    const { i18n, localeRoute } = useContext();\n    const { user, load: loadUser } = useUser();\n\n    useFetch(async () => {\n      if (user.value === null) {\n        await loadUser();\n      }\n    });\n\n    const { sidebarLinkGroups, logoutUser } = useSidebarLinkGroups();\n\n    const isOnSubpage = computed(() => route.value.matched.length > 1);\n    const goToTopLevelRoute = () => router.push(localeRoute({ name: 'customer' }));\n    const title = computed(() => i18n.t(route.value.matched.at(-1)?.meta.titleLabel as string));\n\n    /**\n     * #tab-id: handler-name\n     */\n    const handlers = {\n      'log-out': logoutUser,\n    };\n\n    const getHandler = (id: string) => handlers[id] ?? {};\n\n    return {\n      sidebarLinkGroups,\n      title,\n      isOnSubpage,\n      goToTopLevelRoute,\n      logoutUser,\n      getHandler,\n    };\n  },\n});\n","import type { RawLocation } from 'vue-router';\n\nimport { useRouter, useContext } from '@nuxtjs/composition-api';\nimport { useUser } from '~/modules/customer/composables/useUser';\nimport { useCart } from '~/modules/checkout/composables/useCart';\n\ntype LinkGroup = { title: string, items: LinkGroupItem[] };\ntype LinkGroupItem = { id: string, label: string, link?: RawLocation };\n\nexport const useSidebarLinkGroups = () => {\n  const { localeRoute } = useContext();\n  const { logout } = useUser();\n  const { clear } = useCart();\n  const router = useRouter();\n\n  const sidebarLinkGroups : LinkGroup[] = [\n    {\n      title: 'Personal details',\n      items: [\n        {\n          id: 'my-profile',\n          label: 'My profile',\n          link: { name: 'customer-my-profile' },\n        },\n        {\n          id: 'address-details',\n          label: 'Addresses details',\n          link: { name: 'customer-addresses-details' },\n        },\n        {\n          id: 'my-newsletter',\n          label: 'My newsletter',\n          link: { name: 'customer-my-newsletter' },\n        },\n        {\n          id: 'my-wishlist',\n          label: 'My wishlist',\n          link: { name: 'customer-my-wishlist' },\n        },\n      ],\n    },\n    {\n      title: 'Order details',\n      items: [\n        {\n          id: 'order-history',\n          label: 'Order history',\n          link: { name: 'customer-order-history' },\n        },\n        {\n          id: 'my-reviews',\n          label: 'My reviews',\n          link: { name: 'customer-my-reviews' },\n        },\n        {\n          id: 'log-out',\n          label: 'Log out',\n        },\n      ],\n    },\n  ];\n\n  const logoutUser = async () => {\n    await logout({});\n    await clear({});\n    await router.push(localeRoute({ name: 'home' }));\n  };\n\n  return { sidebarLinkGroups, logoutUser };\n};\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--13-0!../../../../node_modules/ts-loader/index.js??ref--13-1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/unplugin/dist/webpack/loaders/transform.js??ref--15-0!./MyAccount.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--13-0!../../../../node_modules/ts-loader/index.js??ref--13-1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/unplugin/dist/webpack/loaders/transform.js??ref--15-0!./MyAccount.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MyAccount.vue?vue&type=template&id=0b6b211b&scoped=true&\"\nimport script from \"./MyAccount.vue?vue&type=script&lang=ts&\"\nexport * from \"./MyAccount.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./MyAccount.vue?vue&type=style&index=0&id=0b6b211b&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0b6b211b\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../../extract-css-chunks-webpack-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../../../css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../../../postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../../../sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../../../../../sass-resources-loader/lib/loader.js??ref--7-oneOf-1-4!../../../../../../vue-loader/lib/index.js??vue-loader-options!./SfList.vue?vue&type=style&index=0&id=48004de8&prod&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"sf-list\"},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../babel-loader/lib/index.js??ref--2-0!../../../../../../../vue-loader/lib/index.js??vue-loader-options!./SfListItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../babel-loader/lib/index.js??ref--2-0!../../../../../../../vue-loader/lib/index.js??vue-loader-options!./SfListItem.vue?vue&type=script&lang=js&\"","<template>\n  <li class=\"sf-list__item\">\n    <slot />\n  </li>\n</template>\n<script>\nexport default {\n  name: \"SfListItem\",\n};\n</script>\n","import { render, staticRenderFns } from \"./SfListItem.vue?vue&type=template&id=b0da9c0c&\"\nimport script from \"./SfListItem.vue?vue&type=script&lang=js&\"\nexport * from \"./SfListItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"sf-list__item\"},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <ul class=\"sf-list\">\n    <slot />\n  </ul>\n</template>\n<script>\nimport SfListItem from \"./_internal/SfListItem.vue\";\nimport Vue from \"vue\";\nVue.component(\"SfListItem\", SfListItem);\nexport default {\n  name: \"SfList\",\n};\n</script>\n<style lang=\"scss\">\n@import \"~@storefront-ui/shared/styles/components/organisms/SfList.scss\";\n</style>\n","import mod from \"-!../../../../../../babel-loader/lib/index.js??ref--2-0!../../../../../../vue-loader/lib/index.js??vue-loader-options!./SfList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../babel-loader/lib/index.js??ref--2-0!../../../../../../vue-loader/lib/index.js??vue-loader-options!./SfList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SfList.vue?vue&type=template&id=48004de8&\"\nimport script from \"./SfList.vue?vue&type=script&lang=js&\"\nexport * from \"./SfList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SfList.vue?vue&type=style&index=0&id=48004de8&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/extract-css-chunks-webpack-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../../../node_modules/sass-resources-loader/lib/loader.js??ref--7-oneOf-1-4!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/unplugin/dist/webpack/loaders/transform.js??ref--15-0!./MyAccount.vue?vue&type=style&index=0&id=0b6b211b&prod&lang=scss&scoped=true&\""],"sourceRoot":""}