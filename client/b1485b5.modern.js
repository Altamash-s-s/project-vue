(window.webpackJsonp=window.webpackJsonp||[]).push([[80],{394:function(t,e,r){},396:function(t,e,r){},399:function(t,e,r){},400:function(t,e,r){"use strict";r(394)},404:function(t,e,r){"use strict";r(396)},405:function(t,e,r){"use strict";var n={name:"SfChevron",directives:{focus:r(382).a}},o=(r(404),r(8)),component=Object(o.a)(n,(function(t,e){var r=e._c;return r("span",e._g(e._b({class:[e.data.class,e.data.staticClass,"sf-chevron"],style:[e.data.style,e.data.staticStyle]},"span",e.data.attrs,!1),e.listeners),[e._t("default",(function(){return[r("span",{staticClass:"sf-chevron__bar sf-chevron__bar--left"}),e._v(" "),r("span",{staticClass:"sf-chevron__bar sf-chevron__bar--right"})]}))],2)}),[],!0,null,null,null);e.a=component.exports},406:function(t,e,r){"use strict";var n={name:"SfScrollable",components:{SfButton:r(27).a},props:{maxContentHeight:{type:String,default:""},showText:{type:String,default:"Show"},hideText:{type:String,default:"Hide"}},data:()=>({isHidden:!0,hasScroll:!1}),computed:{style(){return{"--_scrollable-max-height":this.maxContentHeight.trim()?this.maxContentHeight:void 0}}}},o=(r(400),r(8)),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"sf-scrollable",class:{"is-open":!t.isHidden}},[r("div",{ref:"content",staticClass:"sf-scrollable__content",style:t.style},[t._t("default")],2),t._v(" "),t._t("view-all",(function(){return[r("SfButton",{directives:[{name:"show",rawName:"v-show",value:t.hasScroll,expression:"hasScroll"}],staticClass:"sf-button--text sf-scrollable__view-all",on:{click:function(e){t.isHidden=!t.isHidden}}},[t.isHidden?r("span",[t._v(t._s(t.showText))]):r("span",[t._v(t._s(t.hideText))])])]}),null,{hasScroll:t.hasScroll,showText:t.showText,hideText:t.hideText})],2)}),[],!1,null,null,null);e.a=component.exports},412:function(t,e,r){"use strict";r(399)},431:function(t,e,r){"use strict";var n={getFirstName:t=>t?t.firstname:"",getLastName:t=>t?t.lastname:"",getEmailAddress:t=>t?t.email:"",getFullName:t=>t?"".concat(t.firstname," ").concat(t.lastname):""};e.a=n},447:function(t,e,r){"use strict";r.d(e,"a",(function(){return n})),r.d(e,"b",(function(){return o}));var n=/(?=.*\d)(?=.*[A-Za-z])(?=.*[!#$%&*?@^_-])(?!.*\s).{8,}/,o="The password must be at least 8 characters long and must contain at least: 1 uppercase or lowercase letter, 1 number, or one special character (E.g. , . _ & ? etc)"},455:function(t,e,r){"use strict";var n=r(4),o=r(384),l=r(405),c=r(27),d=r(406),f={name:"SfTab",components:{SfChevron:l.a,SfScrollable:d.a,SfButton:c.a},inject:["tabConfig"],props:{title:{type:String,default:""}},data:()=>({isActive:!1,desktopMin:1024}),computed:{tabMaxContentHeight(){return this.tabConfig.tabMaxContentHeight},tabShowText(){return this.tabConfig.tabShowText},tabHideText(){return this.tabConfig.tabHideText}},methods:{tabClick(){if(o.a){var t=Math.max(document.documentElement.clientWidth,window.innerWidth);this.isActive&&t>this.desktopMin||this.$parent.$emit("toggle",this._uid)}}}},m=r(8),v=Object(m.a)(f,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"sf-tabs__tab"},[t._t("title",(function(){return[r("SfButton",{staticClass:"sf-button--pure sf-tabs__title",class:{"is-active":t.isActive},attrs:{"aria-pressed":t.isActive.toString()},on:{click:t.tabClick}},[t._v("\n      "+t._s(t.title)+"\n      "),r("SfChevron",{staticClass:"sf-tabs__chevron",class:{"sf-chevron--right":!t.isActive}})],1)]}),null,{tabClick:t.tabClick,isActive:t.isActive,title:t.title}),t._v(" "),r("div",{staticClass:"sf-tabs__content"},[r("div",{staticClass:"sf-tabs__content__tab",class:{"display-none":!t.isActive}},[t.tabMaxContentHeight?r("SfScrollable",{attrs:{"max-content-height":t.tabMaxContentHeight,"show-text":t.tabShowText,"hide-text":t.tabHideText}},[t._t("default")],2):t._t("default")],2)])],2)}),[],!1,null,null,null).exports;n.default.component("SfTab",v);var h={name:"SfTabs",props:{openTab:{type:Number,default:1},tabMaxContentHeight:{type:String,default:""},tabShowText:{type:String,default:"show"},tabHideText:{type:String,default:"hide"}},data:()=>({initialTabActivated:!1}),watch:{openTab(t,e){t!==e&&this.toggle(this.$children[t-1]._uid)}},mounted(){this.$on("toggle",this.toggle),this.openTab&&this.openChild()},methods:{toggle(t){this.$children.forEach((e=>{e.isActive=e._uid===t}));var e=this.$children.findIndex((t=>!0===t.isActive))+1;this.$emit("click:tab",e)},openChild(){this.openTab<this.$children.length+1&&(this.$children[this.openTab-1].isActive=!0,this.initialTabActivated=!0)}},provide:function(){var t={};return Object.defineProperty(t,"tabMaxContentHeight",{get:()=>this.tabMaxContentHeight}),Object.defineProperty(t,"tabShowText",{get:()=>this.tabShowText}),Object.defineProperty(t,"tabHideText",{get:()=>this.tabHideText}),{tabConfig:t}}},_=(r(412),Object(m.a)(h,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{directives:[{name:"show",rawName:"v-show",value:t.initialTabActivated,expression:"initialTabActivated"}],staticClass:"sf-tabs"},[t._t("default")],2)}),[],!1,null,null,null));e.a=_.exports},477:function(t,e,r){},523:function(t,e,r){"use strict";r(477)},579:function(t,e,r){},580:function(t,e,r){},581:function(t,e,r){},701:function(t,e,r){"use strict";r(579)},702:function(t,e,r){"use strict";r(580)},703:function(t,e,r){"use strict";r(581)},892:function(t,e,r){"use strict";var n=r(151),o=r(147),l=r(28),c=r(27),d=r(94),f=r(393),m=r(383),v=r(384),h={name:"SfModal",directives:{focusTrap:f.a,clickOutside:m.a},components:{SfBar:n.a,SfOverlay:o.a,SfIcon:l.a,SfButton:c.a},model:{prop:"visible",event:"close"},props:{title:{type:String,default:""},visible:{type:Boolean,default:!1},cross:{type:Boolean,default:!0},overlay:{type:Boolean,default:!0},persistent:{type:Boolean,default:!1},transitionOverlay:{type:String,default:"sf-fade"},transitionModal:{type:String,default:"sf-fade"}},data:()=>({staticClass:null,className:null}),watch:{visible:{handler:function(t){v.a&&(t?(this.$nextTick((()=>{Object(d.b)(this.$refs.content)})),document.addEventListener("keydown",this.keydownHandler)):(Object(d.a)(),document.removeEventListener("keydown",this.keydownHandler)))},immediate:!0}},beforeDestroy(){Object(d.a)()},methods:{close(){this.$emit("close",!1)},checkPersistence(){this.persistent||this.close()},keydownHandler(t){"Escape"!==t.key&&"Esc"!==t.key&&27!==t.keyCode||this.close()},classHandler(){this.staticClass!==this.$vnode.data.staticClass&&(this.staticClass=this.$vnode.data.staticClass),this.className!==this.$vnode.data.class&&(this.className=this.$vnode.data.class)}}},_=(r(523),r(8)),component=Object(_.a)(h,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"sf-modal",class:[t.staticClass,t.className]},[t.overlay?r("SfOverlay",{staticClass:"sf-modal__overlay",attrs:{transition:t.transitionOverlay,visible:t.visible}}):t._e(),t._v(" "),r("transition",{attrs:{name:t.transitionModal}},[t.visible?r("div",{directives:[{name:"focus-trap",rawName:"v-focus-trap"},{name:"click-outside",rawName:"v-click-outside",value:t.checkPersistence,expression:"checkPersistence"}],staticClass:"sf-modal__container"},[t._t("modal-bar",(function(){return[r("SfBar",{staticClass:"sf-modal__bar smartphone-only",attrs:{close:t.cross,title:t.title},on:{"click:close":t.close}})]})),t._v(" "),r("SfButton",{staticClass:"sf-button--pure sf-modal__close desktop-only",class:{"display-none":!t.cross},attrs:{"aria-label":"Close modal",type:"button","data-testid":"close-button"},on:{click:t.close}},[t._t("close",(function(){return[r("SfIcon",{attrs:{icon:"cross",size:"0.875rem",color:"gray-secondary"}})]}))],2),t._v(" "),r("div",{ref:"content",staticClass:"sf-modal__content"},[t._t("default")],2)],2):t._e()])],1)}),[],!1,null,null,null);e.a=component.exports},904:function(t,e,r){"use strict";r.r(e);r(9);var n=r(2),o=r(5),l=(r(18),r(408)),c=r(410),d=r(455),f=r(0),m=r(35),v=r(447),h=r(152),_=r(27),w=r(892),y=r(431),S=r(15);function P(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function O(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?P(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):P(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}Object(l.c)("email",O(O({},c.c),{},{message:"The email field must be a valid email"}));var C=Object(f.b)({components:{SfInput:h.a,SfButton:_.a,SfModal:w.a,ValidationProvider:l.b,ValidationObserver:l.a},props:{loading:{type:Boolean,required:!1,default:!1}},emits:["submit"],setup(t,e){var{emit:r}=e,{app:{i18n:n}}=Object(f.s)(),{user:o}=Object(m.b)(),l=Object(f.l)(""),c=Object(f.l)(!1),d=()=>({firstname:y.a.getFirstName(o.value),lastname:y.a.getLastName(o.value),email:y.a.getEmailAddress(o.value)}),{send:v}=Object(S.o)(),form=Object(f.l)(d());return{requirePassword:c,currentPassword:l,form:form,submitForm:t=>()=>{if(y.a.getEmailAddress(o.value)!==form.value.email&&!c.value)c.value=!0;else{l.value&&(form.value.password=l.value);var e={form:form.value,onComplete:()=>{form.value=d(),c.value=!1,l.value="",v({id:Symbol("user_updated"),message:n.t("The user account data was successfully updated!"),type:"success",icon:"check",persist:!1,title:"User Account"}),t()},onError:t=>{v({id:Symbol("user_updated"),message:n.t(t),type:"danger",icon:"cross",persist:!1,title:"User Account"})}};r("submit",e)}}}}}),j=(r(701),r(8)),x=Object(j.a)(C,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var n=e.handleSubmit,o=e.reset;return[r("form",{staticClass:"form",on:{submit:function(e){e.preventDefault(),n(t.submitForm(o))}}},[r("div",{staticClass:"form__horizontal"},[r("ValidationProvider",{staticClass:"form__element",attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[r("SfInput",{attrs:{name:"firstName",label:t.$t("First Name"),required:"",valid:!n[0],"error-message":t.$t(n[0])},model:{value:t.form.firstname,callback:function(e){t.$set(t.form,"firstname",e)},expression:"form.firstname"}})]}}],null,!0)}),t._v(" "),r("ValidationProvider",{staticClass:"form__element",attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[r("SfInput",{attrs:{name:"lastName",label:t.$t("Last Name"),required:"",valid:!n[0],"error-message":t.$t(n[0])},model:{value:t.form.lastname,callback:function(e){t.$set(t.form,"lastname",e)},expression:"form.lastname"}})]}}],null,!0)})],1),t._v(" "),r("ValidationProvider",{staticClass:"form__element",attrs:{rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[r("SfInput",{attrs:{type:"email",name:"email",label:t.$t("Your e-mail"),required:"",valid:!n[0],"error-message":t.$t(n[0])},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})]}}],null,!0)}),t._v(" "),r("SfModal",{attrs:{visible:t.requirePassword,title:t.$t("Attention!"),cross:"",persistent:""},on:{close:function(e){t.requirePassword=!1}}},[t._v("\n      "+t._s(t.$t("Please type your current password to change your email address."))+"\n      "),r("SfInput",{staticClass:"form__element",staticStyle:{"margin-top":"10px"},attrs:{type:"password",name:"currentPassword",label:t.$t("Current Password"),required:""},model:{value:t.currentPassword,callback:function(e){t.currentPassword=e},expression:"currentPassword"}}),t._v(" "),r("SfButton",{staticClass:"form__button",attrs:{type:"submit"}},[t._v("\n        "+t._s(t.$t("Update personal data"))+"\n      ")])],1),t._v(" "),t.requirePassword?r("div",{staticClass:"smartphone-only"},[t._v("\n      "+t._s(t.$t("Please type your current password to change your email address."))+"\n      "),r("SfInput",{staticClass:"form__element",staticStyle:{"margin-top":"10px"},attrs:{type:"password",name:"currentPassword",label:t.$t("Current Password"),required:""},model:{value:t.currentPassword,callback:function(e){t.currentPassword=e},expression:"currentPassword"}}),t._v(" "),r("SfButton",{staticClass:"form__button",attrs:{type:"submit"}},[t._v("\n        "+t._s(t.$t("Update personal data"))+"\n      ")])],1):t._e(),t._v(" "),t.requirePassword?t._e():r("SfButton",{staticClass:"form__button",attrs:{type:"submit"}},[t._v("\n      "+t._s(t.$t("Update personal data"))+"\n    ")])],1)]}}])})}),[],!1,null,"508211bc",null).exports,$=Object(f.b)({components:{SfInput:h.a,SfButton:_.a,ValidationProvider:l.b,ValidationObserver:l.a},setup(t,e){var{emit:r}=e,{app:{i18n:n}}=Object(f.s)(),{send:o}=Object(S.o)(),form=Object(f.l)({currentPassword:"",newPassword:"",repeatPassword:""});return{form:form,submitForm:t=>()=>{var e={form:form.value,onComplete:()=>{form.value={currentPassword:"",newPassword:"",repeatPassword:""},o({id:Symbol("password_updated"),message:n.t("The user password was changed successfully updated!"),type:"success",icon:"check",persist:!1,title:"User Account"}),t()},onError:t=>{o({id:Symbol("password_not_updated"),message:n.t(t),type:"danger",icon:"cross",persist:!1,title:"User Account"})}};r("submit",e)}}}}),k=(r(702),Object(j.a)($,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var n=e.handleSubmit,o=e.reset;return[r("form",{staticClass:"form",on:{submit:function(e){e.preventDefault(),n(t.submitForm(o))}}},[r("ValidationProvider",{staticClass:"form__element",attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[r("SfInput",{attrs:{type:"password",name:"currentPassword",label:t.$t("Current Password"),required:"",valid:!n[0],"error-message":t.$t(n[0])},model:{value:t.form.currentPassword,callback:function(e){t.$set(t.form,"currentPassword",e)},expression:"form.currentPassword"}})]}}],null,!0)}),t._v(" "),r("div",{staticClass:"form__horizontal"},[r("ValidationProvider",{staticClass:"form__element",attrs:{rules:"required|password",vid:"password"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[r("SfInput",{attrs:{type:"password",name:"newPassword",label:t.$t("New Password"),required:"",valid:!n[0],"error-message":t.$t(n[0])},model:{value:t.form.newPassword,callback:function(e){t.$set(t.form,"newPassword",e)},expression:"form.newPassword"}})]}}],null,!0)}),t._v(" "),r("ValidationProvider",{staticClass:"form__element",attrs:{rules:"required|confirmed:password"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[r("SfInput",{attrs:{type:"password",name:"repeatPassword",label:t.$t("Repeat Password"),required:"",valid:!n[0],"error-message":t.$t(n[0])},model:{value:t.form.repeatPassword,callback:function(e){t.$set(t.form,"repeatPassword",e)},expression:"form.repeatPassword"}})]}}],null,!0)})],1),t._v(" "),r("SfButton",{staticClass:"form__button",attrs:{type:"submit"}},[t._v("\n      "+t._s(t.$t("Update password"))+"\n    ")])],1)]}}])})}),[],!1,null,"6a853684",null).exports);function T(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function H(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?T(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):T(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}Object(l.c)("required",H(H({},c.f),{},{message:"This field is required"})),Object(l.c)("min",H(H({},c.d),{},{message:"The field should have at least {length} characters"})),Object(l.c)("password",{message:v.b,validate:t=>v.a.test(t)}),Object(l.c)("confirmed",H(H({},c.a),{},{message:"Passwords don't match"}));var E=Object(f.b)({name:"MyProfile",components:{SfTabs:d.a,ProfileUpdateForm:x,PasswordResetForm:k},setup(){var{changePassword:t,loading:e,updateUser:r,error:o}=Object(m.b)(),l=function(){var t=Object(n.a)((function*(t,e,r){yield t();var n=o.value.changePassword||o.value.updateUser;n?r(n.toString()):e()}));return function(e,r,n){return t.apply(this,arguments)}}();return{loading:e,updatePersonalData:t=>{var{form:form,onComplete:e,onError:o}=t;return l(Object(n.a)((function*(){return r({user:form})})),e,o)},updatePassword:e=>{var{form:form,onComplete:r,onError:o}=e;return l(Object(n.a)((function*(){return t({current:form.currentPassword,new:form.newPassword})})),r,o)}}}}),A=E,B=(r(703),Object(j.a)(A,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("SfTabs",{attrs:{"open-tab":1}},[r("SfTab",{attrs:{title:t.$t("Personal data")}},[r("p",{staticClass:"message"},[t._v("\n      "+t._s(t.$t("Feel free to edit"))+"\n    ")]),t._v(" "),r("ProfileUpdateForm",{attrs:{loading:t.loading},on:{submit:t.updatePersonalData}}),t._v(" "),r("p",{staticClass:"notice"},[t._v("\n      "+t._s(t.$t("Use your personal data"))+"\n      "),r("a",{attrs:{href:""}},[t._v(t._s(t.$t("Privacy Policy")))])])],1),t._v(" "),r("SfTab",{attrs:{title:t.$t("Password change")}},[r("p",{staticClass:"message"},[t._v("\n      "+t._s(t.$t("Change password your account"))+":"),r("br")]),t._v(" "),r("PasswordResetForm",{on:{submit:t.updatePassword}})],1)],1)}),[],!1,null,"582171ce",null));e.default=B.exports}}]);
//# sourceMappingURL=b1485b5.modern.js.map