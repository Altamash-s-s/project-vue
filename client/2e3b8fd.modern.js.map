{"version":3,"sources":["webpack:///./modules/wishlist/components/EmptyWishlist.vue?baa2","webpack:///./modules/wishlist/components/EmptyWishlist.vue?7d19","webpack:///./modules/wishlist/components/EmptyWishlist.vue?97cc","webpack:///./modules/wishlist/components/EmptyWishlist.vue?2344","webpack:///./modules/wishlist/components/EmptyWishlist.vue","webpack:///./modules/wishlist/components/WishlistSidebar.vue?9a75","webpack:///./modules/wishlist/components/WishlistSidebar.vue?420a","webpack:///./modules/wishlist/components/WishlistSidebar.vue?0626","webpack:///./modules/wishlist/components/WishlistSidebar.vue?89f1","webpack:///./modules/wishlist/components/WishlistSidebar.vue"],"names":["defineComponent","name","components","SfHeading","SvgImage","component","_vm","this","_h","$createElement","_c","_self","staticClass","_t","attrs","$t","_v","SfSidebar","SfButton","SfProperty","SfCollectedProduct","SfLink","SfLoader","SfImage","EmptyWishlist","setup","localeRoute","useContext","router","useRouter","isWishlistSidebarOpen","toggleWishlistSidebar","useUiState","getProductPath","useProduct","removeItem","load","loadWishlist","loading","useWishlist","isAuthenticated","useUser","wishlistStore","useWishlistStore","wishlistItems","computed","wishlist","items_v2","items","getItemPrice","product","regular","special","price_range","minimum_price","regular_price","value","final","final_price","totals","length","reduce","acc","curr","total","subtotal","totalItems","items_count","getMagentoImage","imageSizes","useImage","isShowGoToWishlistButton","onMounted","searchParams","pageSize","afterEach","getAttributes","configurable_options","getBundles","map","b","title","flat","getItemLink","item","on","scopedSlots","_u","key","fn","proxy","$event","$router","push","_s","_e","_l","wishlistItem","itemKey","thumbnail","url","$fc","productCard","width","height","fit","attr","index","option_label","value_label","bundle","i"],"mappings":"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","file":"2e3b8fd.modern.js","sourcesContent":["export * from \"-!../../../node_modules/extract-css-chunks-webpack-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../../node_modules/sass-resources-loader/lib/loader.js??ref--7-oneOf-1-4!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/unplugin/dist/webpack/loaders/transform.js??ref--15-0!./EmptyWishlist.vue?vue&type=style&index=0&id=55e61430&prod&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"empty-wishlist\"},[_vm._t(\"default\",function(){return [_c('div',{staticClass:\"empty-wishlist__banner\"},[_c('SvgImage',{staticClass:\"empty-wishlist__icon\",attrs:{\"icon\":\"empty_cart_image\",\"label\":_vm.$t('Empty bag'),\"width\":\"211\",\"height\":\"143\",\"data-testid\":\"icon\"}}),_vm._v(\" \"),_c('SfHeading',{staticClass:\"empty-wishlist__label\",attrs:{\"title\":_vm.$t('Your bag is empty'),\"description\":_vm.$t('Looks like you havenâ€™t added any items to the Wishlist.'),\"data-testid\":\"label\"}})],1)]})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--13-0!../../../node_modules/ts-loader/index.js??ref--13-1!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/unplugin/dist/webpack/loaders/transform.js??ref--15-0!./EmptyWishlist.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--13-0!../../../node_modules/ts-loader/index.js??ref--13-1!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/unplugin/dist/webpack/loaders/transform.js??ref--15-0!./EmptyWishlist.vue?vue&type=script&lang=ts&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { defineComponent } from '@nuxtjs/composition-api';\nimport { SfHeading } from '@storefront-ui/vue';\nimport SvgImage from '~/components/General/SvgImage.vue';\n\nexport default defineComponent({\n  name: 'EmptyWishlist',\n  components: {\n    SfHeading,\n    SvgImage,\n  },\n});\n","import { render, staticRenderFns } from \"./EmptyWishlist.vue?vue&type=template&id=55e61430&scoped=true&\"\nimport script from \"./EmptyWishlist.vue?vue&type=script&lang=ts&\"\nexport * from \"./EmptyWishlist.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./EmptyWishlist.vue?vue&type=style&index=0&id=55e61430&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"55e61430\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/extract-css-chunks-webpack-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../../node_modules/sass-resources-loader/lib/loader.js??ref--7-oneOf-1-4!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/unplugin/dist/webpack/loaders/transform.js??ref--15-0!./WishlistSidebar.vue?vue&type=style&index=0&id=03b488d2&prod&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"wishlist\"}},[_c('SfSidebar',{staticClass:\"sidebar sf-sidebar--right\",attrs:{\"visible\":_vm.isWishlistSidebarOpen,\"button\":false,\"position\":\"right\",\"title\":_vm.$t('My wishlist')},on:{\"close\":_vm.toggleWishlistSidebar},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"heading__wrapper\"},[_c('SfHeading',{staticClass:\"sf-heading--left\",attrs:{\"level\":3,\"title\":_vm.$t('My wishlist')}}),_vm._v(\" \"),_c('SfButton',{staticClass:\"heading__close-button sf-button--pure\",attrs:{\"aria-label\":\"Wishlist sidebar close button\"},on:{\"click\":_vm.toggleWishlistSidebar}},[_c('SvgImage',{staticClass:\"heading__close\",attrs:{\"icon\":\"cross\",\"width\":\"14\",\"height\":\"14\"}})],1)],1)]},proxy:true},{key:\"content-bottom\",fn:function(){return [(_vm.isShowGoToWishlistButton)?_c('SfButton',{staticClass:\"sf-button--full-width color-secondary\",on:{\"click\":function($event){_vm.$router.push(_vm.localeRoute({ name: 'customer-my-wishlist' }))}}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('Show all products'))+\"\\n      \")]):_vm._e()]},proxy:true}])},[_vm._v(\" \"),_c('SfLoader',{attrs:{\"loading\":_vm.loading}},[(_vm.totalItems)?_c('div',{key:\"my-wishlist\",staticClass:\"my-wishlist\"},[_c('div',{staticClass:\"my-wishlist__total-items\"},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('Total items'))+\": \"),_c('strong',[_vm._v(_vm._s(_vm.totalItems))])]),_vm._v(\" \"),_c('div',{staticClass:\"collected-product-list\"},_vm._l((_vm.wishlistItems),function(wishlistItem,itemKey){return _c('SfCollectedProduct',{key:itemKey,staticClass:\"collected-product\",attrs:{\"image\":wishlistItem.product.thumbnail.url,\"title\":wishlistItem.product.name,\"regular-price\":_vm.$fc(_vm.getItemPrice(wishlistItem).regular),\"link\":_vm.getItemLink(wishlistItem),\"special-price\":_vm.getItemPrice(wishlistItem).special && _vm.$fc(_vm.getItemPrice(wishlistItem).special),\"stock\":99999},on:{\"click:remove\":function($event){return _vm.removeItem({ product: wishlistItem.product })}},scopedSlots:_vm._u([{key:\"input\",fn:function(){return [_c('div')]},proxy:true},{key:\"image\",fn:function(){return [_c('SfLink',{attrs:{\"link\":_vm.getItemLink(wishlistItem)}},[_c('SfImage',{staticClass:\"sf-collected-product__image\",attrs:{\"image-tag\":\"nuxt-img\",\"src\":_vm.getMagentoImage(wishlistItem.product.thumbnail.url),\"alt\":wishlistItem.product.name,\"width\":_vm.imageSizes.productCard.width,\"height\":_vm.imageSizes.productCard.height,\"nuxt-img-config\":{\n                    fit: 'cover',\n                  }}})],1)]},proxy:true},{key:\"configuration\",fn:function(){return [(_vm.getAttributes(wishlistItem).length > 0)?_c('div',_vm._l((_vm.getAttributes(wishlistItem)),function(attr,index){return _c('SfProperty',{key:index,attrs:{\"name\":attr.option_label,\"value\":attr.value_label}})}),1):_vm._e(),_vm._v(\" \"),(_vm.getBundles(wishlistItem).length > 0)?_c('div',_vm._l((_vm.getBundles(wishlistItem)),function(bundle,i){return _c('SfProperty',{key:i,attrs:{\"value\":bundle},scopedSlots:_vm._u([{key:\"name\",fn:function(){return [_c('div')]},proxy:true}],null,true)})}),1):_c('div')]},proxy:true},{key:\"actions\",fn:function(){return [_c('div')]},proxy:true}],null,true)})}),1)]):_c('EmptyWishlist')],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--13-0!../../../node_modules/ts-loader/index.js??ref--13-1!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/unplugin/dist/webpack/loaders/transform.js??ref--15-0!./WishlistSidebar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--13-0!../../../node_modules/ts-loader/index.js??ref--13-1!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/unplugin/dist/webpack/loaders/transform.js??ref--15-0!./WishlistSidebar.vue?vue&type=script&lang=ts&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  SfSidebar,\n  SfHeading,\n  SfButton,\n  SfProperty,\n  SfCollectedProduct,\n  SfLink,\n  SfLoader,\n  SfImage,\n} from '@storefront-ui/vue';\nimport {\n  computed,\n  defineComponent,\n  onMounted,\n  useContext,\n  useRouter,\n} from '@nuxtjs/composition-api';\nimport {\n  useUiState,\n  useImage,\n  useProduct,\n} from '~/composables';\nimport type { Price } from '~/modules/catalog/types';\nimport { useWishlist } from '~/modules/wishlist/composables/useWishlist';\nimport { useUser } from '~/modules/customer/composables/useUser';\nimport { useWishlistStore } from '~/modules/wishlist/store/wishlistStore';\nimport EmptyWishlist from '~/modules/wishlist/components/EmptyWishlist.vue';\n\nimport SvgImage from '~/components/General/SvgImage.vue';\n\nimport type { WishlistItemInterface, ConfigurableProduct, BundleProduct } from '~/modules/GraphQL/types';\n\nexport default defineComponent({\n  name: 'WishlistSidebar',\n  components: {\n    SfSidebar,\n    SfButton,\n    SfHeading,\n    SfProperty,\n    SfCollectedProduct,\n    SfLink,\n    SfLoader,\n    SfImage,\n    EmptyWishlist,\n    SvgImage,\n  },\n  setup() {\n    const { localeRoute } = useContext();\n    const router = useRouter();\n    const { isWishlistSidebarOpen, toggleWishlistSidebar } = useUiState();\n    const { getProductPath } = useProduct();\n    const {\n      removeItem, load: loadWishlist, loading,\n    } = useWishlist();\n    const { isAuthenticated } = useUser();\n    const wishlistStore = useWishlistStore();\n    const wishlistItems = computed<WishlistItemInterface[]>(\n      () => wishlistStore.wishlist?.items_v2?.items ?? [],\n    );\n\n    const getItemPrice = (product: WishlistItemInterface): Price => {\n      let regular = 0;\n      let special = null;\n\n      if (product?.product?.price_range) {\n        regular = product?.product?.price_range.minimum_price.regular_price.value;\n        const final = product?.product?.price_range.minimum_price.final_price.value;\n\n        if (final < regular) {\n          special = final;\n        }\n      }\n\n      return {\n        regular,\n        special,\n      };\n    };\n\n    const totals = computed<{ total: number, subtotal: number }>(\n      () => ((wishlistStore.wishlist?.items_v2?.items ?? []).length > 0\n        ? wishlistStore.wishlist?.items_v2?.items.reduce((acc, curr) => ({\n          total: acc.total + getItemPrice(curr).special,\n          subtotal: acc.subtotal + getItemPrice(curr).regular,\n        }), ({ total: 0, subtotal: 0 }))\n        : ({ total: 0, subtotal: 0 })),\n    );\n\n    const totalItems = computed(\n      () => wishlistStore.wishlist?.items_count ?? 0,\n    );\n\n    const getAttributes = (product: WishlistItemInterface) => (product?.product as ConfigurableProduct)?.configurable_options || [];\n    const getBundles = (product: WishlistItemInterface) => (product?.product as BundleProduct)?.items?.map((b) => b.title).flat() || [];\n    // @ts-ignore\n    const getItemLink = (item: WishlistItemInterface) => localeRoute(getProductPath(item.product));\n\n    const { getMagentoImage, imageSizes } = useImage();\n    const isShowGoToWishlistButton = computed(() => wishlistStore.wishlist.items_count > wishlistStore.wishlist?.items_v2?.items.length);\n\n    onMounted(async () => {\n      await loadWishlist({ searchParams: { pageSize: 100 } });\n    });\n\n    router.afterEach(() => {\n      if (isWishlistSidebarOpen.value) {\n        toggleWishlistSidebar();\n      }\n    });\n\n    return {\n      getAttributes,\n      getBundles,\n      getItemLink,\n      isAuthenticated,\n      isWishlistSidebarOpen,\n      wishlistItems,\n      removeItem,\n      toggleWishlistSidebar,\n      totalItems,\n      totals,\n      wishlist: wishlistStore.wishlist,\n      getMagentoImage,\n      imageSizes,\n      loading,\n      getItemPrice,\n      isShowGoToWishlistButton,\n    };\n  },\n});\n","import { render, staticRenderFns } from \"./WishlistSidebar.vue?vue&type=template&id=03b488d2&scoped=true&\"\nimport script from \"./WishlistSidebar.vue?vue&type=script&lang=ts&\"\nexport * from \"./WishlistSidebar.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./WishlistSidebar.vue?vue&type=style&index=0&id=03b488d2&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"03b488d2\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}