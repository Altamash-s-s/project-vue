(window.webpackJsonp=window.webpackJsonp||[]).push([[102],{1002:function(e,t,n){"use strict";n.r(t);var r,o=n(2),l=(n(5),n(44),n(162),n(37),n(49)),c=n(68),d=n(761),f=n(588),v=n(971),_=n(530),h=n(507),m=n(0),P=n(198),y=n(604),S=n(30),O=n(211);!function(e){e.PROCESSING="processing",e.PENDING_PAYMENT="pending_payment",e.ON_HOLD="holded",e.OPEN="open",e.PENDING="pending",e.CONFIRMED="confirmed",e.SHIPPED="shipped",e.COMPLETE="complete",e.CANCELED="canceled"}(r||(r={}));var N=Object(m.b)({name:"OrderHistory",components:{LazyHydrate:P.a,SfButton:l.a,SfLink:c.a,SfPagination:d.a,SfSelect:f.a,SfTable:v.a,SfTabs:_.a,SfLoader:h.a},setup:function(){var e=Object(O.a)().search,t=Object(m.u)(),th=Object(S.n)(),n=t.value.query,l=n.page,c=n.itemsPerPage,d=Object(m.l)(null);Object(m.t)(Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e({currentPage:Number.parseInt(l,10)||1,pageSize:Number.parseInt(c,10)||10});case 2:d.value=t.sent;case 3:case"end":return t.stop()}}),t)}))));var f=Object(m.a)((function(){return y.a.getPagination(d.value)}));return{getStatusTextClass:function(e){switch(e.status){case r.OPEN:return"text-warning";case r.COMPLETE:return"text-success";default:return""}},orderGetters:y.a,getDate:y.a.getDate,getGrandTotal:y.a.getGrandTotal,getOrderCurrency:y.a.getOrderCurrency,orders:Object(m.a)((function(){var e,t;return null!==(t=null===(e=d.value)||void 0===e?void 0:e.items)&&void 0!==t?t:[]})),rawCustomerOrders:d,pagination:f,tableHeaders:["Order ID","Payment date","Amount","Status"],th:th}}}),w=(n(786),n(9)),component=Object(w.a)(N,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("SfTabs",[n("SfTab",{attrs:{"data-cy":"order-history-tab_my-orders",title:e.$t("My orders")}},[e.$fetchState.pending?n("div",[n("SfLoader")],1):n("div",[n("p",{staticClass:"message"},[e._v("\n        "+e._s(e.$t("Details and status orders"))+"\n      ")]),e._v(" "),0===e.orders.length?n("div",{staticClass:"no-orders"},[n("p",{staticClass:"no-orders__title"},[e._v("\n          "+e._s(e.$t("You currently have no orders"))+"\n        ")]),e._v(" "),n("SfButton",{staticClass:"no-orders__button",attrs:{"data-cy":"order-history-btn_start"},on:{click:function(t){e.$router.push(e.localePath("/"))}}},[e._v("\n          "+e._s(e.$t("Start shopping"))+"\n        ")])],1):n("SfTable",{staticClass:"orders"},[n("SfTableHeading",[e._l(e.tableHeaders,(function(t){return n("SfTableHeader",{key:t},[e._v("\n            "+e._s(e.$t(t))+"\n          ")])})),e._v(" "),n("SfTableHeader",{staticClass:"orders__element--right"})],2),e._v(" "),e._l(e.orders,(function(t){return n("SfTableRow",{key:t.number},[n("SfTableData",[e._v(e._s(t.number))]),e._v(" "),n("SfTableData",[e._v(e._s(e.getDate(t)))]),e._v(" "),n("SfTableData",[e._v(e._s(e.$fc(e.getGrandTotal(t),"",{currency:e.getOrderCurrency(t)})))]),e._v(" "),n("SfTableData",[n("span",{class:e.getStatusTextClass(t)},[e._v(e._s(t.status))])]),e._v(" "),n("SfTableData",{staticClass:"orders__view orders__element--right"},[n("SfLink",{attrs:{"data-cy":"order-history-btn_view",link:e.localeRoute({name:"customer-single-order",params:{orderId:t.number}})}},[e._v("\n              "+e._s(e.$t("View details"))+"\n            ")])],1)],1)}))],2),e._v(" "),n("LazyHydrate",{attrs:{"on-interaction":""}},[e.$fetchState.pending?e._e():n("SfPagination",{directives:[{name:"show",rawName:"v-show",value:e.pagination.totalPages>1,expression:"pagination.totalPages > 1"}],staticClass:"products__pagination",attrs:{current:e.pagination.currentPage,total:e.pagination.totalPages,visible:5}})],1),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.pagination.totalPages>1,expression:"pagination.totalPages > 1"}],staticClass:"products__show-on-page"},[n("span",{staticClass:"products__show-on-page__label"},[e._v(e._s(e.$t("Show on page")))]),e._v(" "),n("LazyHydrate",{attrs:{"on-interaction":""}},[n("SfSelect",{staticClass:"products__items-per-page",attrs:{value:e.pagination.itemsPerPage.toString()},on:{input:e.th.changeItemsPerPage}},e._l(e.pagination.pageOptions,(function(option){return n("SfSelectOption",{key:option,staticClass:"products__items-per-page__option",attrs:{value:option}},[e._v("\n              "+e._s(option)+"\n            ")])})),1)],1)],1)],1)])],1)}),[],!1,null,"08158ecb",null);t.default=component.exports},488:function(e,t,n){},505:function(e,t,n){"use strict";n(488)},516:function(e,t,n){},556:function(e,t,n){"use strict";n(516)},588:function(e,t,n){"use strict";var r=n(457),o=n(460),l=(n(37),{name:"SfSelectOption",props:{value:{type:[String,Number,Object],default:""}}}),c=n(9),d=Object(c.a)(l,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("option",{staticClass:"sf-select__option",attrs:{tabindex:"0"},domProps:{value:e.value}},[e._t("default")],2)}),[],!1,null,null,null).exports;n(6).default.component("SfSelectOption",d);var f={name:"SfSelect",directives:{focus:r.a,willChange:o.a},props:{label:{type:String,default:""},required:{type:Boolean,default:!1},valid:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},errorMessage:{type:String,default:"This field is not correct."},value:{type:String,default:""},placeholder:{type:String,default:""}},methods:{changeHandler:function(e){this.$emit("input",e.target.value)}}},v=(n(505),Object(c.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"will-change",rawName:"v-will-change",value:"font-size",expression:"'font-size'"}],staticClass:"sf-select",class:{"is-selected":e.value||e.placeholder,"is-required":e.required,"is-disabled":e.disabled,"is-invalid":!e.valid}},[n("label",{staticClass:"sf-select__label will-change",attrs:{for:e.label}},[e._t("label",(function(){return[e._v("\n      "+e._s(e.label)+"\n    ")]}),{label:e.label})],2),e._v(" "),n("select",e._b({directives:[{name:"focus",rawName:"v-focus"}],staticClass:"sf-select__dropdown",attrs:{id:e.label,disabled:e.disabled,"aria-invalid":!e.valid,"aria-required":e.required,"aria-describedby":e.errorMessage?e.label+"-error":null},domProps:{value:e.value},on:{change:e.changeHandler}},"select",e.$attrs,!1),[e.placeholder?n("option",{staticClass:"sf-select__placeholder sf-select__option",attrs:{disabled:"",value:"",label:e.placeholder},domProps:{selected:!!e.placeholder}},[e._t("placeholder",null,null,{placeholder:e.placeholder}),e._v("\n      "+e._s(e.placeholder)+"\n    ")],2):e._e(),e._v(" "),e._t("default")],2),e._v(" "),n("div",{staticClass:"sf-select__error-message"},[n("transition",{attrs:{name:"sf-fade"}},[e._t("errorMessage",(function(){return[n("span",{class:{"display-none":e.valid},attrs:{id:e.label+"-error","aria-live":"assertive"}},[e._v("\n          "+e._s(e.errorMessage)+"\n        ")])]}),null,{errorMessage:e.errorMessage})],2)],1)])}),[],!1,null,null,null));t.a=v.exports},604:function(e,t,n){"use strict";n(22);var r={getDate:function(e){var t;return new Date(null===(t=null==e?void 0:e.order_date)||void 0===t?void 0:t.replace(/ /g,"T")).toLocaleDateString()},getBaseGrandTotal:function(e){var t,n,r;return null!==(r=null===(n=null===(t=null==e?void 0:e.total)||void 0===t?void 0:t.base_grand_total)||void 0===n?void 0:n.value)&&void 0!==r?r:0},getGrandTotal:function(e){var t,n;return null!==(n=null===(t=null==e?void 0:e.total)||void 0===t?void 0:t.grand_total.value)&&void 0!==n?n:0},getOrderCurrency:function(e){var t,n;return null!==(n=null===(t=null==e?void 0:e.total)||void 0===t?void 0:t.subtotal.currency)&&void 0!==n?n:"USD"},getItemPrice:function(e){var t,n;return null!==(n=null===(t=null==e?void 0:e.product_sale_price)||void 0===t?void 0:t.value)&&void 0!==n?n:0},getPagination:function(e){var t,n,r;return{currentPage:(null===(t=null==e?void 0:e.page_info)||void 0===t?void 0:t.current_page)||1,totalPages:(null===(n=null==e?void 0:e.page_info)||void 0===n?void 0:n.total_pages)||1,totalItems:(null==e?void 0:e.total_count)||0,itemsPerPage:(null===(r=null==e?void 0:e.page_info)||void 0===r?void 0:r.page_size)||10,pageOptions:[10,50,100]}}};t.a=r},664:function(e,t,n){},761:function(e,t,n){"use strict";var r=n(4),o=(n(37),n(12),n(41),n(34),n(13),n(26),n(19),n(35),n(36),n(14),n(15),n(16),n(17),n(50)),l=n(68),c=n(49);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function f(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var v={name:"SfPagination",components:{SfIcon:o.a,SfLink:l.a,SfButton:c.a},props:{total:{type:Number,default:0},visible:{type:Number,default:5},hasArrows:{type:Boolean,default:!0},current:{type:Number,default:1},pageParamName:{type:String,default:"page"}},computed:{hasRouter:function(){return this.$route},componentIs:function(){return this.hasRouter?"SfLink":"SfButton"},currentPage:function(){return this.hasRouter?this.$route.query[this.pageParamName]?parseInt(this.$route.query[this.pageParamName],10):1:this.current},getPrev:function(){return this.currentPage===this.firstVisiblePageNumber?this.currentPage:this.currentPage-1},canGoPrev:function(){return this.currentPage!==this.firstVisiblePageNumber},getNext:function(){return this.currentPage===this.lastVisiblePageNumber?this.currentPage:this.currentPage+1},canGoNext:function(){return this.currentPage!==this.lastVisiblePageNumber},showFirst:function(){return this.firstVisiblePageNumber>1},showLast:function(){return this.lastVisiblePageNumber<this.total},listOfPageNumbers:function(){return Array.from(Array(this.total),(function(e,i){return i+1}))},limitedPageNumbers:function(){return this.total<=this.visible?this.listOfPageNumbers:this.currentPage<this.visible-Math.floor(this.visible/2)+1?this.listOfPageNumbers.slice(0,this.visible):this.total-this.currentPage<this.visible-Math.ceil(this.visible/2)+1?this.listOfPageNumbers.slice(this.total-this.visible):this.listOfPageNumbers.slice(this.currentPage-Math.ceil(this.visible/2),this.currentPage+Math.floor(this.visible/2))},firstVisiblePageNumber:function(){return this.limitedPageNumbers[0]},lastVisiblePageNumber:function(){return this.limitedPageNumbers[this.limitedPageNumbers.length-1]}},methods:{go:function(e){this.$emit("click",e)},getLinkTo:function(e){var t=e.toString();return this.hasRouter?f(f({},this.$route),{},{query:f(f({},this.$route.query),{},Object(r.a)({},this.pageParamName,e))}):t}}},_=(n(556),n(9)),component=Object(_.a)(v,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nav",{staticClass:"sf-pagination"},[e._t("prev",(function(){return[n("div",{staticClass:"sf-pagination__item prev",class:{"display-none":!e.hasArrows}},[n(e.componentIs,{tag:"component",class:{"sf-button--pure":!e.hasRouter,"sf-arrow--transparent":!e.hasRouter&&!e.canGoPrev},attrs:{link:e.hasRouter?e.getLinkTo(e.getPrev):null,disabled:!e.hasRouter&&!e.canGoPrev,"aria-label":"Go to previous page","data-testid":"pagination-button-prev"},on:{click:function(t){!e.hasRouter&&e.go(e.getPrev)}}},[n("SfIcon",{attrs:{icon:"arrow_left",size:"1.125rem"}})],1)],1)]}),null,{isDisabled:!e.canGoPrev,go:e.go,prev:e.getPrev}),e._v(" "),[e._t("number",(function(){return[n(e.componentIs,{tag:"component",staticClass:"sf-pagination__item",class:{"sf-button--pure":!e.hasRouter,"display-none":!e.showFirst},attrs:{link:e.hasRouter?e.getLinkTo(1):null},on:{click:function(t){!e.hasRouter&&e.go(1)}}},[e._v("\n        1\n      ")])]}),null,{page:1}),e._v(" "),e._t("points",(function(){return[n("div",{staticClass:"sf-pagination__item",class:{"display-none":e.firstVisiblePageNumber<=2}},[e._v("\n        ...\n      ")])]}))],e._v(" "),e._l(e.limitedPageNumbers,(function(t){return[e._t("number",(function(){return[n(e.currentPage===t?"span":e.componentIs,{key:t,tag:"component",staticClass:"sf-pagination__item",class:{"sf-button--pure":!e.hasRouter&&e.currentPage!==t,current:e.currentPage===t},attrs:{link:e.hasRouter&&e.currentPage!==t?e.getLinkTo(t):null},on:{click:function(n){!e.hasRouter&&e.currentPage!==t&&e.go(t)}}},[e._v("\n        "+e._s(t)+"\n      ")])]}),null,{page:t,currentPage:e.currentPage})]})),e._v(" "),e.showLast?[e._t("points",(function(){return[n("div",{staticClass:"sf-pagination__item",class:{"display-none":e.lastVisiblePageNumber>=e.total-1}},[e._v("\n        ...\n      ")])]})),e._v(" "),e._t("number",(function(){return[n(e.componentIs,{tag:"component",staticClass:"sf-pagination__item",class:{"sf-button--pure":!e.hasRouter},attrs:{link:e.hasRouter?e.getLinkTo(e.total):null},on:{click:function(t){!e.hasRouter&&e.go(e.total)}}},[e._v("\n        "+e._s(e.total)+"\n      ")])]}),null,{page:e.total})]:e._e(),e._v(" "),e._t("next",(function(){return[n("div",{staticClass:"sf-pagination__item next",class:{"display-none":!e.hasArrows}},[n(e.componentIs,{tag:"component",class:{"sf-button--pure":!e.hasRouter,"sf-arrow--transparent":!e.hasRouter&&!e.canGoNext},attrs:{link:e.hasRouter?e.getLinkTo(e.getNext):null,disabled:!e.hasRouter&&!e.canGoNext,"aria-label":"Go to previous next","data-testid":"pagination-button-next"},on:{click:function(t){!e.hasRouter&&e.go(e.getNext)}}},[n("SfIcon",{attrs:{icon:"arrow_right",size:"1.125rem"}})],1)],1)]}),null,{isDisabled:!e.canGoNext,go:e.go,next:e.getNext})],2)}),[],!1,null,null,null);t.a=component.exports},786:function(e,t,n){"use strict";n(664)}}]);
//# sourceMappingURL=2344f91.js.map