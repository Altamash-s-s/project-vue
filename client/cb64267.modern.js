(window.webpackJsonp=window.webpackJsonp||[]).push([[101],{413:function(e,t,r){},430:function(e,t,r){"use strict";r(413)},441:function(e,t,r){},481:function(e,t,r){"use strict";r(441)},511:function(e,t,r){"use strict";var n=r(382),o=r(385),l={name:"SfSelectOption",props:{value:{type:[String,Number,Object],default:""}}},c=r(8),d=Object(c.a)(l,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("option",{staticClass:"sf-select__option",attrs:{tabindex:"0"},domProps:{value:e.value}},[e._t("default")],2)}),[],!1,null,null,null).exports;r(4).default.component("SfSelectOption",d);var v={name:"SfSelect",directives:{focus:n.a,willChange:o.a},props:{label:{type:String,default:""},required:{type:Boolean,default:!1},valid:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},errorMessage:{type:String,default:"This field is not correct."},value:{type:String,default:""},placeholder:{type:String,default:""}},methods:{changeHandler(e){this.$emit("input",e.target.value)}}},f=(r(430),Object(c.a)(v,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"will-change",rawName:"v-will-change",value:"font-size",expression:"'font-size'"}],staticClass:"sf-select",class:{"is-selected":e.value||e.placeholder,"is-required":e.required,"is-disabled":e.disabled,"is-invalid":!e.valid}},[r("label",{staticClass:"sf-select__label will-change",attrs:{for:e.label}},[e._t("label",(function(){return[e._v("\n      "+e._s(e.label)+"\n    ")]}),{label:e.label})],2),e._v(" "),r("select",e._b({directives:[{name:"focus",rawName:"v-focus"}],staticClass:"sf-select__dropdown",attrs:{id:e.label,disabled:e.disabled,"aria-invalid":!e.valid,"aria-required":e.required,"aria-describedby":e.errorMessage?e.label+"-error":null},domProps:{value:e.value},on:{change:e.changeHandler}},"select",e.$attrs,!1),[e.placeholder?r("option",{staticClass:"sf-select__placeholder sf-select__option",attrs:{disabled:"",value:"",label:e.placeholder},domProps:{selected:!!e.placeholder}},[e._t("placeholder",null,null,{placeholder:e.placeholder}),e._v("\n      "+e._s(e.placeholder)+"\n    ")],2):e._e(),e._v(" "),e._t("default")],2),e._v(" "),r("div",{staticClass:"sf-select__error-message"},[r("transition",{attrs:{name:"sf-fade"}},[e._t("errorMessage",(function(){return[r("span",{class:{"display-none":e.valid},attrs:{id:e.label+"-error","aria-live":"assertive"}},[e._v("\n          "+e._s(e.errorMessage)+"\n        ")])]}),null,{errorMessage:e.errorMessage})],2)],1)])}),[],!1,null,null,null));t.a=f.exports},527:function(e,t,r){"use strict";r(12);var n={getDate:e=>{var t;return new Date(null===(t=null==e?void 0:e.order_date)||void 0===t?void 0:t.replace(/ /g,"T")).toLocaleDateString()},getBaseGrandTotal:e=>{var t,r,n;return null!==(n=null===(r=null===(t=null==e?void 0:e.total)||void 0===t?void 0:t.base_grand_total)||void 0===r?void 0:r.value)&&void 0!==n?n:0},getGrandTotal:e=>{var t,r;return null!==(r=null===(t=null==e?void 0:e.total)||void 0===t?void 0:t.grand_total.value)&&void 0!==r?r:0},getOrderCurrency:e=>{var t,r;return null!==(r=null===(t=null==e?void 0:e.total)||void 0===t?void 0:t.subtotal.currency)&&void 0!==r?r:"USD"},getItemPrice:e=>{var t,r;return null!==(r=null===(t=null==e?void 0:e.product_sale_price)||void 0===t?void 0:t.value)&&void 0!==r?r:0},getPagination:e=>{var t,r,n;return{currentPage:(null===(t=null==e?void 0:e.page_info)||void 0===t?void 0:t.current_page)||1,totalPages:(null===(r=null==e?void 0:e.page_info)||void 0===r?void 0:r.total_pages)||1,totalItems:(null==e?void 0:e.total_count)||0,itemsPerPage:(null===(n=null==e?void 0:e.page_info)||void 0===n?void 0:n.page_size)||10,pageOptions:[10,50,100]}}};t.a=n},586:function(e,t,r){},683:function(e,t,r){"use strict";var n=r(5),o=(r(9),r(10),r(11),r(18),r(28)),l=r(44),c=r(27);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function v(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f={name:"SfPagination",components:{SfIcon:o.a,SfLink:l.a,SfButton:c.a},props:{total:{type:Number,default:0},visible:{type:Number,default:5},hasArrows:{type:Boolean,default:!0},current:{type:Number,default:1},pageParamName:{type:String,default:"page"}},computed:{hasRouter(){return this.$route},componentIs(){return this.hasRouter?"SfLink":"SfButton"},currentPage(){return this.hasRouter?this.$route.query[this.pageParamName]?parseInt(this.$route.query[this.pageParamName],10):1:this.current},getPrev(){return this.currentPage===this.firstVisiblePageNumber?this.currentPage:this.currentPage-1},canGoPrev(){return this.currentPage!==this.firstVisiblePageNumber},getNext(){return this.currentPage===this.lastVisiblePageNumber?this.currentPage:this.currentPage+1},canGoNext(){return this.currentPage!==this.lastVisiblePageNumber},showFirst(){return this.firstVisiblePageNumber>1},showLast(){return this.lastVisiblePageNumber<this.total},listOfPageNumbers(){return Array.from(Array(this.total),((e,i)=>i+1))},limitedPageNumbers(){return this.total<=this.visible?this.listOfPageNumbers:this.currentPage<this.visible-Math.floor(this.visible/2)+1?this.listOfPageNumbers.slice(0,this.visible):this.total-this.currentPage<this.visible-Math.ceil(this.visible/2)+1?this.listOfPageNumbers.slice(this.total-this.visible):this.listOfPageNumbers.slice(this.currentPage-Math.ceil(this.visible/2),this.currentPage+Math.floor(this.visible/2))},firstVisiblePageNumber(){return this.limitedPageNumbers[0]},lastVisiblePageNumber(){return this.limitedPageNumbers[this.limitedPageNumbers.length-1]}},methods:{go(e){this.$emit("click",e)},getLinkTo(e){var t=e.toString();return this.hasRouter?v(v({},this.$route),{},{query:v(v({},this.$route.query),{},{[this.pageParamName]:e})}):t}}},_=(r(481),r(8)),component=Object(_.a)(f,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("nav",{staticClass:"sf-pagination"},[e._t("prev",(function(){return[r("div",{staticClass:"sf-pagination__item prev",class:{"display-none":!e.hasArrows}},[r(e.componentIs,{tag:"component",class:{"sf-button--pure":!e.hasRouter,"sf-arrow--transparent":!e.hasRouter&&!e.canGoPrev},attrs:{link:e.hasRouter?e.getLinkTo(e.getPrev):null,disabled:!e.hasRouter&&!e.canGoPrev,"aria-label":"Go to previous page","data-testid":"pagination-button-prev"},on:{click:function(t){!e.hasRouter&&e.go(e.getPrev)}}},[r("SfIcon",{attrs:{icon:"arrow_left",size:"1.125rem"}})],1)],1)]}),null,{isDisabled:!e.canGoPrev,go:e.go,prev:e.getPrev}),e._v(" "),[e._t("number",(function(){return[r(e.componentIs,{tag:"component",staticClass:"sf-pagination__item",class:{"sf-button--pure":!e.hasRouter,"display-none":!e.showFirst},attrs:{link:e.hasRouter?e.getLinkTo(1):null},on:{click:function(t){!e.hasRouter&&e.go(1)}}},[e._v("\n        1\n      ")])]}),null,{page:1}),e._v(" "),e._t("points",(function(){return[r("div",{staticClass:"sf-pagination__item",class:{"display-none":e.firstVisiblePageNumber<=2}},[e._v("\n        ...\n      ")])]}))],e._v(" "),e._l(e.limitedPageNumbers,(function(t){return[e._t("number",(function(){return[r(e.currentPage===t?"span":e.componentIs,{key:t,tag:"component",staticClass:"sf-pagination__item",class:{"sf-button--pure":!e.hasRouter&&e.currentPage!==t,current:e.currentPage===t},attrs:{link:e.hasRouter&&e.currentPage!==t?e.getLinkTo(t):null},on:{click:function(r){!e.hasRouter&&e.currentPage!==t&&e.go(t)}}},[e._v("\n        "+e._s(t)+"\n      ")])]}),null,{page:t,currentPage:e.currentPage})]})),e._v(" "),e.showLast?[e._t("points",(function(){return[r("div",{staticClass:"sf-pagination__item",class:{"display-none":e.lastVisiblePageNumber>=e.total-1}},[e._v("\n        ...\n      ")])]})),e._v(" "),e._t("number",(function(){return[r(e.componentIs,{tag:"component",staticClass:"sf-pagination__item",class:{"sf-button--pure":!e.hasRouter},attrs:{link:e.hasRouter?e.getLinkTo(e.total):null},on:{click:function(t){!e.hasRouter&&e.go(e.total)}}},[e._v("\n        "+e._s(e.total)+"\n      ")])]}),null,{page:e.total})]:e._e(),e._v(" "),e._t("next",(function(){return[r("div",{staticClass:"sf-pagination__item next",class:{"display-none":!e.hasArrows}},[r(e.componentIs,{tag:"component",class:{"sf-button--pure":!e.hasRouter,"sf-arrow--transparent":!e.hasRouter&&!e.canGoNext},attrs:{link:e.hasRouter?e.getLinkTo(e.getNext):null,disabled:!e.hasRouter&&!e.canGoNext,"aria-label":"Go to previous next","data-testid":"pagination-button-next"},on:{click:function(t){!e.hasRouter&&e.go(e.getNext)}}},[r("SfIcon",{attrs:{icon:"arrow_right",size:"1.125rem"}})],1)],1)]}),null,{isDisabled:!e.canGoNext,go:e.go,next:e.getNext})],2)}),[],!1,null,null,null);t.a=component.exports},708:function(e,t,r){"use strict";r(586)},916:function(e,t,r){"use strict";r.r(t);var n,o=r(2),l=(r(23),r(27)),c=r(44),d=r(683),v=r(511),f=r(887),_=r(455),h=r(432),m=r(0),P=r(143),y=r(527),S=r(15),O=r(154);!function(e){e.PROCESSING="processing",e.PENDING_PAYMENT="pending_payment",e.ON_HOLD="holded",e.OPEN="open",e.PENDING="pending",e.CONFIRMED="confirmed",e.SHIPPED="shipped",e.COMPLETE="complete",e.CANCELED="canceled"}(n||(n={}));var N=Object(m.b)({name:"OrderHistory",components:{LazyHydrate:P.a,SfButton:l.a,SfLink:c.a,SfPagination:d.a,SfSelect:v.a,SfTable:f.a,SfTabs:_.a,SfLoader:h.a},setup(){var{search:e}=Object(O.a)(),t=Object(m.u)(),th=Object(S.n)(),{query:{page:r,itemsPerPage:l}}=t.value,c=Object(m.l)(null);Object(m.t)(Object(o.a)((function*(){c.value=yield e({currentPage:Number.parseInt(r,10)||1,pageSize:Number.parseInt(l,10)||10})})));var d=Object(m.a)((()=>y.a.getPagination(c.value)));return{getStatusTextClass:e=>{switch(e.status){case n.OPEN:return"text-warning";case n.COMPLETE:return"text-success";default:return""}},orderGetters:y.a,getDate:y.a.getDate,getGrandTotal:y.a.getGrandTotal,getOrderCurrency:y.a.getOrderCurrency,orders:Object(m.a)((()=>{var e,t;return null!==(t=null===(e=c.value)||void 0===e?void 0:e.items)&&void 0!==t?t:[]})),rawCustomerOrders:c,pagination:d,tableHeaders:["Order ID","Payment date","Amount","Status"],th:th}}}),w=(r(708),r(8)),component=Object(w.a)(N,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("SfTabs",[r("SfTab",{attrs:{"data-cy":"order-history-tab_my-orders",title:e.$t("My orders")}},[e.$fetchState.pending?r("div",[r("SfLoader")],1):r("div",[r("p",{staticClass:"message"},[e._v("\n        "+e._s(e.$t("Details and status orders"))+"\n      ")]),e._v(" "),0===e.orders.length?r("div",{staticClass:"no-orders"},[r("p",{staticClass:"no-orders__title"},[e._v("\n          "+e._s(e.$t("You currently have no orders"))+"\n        ")]),e._v(" "),r("SfButton",{staticClass:"no-orders__button",attrs:{"data-cy":"order-history-btn_start"},on:{click:function(t){e.$router.push(e.localePath("/"))}}},[e._v("\n          "+e._s(e.$t("Start shopping"))+"\n        ")])],1):r("SfTable",{staticClass:"orders"},[r("SfTableHeading",[e._l(e.tableHeaders,(function(t){return r("SfTableHeader",{key:t},[e._v("\n            "+e._s(e.$t(t))+"\n          ")])})),e._v(" "),r("SfTableHeader",{staticClass:"orders__element--right"})],2),e._v(" "),e._l(e.orders,(function(t){return r("SfTableRow",{key:t.number},[r("SfTableData",[e._v(e._s(t.number))]),e._v(" "),r("SfTableData",[e._v(e._s(e.getDate(t)))]),e._v(" "),r("SfTableData",[e._v(e._s(e.$fc(e.getGrandTotal(t),"",{currency:e.getOrderCurrency(t)})))]),e._v(" "),r("SfTableData",[r("span",{class:e.getStatusTextClass(t)},[e._v(e._s(t.status))])]),e._v(" "),r("SfTableData",{staticClass:"orders__view orders__element--right"},[r("SfLink",{attrs:{"data-cy":"order-history-btn_view",link:e.localeRoute({name:"customer-single-order",params:{orderId:t.number}})}},[e._v("\n              "+e._s(e.$t("View details"))+"\n            ")])],1)],1)}))],2),e._v(" "),r("LazyHydrate",{attrs:{"on-interaction":""}},[e.$fetchState.pending?e._e():r("SfPagination",{directives:[{name:"show",rawName:"v-show",value:e.pagination.totalPages>1,expression:"pagination.totalPages > 1"}],staticClass:"products__pagination",attrs:{current:e.pagination.currentPage,total:e.pagination.totalPages,visible:5}})],1),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.pagination.totalPages>1,expression:"pagination.totalPages > 1"}],staticClass:"products__show-on-page"},[r("span",{staticClass:"products__show-on-page__label"},[e._v(e._s(e.$t("Show on page")))]),e._v(" "),r("LazyHydrate",{attrs:{"on-interaction":""}},[r("SfSelect",{staticClass:"products__items-per-page",attrs:{value:e.pagination.itemsPerPage.toString()},on:{input:e.th.changeItemsPerPage}},e._l(e.pagination.pageOptions,(function(option){return r("SfSelectOption",{key:option,staticClass:"products__items-per-page__option",attrs:{value:option}},[e._v("\n              "+e._s(option)+"\n            ")])})),1)],1)],1)],1)])],1)}),[],!1,null,"08158ecb",null);t.default=component.exports}}]);
//# sourceMappingURL=cb64267.modern.js.map